{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nrequire('reflect-metadata');\nconst {\n  NestFactory\n} = require('@nestjs/core');\nconst {\n  AppModule\n} = require('./app.module');\nconst crypto = require('crypto');\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.enableCors({\n    origin: ['http://localhost:3000', 'http://localhost:3001'],\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n    credentials: true,\n    allowedHeaders: ['Content-Type', 'Authorization']\n  });\n  const expressApp = app.getHttpAdapter().getInstance();\n  expressApp.use(require('express').json());\n  expressApp.use(require('express').urlencoded({\n    extended: true\n  }));\n  const {\n    DATABASE_POOL\n  } = require('./database.module');\n  const pool = app.get(DATABASE_POOL);\n  const memory = {\n    users: []\n  };\n  const rateStore = new Map();\n  function rateLimit({\n    windowMs,\n    max\n  }) {\n    return (req, res, next) => {\n      const key = `${req.ip}`;\n      const now = Date.now();\n      const rec = rateStore.get(key) || {\n        count: 0,\n        start: now\n      };\n      if (now - rec.start > windowMs) {\n        rec.count = 0;\n        rec.start = now;\n      }\n      rec.count += 1;\n      rateStore.set(key, rec);\n      if (rec.count > max) return res.status(429).json({\n        error: 'Too Many Requests'\n      });\n      next();\n    };\n  }\n  expressApp.use(rateLimit({\n    windowMs: 60 * 1000,\n    max: 300\n  }));\n  expressApp.use('/auth', rateLimit({\n    windowMs: 60 * 1000,\n    max: 20\n  }));\n  async function ensureUser({\n    name,\n    email,\n    role,\n    password\n  }) {\n    try {\n      const check = await pool.query('SELECT id FROM users WHERE email=$1', [email]);\n      if (check.rows && check.rows.length) return;\n      const salt = crypto.randomBytes(16).toString('hex');\n      const hash = hashPassword(password, salt);\n      try {\n        await pool.query('INSERT INTO users(name, email, role, password_hash, password_salt) VALUES($1, $2, $3, $4, $5)', [name, email, role, hash, salt]);\n      } catch (_) {\n        const id = memory.users.length + 1;\n        memory.users.push({\n          id,\n          name,\n          email,\n          role,\n          password_hash: hash,\n          password_salt: salt\n        });\n      }\n    } catch (_) {\n      const salt = crypto.randomBytes(16).toString('hex');\n      const hash = hashPassword(password, salt);\n      const id = memory.users.length + 1;\n      memory.users.push({\n        id,\n        name,\n        email,\n        role,\n        password_hash: hash,\n        password_salt: salt\n      });\n    }\n  }\n  await ensureUser({\n    name: 'Alice',\n    email: 'alice@example.com',\n    role: 'customer',\n    password: 'pass1234'\n  });\n  await ensureUser({\n    name: 'Admin Bob',\n    email: 'admin@example.com',\n    role: 'admin',\n    password: 'admin1234'\n  });\n  async function ensureProduct({\n    name,\n    price,\n    unit\n  }) {\n    try {\n      const check = await pool.query('SELECT id FROM products WHERE name=$1', [name]);\n      if (check.rows && check.rows.length) return;\n      await pool.query('INSERT INTO products(name, price, unit) VALUES($1, $2, $3)', [name, price, unit]);\n    } catch (e) {\n      console.error('Seeding product failed', e.message);\n    }\n  }\n  await ensureProduct({\n    name: 'Organic Carrots',\n    price: 2.99,\n    unit: 'bunch'\n  });\n  await ensureProduct({\n    name: 'Free-range Eggs',\n    price: 6.49,\n    unit: 'dozen'\n  });\n  await ensureProduct({\n    name: 'Sourdough Bread',\n    price: 5.99,\n    unit: 'loaf'\n  });\n  await ensureProduct({\n    name: 'Grass-fed Beef',\n    price: 12.99,\n    unit: 'lb'\n  });\n  await ensureProduct({\n    name: 'Wildflower Honey',\n    price: 10.99,\n    unit: 'jar'\n  });\n  await ensureProduct({\n    name: 'Fresh Spinach',\n    price: 3.49,\n    unit: 'bag'\n  });\n  function hashPassword(password, salt) {\n    return crypto.pbkdf2Sync(password, salt, 100000, 32, 'sha256').toString('hex');\n  }\n  function createToken(payload) {\n    const secret = process.env.JWT_SECRET || 'dev_secret';\n    const header = Buffer.from(JSON.stringify({\n      alg: 'HS256',\n      typ: 'JWT'\n    })).toString('base64url');\n    const body = Buffer.from(JSON.stringify(payload)).toString('base64url');\n    const sig = crypto.createHmac('sha256', secret).update(`${header}.${body}`).digest('base64url');\n    return `${header}.${body}.${sig}`;\n  }\n  function verifyToken(token) {\n    try {\n      const [header, body, sig] = token.split('.');\n      const secret = process.env.JWT_SECRET || 'dev_secret';\n      const expected = crypto.createHmac('sha256', secret).update(`${header}.${body}`).digest('base64url');\n      if (expected !== sig) return null;\n      const payload = JSON.parse(Buffer.from(body, 'base64url').toString('utf8'));\n      if (payload.exp && Date.now() > payload.exp) return null;\n      return payload;\n    } catch (_) {\n      return null;\n    }\n  }\n\n  // Attach user to request from Authorization header if present\n  expressApp.use((req, _res, next) => {\n    const h = req.headers['authorization'] || req.headers['Authorization'];\n    if (typeof h === 'string' && h.startsWith('Bearer ')) {\n      const tok = h.slice(7);\n      const payload = verifyToken(tok);\n      if (payload) req.user = {\n        id: payload.userId,\n        role: payload.role,\n        email: payload.email\n      };\n    }\n    next();\n  });\n  function requireAuth(req, res, next) {\n    if (!req.user) return res.status(401).json({\n      error: 'Unauthorized'\n    });\n    next();\n  }\n  function requireRole(role) {\n    return (req, res, next) => {\n      if (!req.user || req.user.role !== role) return res.status(403).json({\n        error: 'Forbidden'\n      });\n      next();\n    };\n  }\n  function paginate(req) {\n    const page = Math.max(parseInt(req.query.page || '1', 10) || 1, 1);\n    const limit = Math.min(Math.max(parseInt(req.query.limit || '50', 10) || 50, 1), 200);\n    const offset = (page - 1) * limit;\n    return {\n      limit,\n      offset\n    };\n  }\n  const ORDER_STATUSES = ['pending', 'paid', 'delivered'];\n  const PAYMENT_METHODS = ['cod', 'card', 'wallet'];\n  const PAYMENT_STATUSES = ['pending', 'paid', 'failed'];\n  const DELIVERY_STATUSES = ['preparing', 'out_for_delivery', 'delivered'];\n  expressApp.post('/auth/register', async (req, res) => {\n    try {\n      let {\n        name,\n        email,\n        password,\n        role\n      } = req.body || {};\n      name = (name || '').trim();\n      email = (email || '').toLowerCase().trim();\n      password = (password || '').trim();\n      role = (role || '').trim().toLowerCase() === 'admin' ? 'admin' : 'customer';\n      if (!email || !password || !name || !role) return res.status(400).json({\n        error: 'Missing fields'\n      });\n      const r0 = await pool.query('SELECT id FROM users WHERE email=$1', [email]);\n      if (r0.rows && r0.rows.length) return res.status(409).json({\n        error: 'Email already registered'\n      });\n      const salt = crypto.randomBytes(16).toString('hex');\n      const hash = hashPassword(password, salt);\n      try {\n        const r = await pool.query('INSERT INTO users(name, email, role, password_hash, password_salt) VALUES($1, $2, $3, $4, $5) RETURNING id, name, email, role', [name, email, role === 'admin' ? 'admin' : 'customer', hash, salt]);\n        const user = r.rows[0];\n        const token = createToken({\n          userId: user.id,\n          role: user.role,\n          email: user.email,\n          exp: Date.now() + 24 * 3600 * 1000\n        });\n        res.json({\n          user,\n          token\n        });\n      } catch (e) {\n        const id = memory.users.length + 1;\n        const user = {\n          id,\n          name,\n          email,\n          role: role === 'admin' ? 'admin' : 'customer'\n        };\n        memory.users.push({\n          ...user,\n          password_hash: hash,\n          password_salt: salt\n        });\n        const token = createToken({\n          userId: user.id,\n          role: user.role,\n          email: user.email,\n          exp: Date.now() + 24 * 3600 * 1000\n        });\n        res.json({\n          user,\n          token,\n          note: 'memory'\n        });\n      }\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/auth/login', async (req, res) => {\n    try {\n      let {\n        email,\n        password,\n        role\n      } = req.body || {};\n      email = (email || '').toLowerCase().trim();\n      password = (password || '').trim();\n      role = (role || '').trim().toLowerCase() === 'admin' ? 'admin' : 'customer';\n      if (!email || !password || !role) return res.status(400).json({\n        error: 'Missing fields'\n      });\n      let r;\n      try {\n        r = await pool.query('SELECT id, name, email, role, password_hash, password_salt FROM users WHERE email=$1', [email]);\n      } catch (_) {\n        r = {\n          rows: []\n        };\n      }\n      let row = r.rows && r.rows[0];\n      if (!row) {\n        row = memory.users.find(u => u.email === email);\n        if (!row) return res.status(401).json({\n          error: 'Invalid credentials'\n        });\n      }\n      if ((row.role || role) !== role) return res.status(403).json({\n        error: 'Role mismatch'\n      });\n      const ok = row.password_hash && row.password_salt && hashPassword(password, row.password_salt) === row.password_hash;\n      if (!ok) return res.status(401).json({\n        error: 'Invalid credentials'\n      });\n      const user = {\n        id: row.id,\n        name: row.name,\n        email: row.email,\n        role: row.role || role\n      };\n      const token = createToken({\n        userId: user.id,\n        role: user.role,\n        email: user.email,\n        exp: Date.now() + 24 * 3600 * 1000\n      });\n      res.json({\n        user,\n        token\n      });\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/users', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const r = await pool.query('SELECT id, name, email FROM users ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/users', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        name,\n        email\n      } = req.body;\n      if (!name || !email) return res.status(400).json({\n        error: 'Name and email are required'\n      });\n      const r = await pool.query('INSERT INTO users(name, email) VALUES($1, $2) RETURNING id, name, email', [name, email]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/products', async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const q = (req.query.q || '').toString().toLowerCase();\n      if (q) {\n        const r = await pool.query('SELECT id, name, price, unit FROM products WHERE LOWER(name) LIKE $1 ORDER BY id LIMIT $2 OFFSET $3', [`%${q}%`, limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT id, name, price, unit FROM products ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/products', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        name,\n        price,\n        unit\n      } = req.body;\n      const p = Number(price);\n      if (!name || !unit || Number.isNaN(p) || p <= 0) return res.status(400).json({\n        error: 'Invalid product fields'\n      });\n      const r = await pool.query('INSERT INTO products(name, price, unit) VALUES($1, $2, $3) RETURNING id, name, price, unit', [name, price, unit]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/orders', requireAuth, async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      if (req.user.role === 'admin') {\n        const r = await pool.query('SELECT id, user_id, total_amount, status FROM orders ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT id, user_id, total_amount, status FROM orders WHERE user_id=$1 ORDER BY id LIMIT $2 OFFSET $3', [req.user.id, limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/orders', requireAuth, async (req, res) => {\n    try {\n      const {\n        user_id,\n        total_amount,\n        status\n      } = req.body;\n      const amt = Number(total_amount);\n      const stat = (status || 'pending').toLowerCase();\n      if (Number.isNaN(amt) || amt <= 0) return res.status(400).json({\n        error: 'Invalid amount'\n      });\n      if (!ORDER_STATUSES.includes(stat)) return res.status(400).json({\n        error: 'Invalid status'\n      });\n      const uid = user_id || req.user.id;\n      const r = await pool.query('INSERT INTO orders(user_id, total_amount, status) VALUES($1, $2, $3) RETURNING id, user_id, total_amount, status', [uid, amt, stat]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/suppliers', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const q = (req.query.q || '').toString().toLowerCase();\n      if (q) {\n        const r = await pool.query('SELECT id, name, contact FROM suppliers WHERE LOWER(name) LIKE $1 OR LOWER(contact) LIKE $1 ORDER BY id LIMIT $2 OFFSET $3', [`%${q}%`, limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT id, name, contact FROM suppliers ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/suppliers', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        name,\n        contact\n      } = req.body;\n      if (!name) return res.status(400).json({\n        error: 'Name is required'\n      });\n      const r = await pool.query('INSERT INTO suppliers(name, contact) VALUES($1, $2) RETURNING id, name, contact', [name, contact]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/inventory', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const q = (req.query.q || '').toString().toLowerCase();\n      if (q) {\n        const r = await pool.query('SELECT i.id, i.product_id, p.name as product_name, i.quantity, i.location FROM inventory i LEFT JOIN products p ON p.id=i.product_id WHERE LOWER(p.name) LIKE $1 OR LOWER(i.location) LIKE $1 ORDER BY i.id LIMIT $2 OFFSET $3', [`%${q}%`, limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT i.id, i.product_id, p.name as product_name, i.quantity, i.location FROM inventory i LEFT JOIN products p ON p.id=i.product_id ORDER BY i.id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/inventory', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        product_id,\n        quantity,\n        location\n      } = req.body;\n      const pid = parseInt(product_id, 10);\n      const qty = Number(quantity);\n      if (!pid || Number.isNaN(qty)) return res.status(400).json({\n        error: 'Invalid inventory fields'\n      });\n      const existing = await pool.query('SELECT id FROM inventory WHERE product_id=$1', [product_id]);\n      if (existing.rows.length) {\n        const r = await pool.query('UPDATE inventory SET quantity=$1, location=$2 WHERE product_id=$3 RETURNING id, product_id, quantity, location', [quantity, location, product_id]);\n        res.json(r.rows[0]);\n      } else {\n        const r = await pool.query('INSERT INTO inventory(product_id, quantity, location) VALUES($1, $2, $3) RETURNING id, product_id, quantity, location', [product_id, quantity, location]);\n        res.json(r.rows[0]);\n      }\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/deliveries', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const r = await pool.query('SELECT id, order_id, status, eta FROM deliveries ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/deliveries', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        order_id,\n        status,\n        eta\n      } = req.body;\n      const oid = parseInt(order_id, 10);\n      const st = (status || 'preparing').toLowerCase();\n      if (!oid || !DELIVERY_STATUSES.includes(st)) return res.status(400).json({\n        error: 'Invalid delivery fields'\n      });\n      const r = await pool.query('INSERT INTO deliveries(order_id, status, eta) VALUES($1, $2, $3) RETURNING id, order_id, status, eta', [oid, st, eta || null]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/payments', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const r = await pool.query('SELECT id, order_id, amount, method, status FROM payments ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/payments', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        order_id,\n        amount,\n        method,\n        status\n      } = req.body;\n      const oid = parseInt(order_id, 10);\n      const amt = Number(amount);\n      const m = (method || 'cod').toLowerCase();\n      const st = (status || 'pending').toLowerCase();\n      if (!oid || Number.isNaN(amt) || amt <= 0) return res.status(400).json({\n        error: 'Invalid amount'\n      });\n      if (!PAYMENT_METHODS.includes(m) || !PAYMENT_STATUSES.includes(st)) return res.status(400).json({\n        error: 'Invalid payment fields'\n      });\n      const r = await pool.query('INSERT INTO payments(order_id, amount, method, status) VALUES($1, $2, $3, $4) RETURNING id, order_id, amount, method, status', [oid, amt, m, st]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/reports/summary', requireRole('admin'), async (req, res) => {\n    try {\n      const users = await pool.query('SELECT COUNT(*)::int as count FROM users');\n      const products = await pool.query('SELECT COUNT(*)::int as count FROM products');\n      const orders = await pool.query('SELECT COUNT(*)::int as count FROM orders');\n      const payments = await pool.query('SELECT COUNT(*)::int as count FROM payments');\n      res.json({\n        users: users.rows[0].count,\n        products: products.rows[0].count,\n        orders: orders.rows[0].count,\n        payments: payments.rows[0].count\n      });\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.get('/notifications', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        limit,\n        offset\n      } = paginate(req);\n      const r = await pool.query('SELECT id, user_id, message, status, created_at FROM notifications ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  expressApp.post('/notifications', requireRole('admin'), async (req, res) => {\n    try {\n      const {\n        user_id,\n        message,\n        status\n      } = req.body;\n      const st = (status || 'queued').toLowerCase();\n      if (!message || st && !['queued', 'sent', 'failed'].includes(st)) return res.status(400).json({\n        error: 'Invalid notification fields'\n      });\n      const r = await pool.query('INSERT INTO notifications(user_id, message, status) VALUES($1, $2, $3) RETURNING id, user_id, message, status, created_at', [user_id || null, message, st]);\n      res.json(r.rows[0]);\n    } catch (e) {\n      res.status(500).json({\n        error: e.message\n      });\n    }\n  });\n  await app.listen(4000);\n}\nbootstrap();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiTmVzdEZhY3RvcnkiLCJBcHBNb2R1bGUiLCJjcnlwdG8iLCJib290c3RyYXAiLCJhcHAiLCJjcmVhdGUiLCJlbmFibGVDb3JzIiwib3JpZ2luIiwibWV0aG9kcyIsImNyZWRlbnRpYWxzIiwiYWxsb3dlZEhlYWRlcnMiLCJleHByZXNzQXBwIiwiZ2V0SHR0cEFkYXB0ZXIiLCJnZXRJbnN0YW5jZSIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJEQVRBQkFTRV9QT09MIiwicG9vbCIsImdldCIsIm1lbW9yeSIsInVzZXJzIiwicmF0ZVN0b3JlIiwiTWFwIiwicmF0ZUxpbWl0Iiwid2luZG93TXMiLCJtYXgiLCJyZXEiLCJyZXMiLCJuZXh0Iiwia2V5IiwiaXAiLCJub3ciLCJEYXRlIiwicmVjIiwiY291bnQiLCJzdGFydCIsInNldCIsInN0YXR1cyIsImVycm9yIiwiZW5zdXJlVXNlciIsIm5hbWUiLCJlbWFpbCIsInJvbGUiLCJwYXNzd29yZCIsImNoZWNrIiwicXVlcnkiLCJyb3dzIiwibGVuZ3RoIiwic2FsdCIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJoYXNoIiwiaGFzaFBhc3N3b3JkIiwiXyIsImlkIiwicHVzaCIsInBhc3N3b3JkX2hhc2giLCJwYXNzd29yZF9zYWx0IiwiZW5zdXJlUHJvZHVjdCIsInByaWNlIiwidW5pdCIsImUiLCJjb25zb2xlIiwibWVzc2FnZSIsInBia2RmMlN5bmMiLCJjcmVhdGVUb2tlbiIsInBheWxvYWQiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImhlYWRlciIsIkJ1ZmZlciIsImZyb20iLCJKU09OIiwic3RyaW5naWZ5IiwiYWxnIiwidHlwIiwiYm9keSIsInNpZyIsImNyZWF0ZUhtYWMiLCJ1cGRhdGUiLCJkaWdlc3QiLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwic3BsaXQiLCJleHBlY3RlZCIsInBhcnNlIiwiZXhwIiwiX3JlcyIsImgiLCJoZWFkZXJzIiwic3RhcnRzV2l0aCIsInRvayIsInNsaWNlIiwidXNlciIsInVzZXJJZCIsInJlcXVpcmVBdXRoIiwicmVxdWlyZVJvbGUiLCJwYWdpbmF0ZSIsInBhZ2UiLCJNYXRoIiwicGFyc2VJbnQiLCJsaW1pdCIsIm1pbiIsIm9mZnNldCIsIk9SREVSX1NUQVRVU0VTIiwiUEFZTUVOVF9NRVRIT0RTIiwiUEFZTUVOVF9TVEFUVVNFUyIsIkRFTElWRVJZX1NUQVRVU0VTIiwicG9zdCIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsInIwIiwiciIsIm5vdGUiLCJyb3ciLCJmaW5kIiwidSIsIm9rIiwicSIsInAiLCJOdW1iZXIiLCJpc05hTiIsInVzZXJfaWQiLCJ0b3RhbF9hbW91bnQiLCJhbXQiLCJzdGF0IiwiaW5jbHVkZXMiLCJ1aWQiLCJjb250YWN0IiwicHJvZHVjdF9pZCIsInF1YW50aXR5IiwibG9jYXRpb24iLCJwaWQiLCJxdHkiLCJleGlzdGluZyIsIm9yZGVyX2lkIiwiZXRhIiwib2lkIiwic3QiLCJhbW91bnQiLCJtZXRob2QiLCJtIiwicHJvZHVjdHMiLCJvcmRlcnMiLCJwYXltZW50cyIsImxpc3RlbiJdLCJzb3VyY2VSb290IjoiRDpcXEltcG9ydGFudCBEb2N1bWVudHNcXEZTV0QgUHJvamVjdFxcc2VydmVyXFxzcmNcXCIsInNvdXJjZXMiOlsibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdyZWZsZWN0LW1ldGFkYXRhJyk7XG5jb25zdCB7IE5lc3RGYWN0b3J5IH0gPSByZXF1aXJlKCdAbmVzdGpzL2NvcmUnKTtcbmNvbnN0IHsgQXBwTW9kdWxlIH0gPSByZXF1aXJlKCcuL2FwcC5tb2R1bGUnKTtcbmNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXG5hc3luYyBmdW5jdGlvbiBib290c3RyYXAoKSB7XG4gIGNvbnN0IGFwcCA9IGF3YWl0IE5lc3RGYWN0b3J5LmNyZWF0ZShBcHBNb2R1bGUpO1xuICBhcHAuZW5hYmxlQ29ycyh7XG4gICAgb3JpZ2luOiBbJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsICdodHRwOi8vbG9jYWxob3N0OjMwMDEnXSxcbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnLCAnT1BUSU9OUyddLFxuICAgIGNyZWRlbnRpYWxzOiB0cnVlLFxuICAgIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJ11cbiAgfSk7XG4gIGNvbnN0IGV4cHJlc3NBcHAgPSBhcHAuZ2V0SHR0cEFkYXB0ZXIoKS5nZXRJbnN0YW5jZSgpO1xuICBleHByZXNzQXBwLnVzZShyZXF1aXJlKCdleHByZXNzJykuanNvbigpKTtcbiAgZXhwcmVzc0FwcC51c2UocmVxdWlyZSgnZXhwcmVzcycpLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gIGNvbnN0IHsgREFUQUJBU0VfUE9PTCB9ID0gcmVxdWlyZSgnLi9kYXRhYmFzZS5tb2R1bGUnKTtcbiAgY29uc3QgcG9vbCA9IGFwcC5nZXQoREFUQUJBU0VfUE9PTCk7XG4gIGNvbnN0IG1lbW9yeSA9IHsgdXNlcnM6IFtdIH07XG5cbiAgY29uc3QgcmF0ZVN0b3JlID0gbmV3IE1hcCgpO1xuICBmdW5jdGlvbiByYXRlTGltaXQoeyB3aW5kb3dNcywgbWF4IH0pIHtcbiAgICByZXR1cm4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBgJHtyZXEuaXB9YDtcbiAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZWMgPSByYXRlU3RvcmUuZ2V0KGtleSkgfHwgeyBjb3VudDogMCwgc3RhcnQ6IG5vdyB9O1xuICAgICAgaWYgKG5vdyAtIHJlYy5zdGFydCA+IHdpbmRvd01zKSB7IHJlYy5jb3VudCA9IDA7IHJlYy5zdGFydCA9IG5vdzsgfVxuICAgICAgcmVjLmNvdW50ICs9IDE7XG4gICAgICByYXRlU3RvcmUuc2V0KGtleSwgcmVjKTtcbiAgICAgIGlmIChyZWMuY291bnQgPiBtYXgpIHJldHVybiByZXMuc3RhdHVzKDQyOSkuanNvbih7IGVycm9yOiAnVG9vIE1hbnkgUmVxdWVzdHMnIH0pO1xuICAgICAgbmV4dCgpO1xuICAgIH07XG4gIH1cbiAgZXhwcmVzc0FwcC51c2UocmF0ZUxpbWl0KHsgd2luZG93TXM6IDYwICogMTAwMCwgbWF4OiAzMDAgfSkpO1xuICBleHByZXNzQXBwLnVzZSgnL2F1dGgnLCByYXRlTGltaXQoeyB3aW5kb3dNczogNjAgKiAxMDAwLCBtYXg6IDIwIH0pKTtcblxuICBhc3luYyBmdW5jdGlvbiBlbnN1cmVVc2VyKHsgbmFtZSwgZW1haWwsIHJvbGUsIHBhc3N3b3JkIH0pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2hlY2sgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgaWQgRlJPTSB1c2VycyBXSEVSRSBlbWFpbD0kMScsIFtlbWFpbF0pO1xuICAgICAgaWYgKGNoZWNrLnJvd3MgJiYgY2hlY2sucm93cy5sZW5ndGgpIHJldHVybjtcbiAgICAgIGNvbnN0IHNhbHQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgIGNvbnN0IGhhc2ggPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQsIHNhbHQpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcG9vbC5xdWVyeShcbiAgICAgICAgICAnSU5TRVJUIElOVE8gdXNlcnMobmFtZSwgZW1haWwsIHJvbGUsIHBhc3N3b3JkX2hhc2gsIHBhc3N3b3JkX3NhbHQpIFZBTFVFUygkMSwgJDIsICQzLCAkNCwgJDUpJyxcbiAgICAgICAgICBbbmFtZSwgZW1haWwsIHJvbGUsIGhhc2gsIHNhbHRdXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgIGNvbnN0IGlkID0gbWVtb3J5LnVzZXJzLmxlbmd0aCArIDE7XG4gICAgICAgIG1lbW9yeS51c2Vycy5wdXNoKHsgaWQsIG5hbWUsIGVtYWlsLCByb2xlLCBwYXNzd29yZF9oYXNoOiBoYXNoLCBwYXNzd29yZF9zYWx0OiBzYWx0IH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIGNvbnN0IHNhbHQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgIGNvbnN0IGhhc2ggPSBoYXNoUGFzc3dvcmQocGFzc3dvcmQsIHNhbHQpO1xuICAgICAgY29uc3QgaWQgPSBtZW1vcnkudXNlcnMubGVuZ3RoICsgMTtcbiAgICAgIG1lbW9yeS51c2Vycy5wdXNoKHsgaWQsIG5hbWUsIGVtYWlsLCByb2xlLCBwYXNzd29yZF9oYXNoOiBoYXNoLCBwYXNzd29yZF9zYWx0OiBzYWx0IH0pO1xuICAgIH1cbiAgfVxuXG4gIGF3YWl0IGVuc3VyZVVzZXIoeyBuYW1lOiAnQWxpY2UnLCBlbWFpbDogJ2FsaWNlQGV4YW1wbGUuY29tJywgcm9sZTogJ2N1c3RvbWVyJywgcGFzc3dvcmQ6ICdwYXNzMTIzNCcgfSk7XG4gIGF3YWl0IGVuc3VyZVVzZXIoeyBuYW1lOiAnQWRtaW4gQm9iJywgZW1haWw6ICdhZG1pbkBleGFtcGxlLmNvbScsIHJvbGU6ICdhZG1pbicsIHBhc3N3b3JkOiAnYWRtaW4xMjM0JyB9KTtcblxuICBhc3luYyBmdW5jdGlvbiBlbnN1cmVQcm9kdWN0KHsgbmFtZSwgcHJpY2UsIHVuaXQgfSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjaGVjayA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpZCBGUk9NIHByb2R1Y3RzIFdIRVJFIG5hbWU9JDEnLCBbbmFtZV0pO1xuICAgICAgaWYgKGNoZWNrLnJvd3MgJiYgY2hlY2sucm93cy5sZW5ndGgpIHJldHVybjtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0lOU0VSVCBJTlRPIHByb2R1Y3RzKG5hbWUsIHByaWNlLCB1bml0KSBWQUxVRVMoJDEsICQyLCAkMyknLCBbbmFtZSwgcHJpY2UsIHVuaXRdKTtcbiAgICB9IGNhdGNoIChlKSB7IGNvbnNvbGUuZXJyb3IoJ1NlZWRpbmcgcHJvZHVjdCBmYWlsZWQnLCBlLm1lc3NhZ2UpOyB9XG4gIH1cblxuICBhd2FpdCBlbnN1cmVQcm9kdWN0KHsgbmFtZTogJ09yZ2FuaWMgQ2Fycm90cycsIHByaWNlOiAyLjk5LCB1bml0OiAnYnVuY2gnIH0pO1xuICBhd2FpdCBlbnN1cmVQcm9kdWN0KHsgbmFtZTogJ0ZyZWUtcmFuZ2UgRWdncycsIHByaWNlOiA2LjQ5LCB1bml0OiAnZG96ZW4nIH0pO1xuICBhd2FpdCBlbnN1cmVQcm9kdWN0KHsgbmFtZTogJ1NvdXJkb3VnaCBCcmVhZCcsIHByaWNlOiA1Ljk5LCB1bml0OiAnbG9hZicgfSk7XG4gIGF3YWl0IGVuc3VyZVByb2R1Y3QoeyBuYW1lOiAnR3Jhc3MtZmVkIEJlZWYnLCBwcmljZTogMTIuOTksIHVuaXQ6ICdsYicgfSk7XG4gIGF3YWl0IGVuc3VyZVByb2R1Y3QoeyBuYW1lOiAnV2lsZGZsb3dlciBIb25leScsIHByaWNlOiAxMC45OSwgdW5pdDogJ2phcicgfSk7XG4gIGF3YWl0IGVuc3VyZVByb2R1Y3QoeyBuYW1lOiAnRnJlc2ggU3BpbmFjaCcsIHByaWNlOiAzLjQ5LCB1bml0OiAnYmFnJyB9KTtcblxuICBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQsIHNhbHQpIHtcbiAgICByZXR1cm4gY3J5cHRvLnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIDEwMDAwMCwgMzIsICdzaGEyNTYnKS50b1N0cmluZygnaGV4Jyk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlVG9rZW4ocGF5bG9hZCkge1xuICAgIGNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ2Rldl9zZWNyZXQnO1xuICAgIGNvbnN0IGhlYWRlciA9IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHsgYWxnOiAnSFMyNTYnLCB0eXA6ICdKV1QnIH0pKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG4gICAgY29uc3QgYm9keSA9IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKS50b1N0cmluZygnYmFzZTY0dXJsJyk7XG4gICAgY29uc3Qgc2lnID0gY3J5cHRvXG4gICAgICAuY3JlYXRlSG1hYygnc2hhMjU2Jywgc2VjcmV0KVxuICAgICAgLnVwZGF0ZShgJHtoZWFkZXJ9LiR7Ym9keX1gKVxuICAgICAgLmRpZ2VzdCgnYmFzZTY0dXJsJyk7XG4gICAgcmV0dXJuIGAke2hlYWRlcn0uJHtib2R5fS4ke3NpZ31gO1xuICB9XG4gIGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFtoZWFkZXIsIGJvZHksIHNpZ10gPSB0b2tlbi5zcGxpdCgnLicpO1xuICAgICAgY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnZGV2X3NlY3JldCc7XG4gICAgICBjb25zdCBleHBlY3RlZCA9IGNyeXB0by5jcmVhdGVIbWFjKCdzaGEyNTYnLCBzZWNyZXQpLnVwZGF0ZShgJHtoZWFkZXJ9LiR7Ym9keX1gKS5kaWdlc3QoJ2Jhc2U2NHVybCcpO1xuICAgICAgaWYgKGV4cGVjdGVkICE9PSBzaWcpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoQnVmZmVyLmZyb20oYm9keSwgJ2Jhc2U2NHVybCcpLnRvU3RyaW5nKCd1dGY4JykpO1xuICAgICAgaWYgKHBheWxvYWQuZXhwICYmIERhdGUubm93KCkgPiBwYXlsb2FkLmV4cCkgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9IGNhdGNoIChfKSB7IHJldHVybiBudWxsOyB9XG4gIH1cblxuICAvLyBBdHRhY2ggdXNlciB0byByZXF1ZXN0IGZyb20gQXV0aG9yaXphdGlvbiBoZWFkZXIgaWYgcHJlc2VudFxuICBleHByZXNzQXBwLnVzZSgocmVxLCBfcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgaCA9IHJlcS5oZWFkZXJzWydhdXRob3JpemF0aW9uJ10gfHwgcmVxLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXTtcbiAgICBpZiAodHlwZW9mIGggPT09ICdzdHJpbmcnICYmIGguc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgICBjb25zdCB0b2sgPSBoLnNsaWNlKDcpO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHZlcmlmeVRva2VuKHRvayk7XG4gICAgICBpZiAocGF5bG9hZCkgcmVxLnVzZXIgPSB7IGlkOiBwYXlsb2FkLnVzZXJJZCwgcm9sZTogcGF5bG9hZC5yb2xlLCBlbWFpbDogcGF5bG9hZC5lbWFpbCB9O1xuICAgIH1cbiAgICBuZXh0KCk7XG4gIH0pO1xuICBmdW5jdGlvbiByZXF1aXJlQXV0aChyZXEsIHJlcywgbmV4dCkge1xuICAgIGlmICghcmVxLnVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICBuZXh0KCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVxdWlyZVJvbGUocm9sZSkge1xuICAgIHJldHVybiAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGlmICghcmVxLnVzZXIgfHwgcmVxLnVzZXIucm9sZSAhPT0gcm9sZSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICdGb3JiaWRkZW4nIH0pO1xuICAgICAgbmV4dCgpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcGFnaW5hdGUocmVxKSB7XG4gICAgY29uc3QgcGFnZSA9IE1hdGgubWF4KHBhcnNlSW50KHJlcS5xdWVyeS5wYWdlIHx8ICcxJywgMTApIHx8IDEsIDEpO1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4oTWF0aC5tYXgocGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0IHx8ICc1MCcsIDEwKSB8fCA1MCwgMSksIDIwMCk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xuICAgIHJldHVybiB7IGxpbWl0LCBvZmZzZXQgfTtcbiAgfVxuICBjb25zdCBPUkRFUl9TVEFUVVNFUyA9IFsncGVuZGluZycsICdwYWlkJywgJ2RlbGl2ZXJlZCddO1xuICBjb25zdCBQQVlNRU5UX01FVEhPRFMgPSBbJ2NvZCcsICdjYXJkJywgJ3dhbGxldCddO1xuICBjb25zdCBQQVlNRU5UX1NUQVRVU0VTID0gWydwZW5kaW5nJywgJ3BhaWQnLCAnZmFpbGVkJ107XG4gIGNvbnN0IERFTElWRVJZX1NUQVRVU0VTID0gWydwcmVwYXJpbmcnLCAnb3V0X2Zvcl9kZWxpdmVyeScsICdkZWxpdmVyZWQnXTtcblxuICBleHByZXNzQXBwLnBvc3QoJy9hdXRoL3JlZ2lzdGVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgcm9sZSB9ID0gcmVxLmJvZHkgfHwge307XG4gICAgICBuYW1lID0gKG5hbWUgfHwgJycpLnRyaW0oKTtcbiAgICAgIGVtYWlsID0gKGVtYWlsIHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgIHBhc3N3b3JkID0gKHBhc3N3b3JkIHx8ICcnKS50cmltKCk7XG4gICAgICByb2xlID0gKChyb2xlIHx8ICcnKS50cmltKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2FkbWluJykgPyAnYWRtaW4nIDogJ2N1c3RvbWVyJztcbiAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkIHx8ICFuYW1lIHx8ICFyb2xlKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgZmllbGRzJyB9KTtcbiAgICAgIGNvbnN0IHIwID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkIEZST00gdXNlcnMgV0hFUkUgZW1haWw9JDEnLCBbZW1haWxdKTtcbiAgICAgIGlmIChyMC5yb3dzICYmIHIwLnJvd3MubGVuZ3RoKSByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oeyBlcnJvcjogJ0VtYWlsIGFscmVhZHkgcmVnaXN0ZXJlZCcgfSk7XG4gICAgICBjb25zdCBzYWx0ID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnaGV4Jyk7XG4gICAgICBjb25zdCBoYXNoID0gaGFzaFBhc3N3b3JkKHBhc3N3b3JkLCBzYWx0KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBwb29sLnF1ZXJ5KFxuICAgICAgICAgICdJTlNFUlQgSU5UTyB1c2VycyhuYW1lLCBlbWFpbCwgcm9sZSwgcGFzc3dvcmRfaGFzaCwgcGFzc3dvcmRfc2FsdCkgVkFMVUVTKCQxLCAkMiwgJDMsICQ0LCAkNSkgUkVUVVJOSU5HIGlkLCBuYW1lLCBlbWFpbCwgcm9sZScsXG4gICAgICAgICAgW25hbWUsIGVtYWlsLCByb2xlID09PSAnYWRtaW4nID8gJ2FkbWluJyA6ICdjdXN0b21lcicsIGhhc2gsIHNhbHRdXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSByLnJvd3NbMF07XG4gICAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlVG9rZW4oeyB1c2VySWQ6IHVzZXIuaWQsIHJvbGU6IHVzZXIucm9sZSwgZW1haWw6IHVzZXIuZW1haWwsIGV4cDogRGF0ZS5ub3coKSArIDI0ICogMzYwMCAqIDEwMDAgfSk7XG4gICAgICAgIHJlcy5qc29uKHsgdXNlciwgdG9rZW4gfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IGlkID0gbWVtb3J5LnVzZXJzLmxlbmd0aCArIDE7XG4gICAgICAgIGNvbnN0IHVzZXIgPSB7IGlkLCBuYW1lLCBlbWFpbCwgcm9sZTogcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbicgOiAnY3VzdG9tZXInIH07XG4gICAgICAgIG1lbW9yeS51c2Vycy5wdXNoKHsgLi4udXNlciwgcGFzc3dvcmRfaGFzaDogaGFzaCwgcGFzc3dvcmRfc2FsdDogc2FsdCB9KTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBjcmVhdGVUb2tlbih7IHVzZXJJZDogdXNlci5pZCwgcm9sZTogdXNlci5yb2xlLCBlbWFpbDogdXNlci5lbWFpbCwgZXhwOiBEYXRlLm5vdygpICsgMjQgKiAzNjAwICogMTAwMCB9KTtcbiAgICAgICAgcmVzLmpzb24oeyB1c2VyLCB0b2tlbiwgbm90ZTogJ21lbW9yeScgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkgeyByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSk7XG5cbiAgZXhwcmVzc0FwcC5wb3N0KCcvYXV0aC9sb2dpbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgeyBlbWFpbCwgcGFzc3dvcmQsIHJvbGUgfSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgICAgZW1haWwgPSAoZW1haWwgfHwgJycpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgcGFzc3dvcmQgPSAocGFzc3dvcmQgfHwgJycpLnRyaW0oKTtcbiAgICAgIHJvbGUgPSAoKHJvbGUgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpID09PSAnYWRtaW4nKSA/ICdhZG1pbicgOiAnY3VzdG9tZXInO1xuICAgICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQgfHwgIXJvbGUpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyBmaWVsZHMnIH0pO1xuICAgICAgbGV0IHI7XG4gICAgICB0cnkge1xuICAgICAgICByID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkLCBuYW1lLCBlbWFpbCwgcm9sZSwgcGFzc3dvcmRfaGFzaCwgcGFzc3dvcmRfc2FsdCBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsPSQxJywgW2VtYWlsXSk7XG4gICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgIHIgPSB7IHJvd3M6IFtdIH07XG4gICAgICB9XG4gICAgICBsZXQgcm93ID0gci5yb3dzICYmIHIucm93c1swXTtcbiAgICAgIGlmICghcm93KSB7XG4gICAgICAgIHJvdyA9IG1lbW9yeS51c2Vycy5maW5kKCh1KSA9PiB1LmVtYWlsID09PSBlbWFpbCk7XG4gICAgICAgIGlmICghcm93KSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgY3JlZGVudGlhbHMnIH0pO1xuICAgICAgfVxuICAgICAgaWYgKChyb3cucm9sZSB8fCByb2xlKSAhPT0gcm9sZSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgZXJyb3I6ICdSb2xlIG1pc21hdGNoJyB9KTtcbiAgICAgIGNvbnN0IG9rID0gcm93LnBhc3N3b3JkX2hhc2ggJiYgcm93LnBhc3N3b3JkX3NhbHQgJiYgaGFzaFBhc3N3b3JkKHBhc3N3b3JkLCByb3cucGFzc3dvcmRfc2FsdCkgPT09IHJvdy5wYXNzd29yZF9oYXNoO1xuICAgICAgaWYgKCFvaykgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9KTtcbiAgICAgIGNvbnN0IHVzZXIgPSB7IGlkOiByb3cuaWQsIG5hbWU6IHJvdy5uYW1lLCBlbWFpbDogcm93LmVtYWlsLCByb2xlOiByb3cucm9sZSB8fCByb2xlIH07XG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZVRva2VuKHsgdXNlcklkOiB1c2VyLmlkLCByb2xlOiB1c2VyLnJvbGUsIGVtYWlsOiB1c2VyLmVtYWlsLCBleHA6IERhdGUubm93KCkgKyAyNCAqIDM2MDAgKiAxMDAwIH0pO1xuICAgICAgcmVzLmpzb24oeyB1c2VyLCB0b2tlbiB9KTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcblxuICBleHByZXNzQXBwLmdldCgnL3VzZXJzJywgcmVxdWlyZVJvbGUoJ2FkbWluJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGxpbWl0LCBvZmZzZXQgfSA9IHBhZ2luYXRlKHJlcSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkLCBuYW1lLCBlbWFpbCBGUk9NIHVzZXJzIE9SREVSIEJZIGlkIExJTUlUICQxIE9GRlNFVCAkMicsIFtsaW1pdCwgb2Zmc2V0XSk7XG4gICAgICByZXMuanNvbihyLnJvd3MpO1xuICAgIH0gY2F0Y2ggKGUpIHsgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0pO1xuICBleHByZXNzQXBwLnBvc3QoJy91c2VycycsIHJlcXVpcmVSb2xlKCdhZG1pbicpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCB9ID0gcmVxLmJvZHk7XG4gICAgICBpZiAoIW5hbWUgfHwgIWVtYWlsKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ05hbWUgYW5kIGVtYWlsIGFyZSByZXF1aXJlZCcgfSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnSU5TRVJUIElOVE8gdXNlcnMobmFtZSwgZW1haWwpIFZBTFVFUygkMSwgJDIpIFJFVFVSTklORyBpZCwgbmFtZSwgZW1haWwnLCBbbmFtZSwgZW1haWxdKTtcbiAgICAgIHJlcy5qc29uKHIucm93c1swXSk7XG4gICAgfSBjYXRjaCAoZSkgeyByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSk7XG5cbiAgZXhwcmVzc0FwcC5nZXQoJy9wcm9kdWN0cycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGxpbWl0LCBvZmZzZXQgfSA9IHBhZ2luYXRlKHJlcSk7XG4gICAgICBjb25zdCBxID0gKHJlcS5xdWVyeS5xIHx8ICcnKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAocSkge1xuICAgICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkLCBuYW1lLCBwcmljZSwgdW5pdCBGUk9NIHByb2R1Y3RzIFdIRVJFIExPV0VSKG5hbWUpIExJS0UgJDEgT1JERVIgQlkgaWQgTElNSVQgJDIgT0ZGU0VUICQzJywgW2AlJHtxfSVgLCBsaW1pdCwgb2Zmc2V0XSk7XG4gICAgICAgIHJldHVybiByZXMuanNvbihyLnJvd3MpO1xuICAgICAgfVxuICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpZCwgbmFtZSwgcHJpY2UsIHVuaXQgRlJPTSBwcm9kdWN0cyBPUkRFUiBCWSBpZCBMSU1JVCAkMSBPRkZTRVQgJDInLCBbbGltaXQsIG9mZnNldF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcbiAgZXhwcmVzc0FwcC5wb3N0KCcvcHJvZHVjdHMnLCByZXF1aXJlUm9sZSgnYWRtaW4nKSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgbmFtZSwgcHJpY2UsIHVuaXQgfSA9IHJlcS5ib2R5O1xuICAgICAgY29uc3QgcCA9IE51bWJlcihwcmljZSk7XG4gICAgICBpZiAoIW5hbWUgfHwgIXVuaXQgfHwgTnVtYmVyLmlzTmFOKHApIHx8IHAgPD0gMCkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHByb2R1Y3QgZmllbGRzJyB9KTtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCBwb29sLnF1ZXJ5KCdJTlNFUlQgSU5UTyBwcm9kdWN0cyhuYW1lLCBwcmljZSwgdW5pdCkgVkFMVUVTKCQxLCAkMiwgJDMpIFJFVFVSTklORyBpZCwgbmFtZSwgcHJpY2UsIHVuaXQnLCBbbmFtZSwgcHJpY2UsIHVuaXRdKTtcbiAgICAgIHJlcy5qc29uKHIucm93c1swXSk7XG4gICAgfSBjYXRjaCAoZSkgeyByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSk7XG5cbiAgZXhwcmVzc0FwcC5nZXQoJy9vcmRlcnMnLCByZXF1aXJlQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgbGltaXQsIG9mZnNldCB9ID0gcGFnaW5hdGUocmVxKTtcbiAgICAgIGlmIChyZXEudXNlci5yb2xlID09PSAnYWRtaW4nKSB7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgaWQsIHVzZXJfaWQsIHRvdGFsX2Ftb3VudCwgc3RhdHVzIEZST00gb3JkZXJzIE9SREVSIEJZIGlkIExJTUlUICQxIE9GRlNFVCAkMicsIFtsaW1pdCwgb2Zmc2V0XSk7XG4gICAgICAgIHJldHVybiByZXMuanNvbihyLnJvd3MpO1xuICAgICAgfVxuICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpZCwgdXNlcl9pZCwgdG90YWxfYW1vdW50LCBzdGF0dXMgRlJPTSBvcmRlcnMgV0hFUkUgdXNlcl9pZD0kMSBPUkRFUiBCWSBpZCBMSU1JVCAkMiBPRkZTRVQgJDMnLCBbcmVxLnVzZXIuaWQsIGxpbWl0LCBvZmZzZXRdKTtcbiAgICAgIHJlcy5qc29uKHIucm93cyk7XG4gICAgfSBjYXRjaCAoZSkgeyByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSk7XG4gIGV4cHJlc3NBcHAucG9zdCgnL29yZGVycycsIHJlcXVpcmVBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB1c2VyX2lkLCB0b3RhbF9hbW91bnQsIHN0YXR1cyB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBhbXQgPSBOdW1iZXIodG90YWxfYW1vdW50KTtcbiAgICAgIGNvbnN0IHN0YXQgPSAoc3RhdHVzIHx8ICdwZW5kaW5nJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChOdW1iZXIuaXNOYU4oYW10KSB8fCBhbXQgPD0gMCkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGFtb3VudCcgfSk7XG4gICAgICBpZiAoIU9SREVSX1NUQVRVU0VTLmluY2x1ZGVzKHN0YXQpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgc3RhdHVzJyB9KTtcbiAgICAgIGNvbnN0IHVpZCA9IHVzZXJfaWQgfHwgcmVxLnVzZXIuaWQ7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnSU5TRVJUIElOVE8gb3JkZXJzKHVzZXJfaWQsIHRvdGFsX2Ftb3VudCwgc3RhdHVzKSBWQUxVRVMoJDEsICQyLCAkMykgUkVUVVJOSU5HIGlkLCB1c2VyX2lkLCB0b3RhbF9hbW91bnQsIHN0YXR1cycsIFt1aWQsIGFtdCwgc3RhdF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzWzBdKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcblxuICBleHByZXNzQXBwLmdldCgnL3N1cHBsaWVycycsIHJlcXVpcmVSb2xlKCdhZG1pbicpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBsaW1pdCwgb2Zmc2V0IH0gPSBwYWdpbmF0ZShyZXEpO1xuICAgICAgY29uc3QgcSA9IChyZXEucXVlcnkucSB8fCAnJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHEpIHtcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpZCwgbmFtZSwgY29udGFjdCBGUk9NIHN1cHBsaWVycyBXSEVSRSBMT1dFUihuYW1lKSBMSUtFICQxIE9SIExPV0VSKGNvbnRhY3QpIExJS0UgJDEgT1JERVIgQlkgaWQgTElNSVQgJDIgT0ZGU0VUICQzJywgW2AlJHtxfSVgLCBsaW1pdCwgb2Zmc2V0XSk7XG4gICAgICAgIHJldHVybiByZXMuanNvbihyLnJvd3MpO1xuICAgICAgfVxuICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpZCwgbmFtZSwgY29udGFjdCBGUk9NIHN1cHBsaWVycyBPUkRFUiBCWSBpZCBMSU1JVCAkMSBPRkZTRVQgJDInLCBbbGltaXQsIG9mZnNldF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcbiAgZXhwcmVzc0FwcC5wb3N0KCcvc3VwcGxpZXJzJywgcmVxdWlyZVJvbGUoJ2FkbWluJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IG5hbWUsIGNvbnRhY3QgfSA9IHJlcS5ib2R5O1xuICAgICAgaWYgKCFuYW1lKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ05hbWUgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ0lOU0VSVCBJTlRPIHN1cHBsaWVycyhuYW1lLCBjb250YWN0KSBWQUxVRVMoJDEsICQyKSBSRVRVUk5JTkcgaWQsIG5hbWUsIGNvbnRhY3QnLCBbbmFtZSwgY29udGFjdF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzWzBdKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcblxuICBleHByZXNzQXBwLmdldCgnL2ludmVudG9yeScsIHJlcXVpcmVSb2xlKCdhZG1pbicpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBsaW1pdCwgb2Zmc2V0IH0gPSBwYWdpbmF0ZShyZXEpO1xuICAgICAgY29uc3QgcSA9IChyZXEucXVlcnkucSB8fCAnJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHEpIHtcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpLmlkLCBpLnByb2R1Y3RfaWQsIHAubmFtZSBhcyBwcm9kdWN0X25hbWUsIGkucXVhbnRpdHksIGkubG9jYXRpb24gRlJPTSBpbnZlbnRvcnkgaSBMRUZUIEpPSU4gcHJvZHVjdHMgcCBPTiBwLmlkPWkucHJvZHVjdF9pZCBXSEVSRSBMT1dFUihwLm5hbWUpIExJS0UgJDEgT1IgTE9XRVIoaS5sb2NhdGlvbikgTElLRSAkMSBPUkRFUiBCWSBpLmlkIExJTUlUICQyIE9GRlNFVCAkMycsIFtgJSR7cX0lYCwgbGltaXQsIG9mZnNldF0pO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oci5yb3dzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHIgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgaS5pZCwgaS5wcm9kdWN0X2lkLCBwLm5hbWUgYXMgcHJvZHVjdF9uYW1lLCBpLnF1YW50aXR5LCBpLmxvY2F0aW9uIEZST00gaW52ZW50b3J5IGkgTEVGVCBKT0lOIHByb2R1Y3RzIHAgT04gcC5pZD1pLnByb2R1Y3RfaWQgT1JERVIgQlkgaS5pZCBMSU1JVCAkMSBPRkZTRVQgJDInLCBbbGltaXQsIG9mZnNldF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcbiAgZXhwcmVzc0FwcC5wb3N0KCcvaW52ZW50b3J5JywgcmVxdWlyZVJvbGUoJ2FkbWluJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHByb2R1Y3RfaWQsIHF1YW50aXR5LCBsb2NhdGlvbiB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBwaWQgPSBwYXJzZUludChwcm9kdWN0X2lkLCAxMCk7XG4gICAgICBjb25zdCBxdHkgPSBOdW1iZXIocXVhbnRpdHkpO1xuICAgICAgaWYgKCFwaWQgfHwgTnVtYmVyLmlzTmFOKHF0eSkpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBpbnZlbnRvcnkgZmllbGRzJyB9KTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkIEZST00gaW52ZW50b3J5IFdIRVJFIHByb2R1Y3RfaWQ9JDEnLCBbcHJvZHVjdF9pZF0pO1xuICAgICAgaWYgKGV4aXN0aW5nLnJvd3MubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBwb29sLnF1ZXJ5KCdVUERBVEUgaW52ZW50b3J5IFNFVCBxdWFudGl0eT0kMSwgbG9jYXRpb249JDIgV0hFUkUgcHJvZHVjdF9pZD0kMyBSRVRVUk5JTkcgaWQsIHByb2R1Y3RfaWQsIHF1YW50aXR5LCBsb2NhdGlvbicsIFtxdWFudGl0eSwgbG9jYXRpb24sIHByb2R1Y3RfaWRdKTtcbiAgICAgICAgcmVzLmpzb24oci5yb3dzWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCBwb29sLnF1ZXJ5KCdJTlNFUlQgSU5UTyBpbnZlbnRvcnkocHJvZHVjdF9pZCwgcXVhbnRpdHksIGxvY2F0aW9uKSBWQUxVRVMoJDEsICQyLCAkMykgUkVUVVJOSU5HIGlkLCBwcm9kdWN0X2lkLCBxdWFudGl0eSwgbG9jYXRpb24nLCBbcHJvZHVjdF9pZCwgcXVhbnRpdHksIGxvY2F0aW9uXSk7XG4gICAgICAgIHJlcy5qc29uKHIucm93c1swXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkgeyByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSk7XG5cbiAgZXhwcmVzc0FwcC5nZXQoJy9kZWxpdmVyaWVzJywgcmVxdWlyZVJvbGUoJ2FkbWluJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGxpbWl0LCBvZmZzZXQgfSA9IHBhZ2luYXRlKHJlcSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkLCBvcmRlcl9pZCwgc3RhdHVzLCBldGEgRlJPTSBkZWxpdmVyaWVzIE9SREVSIEJZIGlkIExJTUlUICQxIE9GRlNFVCAkMicsIFtsaW1pdCwgb2Zmc2V0XSk7XG4gICAgICByZXMuanNvbihyLnJvd3MpO1xuICAgIH0gY2F0Y2ggKGUpIHsgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0pO1xuICBleHByZXNzQXBwLnBvc3QoJy9kZWxpdmVyaWVzJywgcmVxdWlyZVJvbGUoJ2FkbWluJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IG9yZGVyX2lkLCBzdGF0dXMsIGV0YSB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBvaWQgPSBwYXJzZUludChvcmRlcl9pZCwgMTApO1xuICAgICAgY29uc3Qgc3QgPSAoc3RhdHVzIHx8ICdwcmVwYXJpbmcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFvaWQgfHwgIURFTElWRVJZX1NUQVRVU0VTLmluY2x1ZGVzKHN0KSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGRlbGl2ZXJ5IGZpZWxkcycgfSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnSU5TRVJUIElOVE8gZGVsaXZlcmllcyhvcmRlcl9pZCwgc3RhdHVzLCBldGEpIFZBTFVFUygkMSwgJDIsICQzKSBSRVRVUk5JTkcgaWQsIG9yZGVyX2lkLCBzdGF0dXMsIGV0YScsIFtvaWQsIHN0LCBldGEgfHwgbnVsbF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzWzBdKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcblxuICBleHByZXNzQXBwLmdldCgnL3BheW1lbnRzJywgcmVxdWlyZVJvbGUoJ2FkbWluJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGxpbWl0LCBvZmZzZXQgfSA9IHBhZ2luYXRlKHJlcSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIGlkLCBvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cyBGUk9NIHBheW1lbnRzIE9SREVSIEJZIGlkIExJTUlUICQxIE9GRlNFVCAkMicsIFtsaW1pdCwgb2Zmc2V0XSk7XG4gICAgICByZXMuanNvbihyLnJvd3MpO1xuICAgIH0gY2F0Y2ggKGUpIHsgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0pO1xuICBleHByZXNzQXBwLnBvc3QoJy9wYXltZW50cycsIHJlcXVpcmVSb2xlKCdhZG1pbicpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cyB9ID0gcmVxLmJvZHk7XG4gICAgICBjb25zdCBvaWQgPSBwYXJzZUludChvcmRlcl9pZCwgMTApO1xuICAgICAgY29uc3QgYW10ID0gTnVtYmVyKGFtb3VudCk7XG4gICAgICBjb25zdCBtID0gKG1ldGhvZCB8fCAnY29kJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHN0ID0gKHN0YXR1cyB8fCAncGVuZGluZycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIW9pZCB8fCBOdW1iZXIuaXNOYU4oYW10KSB8fCBhbXQgPD0gMCkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGFtb3VudCcgfSk7XG4gICAgICBpZiAoIVBBWU1FTlRfTUVUSE9EUy5pbmNsdWRlcyhtKSB8fCAhUEFZTUVOVF9TVEFUVVNFUy5pbmNsdWRlcyhzdCkpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBwYXltZW50IGZpZWxkcycgfSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnSU5TRVJUIElOVE8gcGF5bWVudHMob3JkZXJfaWQsIGFtb3VudCwgbWV0aG9kLCBzdGF0dXMpIFZBTFVFUygkMSwgJDIsICQzLCAkNCkgUkVUVVJOSU5HIGlkLCBvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cycsIFtvaWQsIGFtdCwgbSwgc3RdKTtcbiAgICAgIHJlcy5qc29uKHIucm93c1swXSk7XG4gICAgfSBjYXRjaCAoZSkgeyByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfSk7IH1cbiAgfSk7XG5cbiAgZXhwcmVzc0FwcC5nZXQoJy9yZXBvcnRzL3N1bW1hcnknLCByZXF1aXJlUm9sZSgnYWRtaW4nKSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcG9vbC5xdWVyeSgnU0VMRUNUIENPVU5UKCopOjppbnQgYXMgY291bnQgRlJPTSB1c2VycycpO1xuICAgICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgQ09VTlQoKik6OmludCBhcyBjb3VudCBGUk9NIHByb2R1Y3RzJyk7XG4gICAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgQ09VTlQoKik6OmludCBhcyBjb3VudCBGUk9NIG9yZGVycycpO1xuICAgICAgY29uc3QgcGF5bWVudHMgPSBhd2FpdCBwb29sLnF1ZXJ5KCdTRUxFQ1QgQ09VTlQoKik6OmludCBhcyBjb3VudCBGUk9NIHBheW1lbnRzJyk7XG4gICAgICByZXMuanNvbih7XG4gICAgICAgIHVzZXJzOiB1c2Vycy5yb3dzWzBdLmNvdW50LFxuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMucm93c1swXS5jb3VudCxcbiAgICAgICAgb3JkZXJzOiBvcmRlcnMucm93c1swXS5jb3VudCxcbiAgICAgICAgcGF5bWVudHM6IHBheW1lbnRzLnJvd3NbMF0uY291bnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHsgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0pO1xuXG4gIGV4cHJlc3NBcHAuZ2V0KCcvbm90aWZpY2F0aW9ucycsIHJlcXVpcmVSb2xlKCdhZG1pbicpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBsaW1pdCwgb2Zmc2V0IH0gPSBwYWdpbmF0ZShyZXEpO1xuICAgICAgY29uc3QgciA9IGF3YWl0IHBvb2wucXVlcnkoJ1NFTEVDVCBpZCwgdXNlcl9pZCwgbWVzc2FnZSwgc3RhdHVzLCBjcmVhdGVkX2F0IEZST00gbm90aWZpY2F0aW9ucyBPUkRFUiBCWSBpZCBMSU1JVCAkMSBPRkZTRVQgJDInLCBbbGltaXQsIG9mZnNldF0pO1xuICAgICAgcmVzLmpzb24oci5yb3dzKTtcbiAgICB9IGNhdGNoIChlKSB7IHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KTsgfVxuICB9KTtcbiAgZXhwcmVzc0FwcC5wb3N0KCcvbm90aWZpY2F0aW9ucycsIHJlcXVpcmVSb2xlKCdhZG1pbicpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB1c2VyX2lkLCBtZXNzYWdlLCBzdGF0dXMgfSA9IHJlcS5ib2R5O1xuICAgICAgY29uc3Qgc3QgPSAoc3RhdHVzIHx8ICdxdWV1ZWQnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFtZXNzYWdlIHx8IChzdCAmJiAhWydxdWV1ZWQnLCAnc2VudCcsICdmYWlsZWQnXS5pbmNsdWRlcyhzdCkpKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgbm90aWZpY2F0aW9uIGZpZWxkcycgfSk7XG4gICAgICBjb25zdCByID0gYXdhaXQgcG9vbC5xdWVyeSgnSU5TRVJUIElOVE8gbm90aWZpY2F0aW9ucyh1c2VyX2lkLCBtZXNzYWdlLCBzdGF0dXMpIFZBTFVFUygkMSwgJDIsICQzKSBSRVRVUk5JTkcgaWQsIHVzZXJfaWQsIG1lc3NhZ2UsIHN0YXR1cywgY3JlYXRlZF9hdCcsIFt1c2VyX2lkIHx8IG51bGwsIG1lc3NhZ2UsIHN0XSk7XG4gICAgICByZXMuanNvbihyLnJvd3NbMF0pO1xuICAgIH0gY2F0Y2ggKGUpIHsgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pOyB9XG4gIH0pO1xuXG4gIGF3YWl0IGFwcC5saXN0ZW4oNDAwMCk7XG59XG5cbmJvb3RzdHJhcCgpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDM0IsTUFBTTtFQUFFQztBQUFZLENBQUMsR0FBR0QsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUMvQyxNQUFNO0VBQUVFO0FBQVUsQ0FBQyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzdDLE1BQU1HLE1BQU0sR0FBR0gsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUVoQyxlQUFlSSxTQUFTQSxDQUFBLEVBQUc7RUFDekIsTUFBTUMsR0FBRyxHQUFHLE1BQU1KLFdBQVcsQ0FBQ0ssTUFBTSxDQUFDSixTQUFTLENBQUM7RUFDL0NHLEdBQUcsQ0FBQ0UsVUFBVSxDQUFDO0lBQ2JDLE1BQU0sRUFBRSxDQUFDLHVCQUF1QixFQUFFLHVCQUF1QixDQUFDO0lBQzFEQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDO0lBQ3BEQyxXQUFXLEVBQUUsSUFBSTtJQUNqQkMsY0FBYyxFQUFFLENBQUMsY0FBYyxFQUFFLGVBQWU7RUFDbEQsQ0FBQyxDQUFDO0VBQ0YsTUFBTUMsVUFBVSxHQUFHUCxHQUFHLENBQUNRLGNBQWMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDO0VBQ3JERixVQUFVLENBQUNHLEdBQUcsQ0FBQ2YsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDZ0IsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUN6Q0osVUFBVSxDQUFDRyxHQUFHLENBQUNmLE9BQU8s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","map":{"version":3,"names":["require","NestFactory","AppModule","crypto","bootstrap","app","create","enableCors","origin","methods","credentials","allowedHeaders","expressApp","getHttpAdapter","getInstance","use","json","urlencoded","extended","DATABASE_POOL","pool","get","memory","users","rateStore","Map","rateLimit","windowMs","max","req","res","next","key","ip","now","Date","rec","count","start","set","status","error","ensureUser","name","email","role","password","check","query","rows","length","salt","randomBytes","toString","hash","hashPassword","_","id","push","password_hash","password_salt","ensureProduct","price","unit","e","console","message","pbkdf2Sync","createToken","payload","secret","process","env","JWT_SECRET","header","Buffer","from","JSON","stringify","alg","typ","body","sig","createHmac","update","digest","verifyToken","token","split","expected","parse","exp","_res","h","headers","startsWith","tok","slice","user","userId","requireAuth","requireRole","paginate","page","Math","parseInt","limit","min","offset","ORDER_STATUSES","PAYMENT_METHODS","PAYMENT_STATUSES","DELIVERY_STATUSES","post","trim","toLowerCase","r0","r","note","row","find","u","ok","q","p","Number","isNaN","user_id","total_amount","amt","stat","includes","uid","contact","product_id","quantity","location","pid","qty","existing","order_id","eta","oid","st","amount","method","m","products","orders","payments","listen"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\","sources":["main.js"],"sourcesContent":["require('reflect-metadata');\nconst { NestFactory } = require('@nestjs/core');\nconst { AppModule } = require('./app.module');\nconst crypto = require('crypto');\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.enableCors({\n    origin: ['http://localhost:3000', 'http://localhost:3001'],\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n    credentials: true,\n    allowedHeaders: ['Content-Type', 'Authorization']\n  });\n  const expressApp = app.getHttpAdapter().getInstance();\n  expressApp.use(require('express').json());\n  expressApp.use(require('express').urlencoded({ extended: true }));\n  const { DATABASE_POOL } = require('./database.module');\n  const pool = app.get(DATABASE_POOL);\n  const memory = { users: [] };\n\n  const rateStore = new Map();\n  function rateLimit({ windowMs, max }) {\n    return (req, res, next) => {\n      const key = `${req.ip}`;\n      const now = Date.now();\n      const rec = rateStore.get(key) || { count: 0, start: now };\n      if (now - rec.start > windowMs) { rec.count = 0; rec.start = now; }\n      rec.count += 1;\n      rateStore.set(key, rec);\n      if (rec.count > max) return res.status(429).json({ error: 'Too Many Requests' });\n      next();\n    };\n  }\n  expressApp.use(rateLimit({ windowMs: 60 * 1000, max: 300 }));\n  expressApp.use('/auth', rateLimit({ windowMs: 60 * 1000, max: 20 }));\n\n  async function ensureUser({ name, email, role, password }) {\n    try {\n      const check = await pool.query('SELECT id FROM users WHERE email=$1', [email]);\n      if (check.rows && check.rows.length) return;\n      const salt = crypto.randomBytes(16).toString('hex');\n      const hash = hashPassword(password, salt);\n      try {\n        await pool.query(\n          'INSERT INTO users(name, email, role, password_hash, password_salt) VALUES($1, $2, $3, $4, $5)',\n          [name, email, role, hash, salt]\n        );\n      } catch (_) {\n        const id = memory.users.length + 1;\n        memory.users.push({ id, name, email, role, password_hash: hash, password_salt: salt });\n      }\n    } catch (_) {\n      const salt = crypto.randomBytes(16).toString('hex');\n      const hash = hashPassword(password, salt);\n      const id = memory.users.length + 1;\n      memory.users.push({ id, name, email, role, password_hash: hash, password_salt: salt });\n    }\n  }\n\n  await ensureUser({ name: 'Alice', email: 'alice@example.com', role: 'customer', password: 'pass1234' });\n  await ensureUser({ name: 'Admin Bob', email: 'admin@example.com', role: 'admin', password: 'admin1234' });\n\n  async function ensureProduct({ name, price, unit }) {\n    try {\n      const check = await pool.query('SELECT id FROM products WHERE name=$1', [name]);\n      if (check.rows && check.rows.length) return;\n      await pool.query('INSERT INTO products(name, price, unit) VALUES($1, $2, $3)', [name, price, unit]);\n    } catch (e) { console.error('Seeding product failed', e.message); }\n  }\n\n  await ensureProduct({ name: 'Organic Carrots', price: 2.99, unit: 'bunch' });\n  await ensureProduct({ name: 'Free-range Eggs', price: 6.49, unit: 'dozen' });\n  await ensureProduct({ name: 'Sourdough Bread', price: 5.99, unit: 'loaf' });\n  await ensureProduct({ name: 'Grass-fed Beef', price: 12.99, unit: 'lb' });\n  await ensureProduct({ name: 'Wildflower Honey', price: 10.99, unit: 'jar' });\n  await ensureProduct({ name: 'Fresh Spinach', price: 3.49, unit: 'bag' });\n\n  function hashPassword(password, salt) {\n    return crypto.pbkdf2Sync(password, salt, 100000, 32, 'sha256').toString('hex');\n  }\n  function createToken(payload) {\n    const secret = process.env.JWT_SECRET || 'dev_secret';\n    const header = Buffer.from(JSON.stringify({ alg: 'HS256', typ: 'JWT' })).toString('base64url');\n    const body = Buffer.from(JSON.stringify(payload)).toString('base64url');\n    const sig = crypto\n      .createHmac('sha256', secret)\n      .update(`${header}.${body}`)\n      .digest('base64url');\n    return `${header}.${body}.${sig}`;\n  }\n  function verifyToken(token) {\n    try {\n      const [header, body, sig] = token.split('.');\n      const secret = process.env.JWT_SECRET || 'dev_secret';\n      const expected = crypto.createHmac('sha256', secret).update(`${header}.${body}`).digest('base64url');\n      if (expected !== sig) return null;\n      const payload = JSON.parse(Buffer.from(body, 'base64url').toString('utf8'));\n      if (payload.exp && Date.now() > payload.exp) return null;\n      return payload;\n    } catch (_) { return null; }\n  }\n\n  // Attach user to request from Authorization header if present\n  expressApp.use((req, _res, next) => {\n    const h = req.headers['authorization'] || req.headers['Authorization'];\n    if (typeof h === 'string' && h.startsWith('Bearer ')) {\n      const tok = h.slice(7);\n      const payload = verifyToken(tok);\n      if (payload) req.user = { id: payload.userId, role: payload.role, email: payload.email };\n    }\n    next();\n  });\n  function requireAuth(req, res, next) {\n    if (!req.user) return res.status(401).json({ error: 'Unauthorized' });\n    next();\n  }\n  function requireRole(role) {\n    return (req, res, next) => {\n      if (!req.user || req.user.role !== role) return res.status(403).json({ error: 'Forbidden' });\n      next();\n    };\n  }\n  function paginate(req) {\n    const page = Math.max(parseInt(req.query.page || '1', 10) || 1, 1);\n    const limit = Math.min(Math.max(parseInt(req.query.limit || '50', 10) || 50, 1), 200);\n    const offset = (page - 1) * limit;\n    return { limit, offset };\n  }\n  const ORDER_STATUSES = ['pending', 'paid', 'delivered'];\n  const PAYMENT_METHODS = ['cod', 'card', 'wallet'];\n  const PAYMENT_STATUSES = ['pending', 'paid', 'failed'];\n  const DELIVERY_STATUSES = ['preparing', 'out_for_delivery', 'delivered'];\n\n  expressApp.post('/auth/register', async (req, res) => {\n    try {\n      let { name, email, password, role } = req.body || {};\n      name = (name || '').trim();\n      email = (email || '').toLowerCase().trim();\n      password = (password || '').trim();\n      role = ((role || '').trim().toLowerCase() === 'admin') ? 'admin' : 'customer';\n      if (!email || !password || !name || !role) return res.status(400).json({ error: 'Missing fields' });\n      const r0 = await pool.query('SELECT id FROM users WHERE email=$1', [email]);\n      if (r0.rows && r0.rows.length) return res.status(409).json({ error: 'Email already registered' });\n      const salt = crypto.randomBytes(16).toString('hex');\n      const hash = hashPassword(password, salt);\n      try {\n        const r = await pool.query(\n          'INSERT INTO users(name, email, role, password_hash, password_salt) VALUES($1, $2, $3, $4, $5) RETURNING id, name, email, role',\n          [name, email, role === 'admin' ? 'admin' : 'customer', hash, salt]\n        );\n        const user = r.rows[0];\n        const token = createToken({ userId: user.id, role: user.role, email: user.email, exp: Date.now() + 24 * 3600 * 1000 });\n        res.json({ user, token });\n      } catch (e) {\n        const id = memory.users.length + 1;\n        const user = { id, name, email, role: role === 'admin' ? 'admin' : 'customer' };\n        memory.users.push({ ...user, password_hash: hash, password_salt: salt });\n        const token = createToken({ userId: user.id, role: user.role, email: user.email, exp: Date.now() + 24 * 3600 * 1000 });\n        res.json({ user, token, note: 'memory' });\n      }\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.post('/auth/login', async (req, res) => {\n    try {\n      let { email, password, role } = req.body || {};\n      email = (email || '').toLowerCase().trim();\n      password = (password || '').trim();\n      role = ((role || '').trim().toLowerCase() === 'admin') ? 'admin' : 'customer';\n      if (!email || !password || !role) return res.status(400).json({ error: 'Missing fields' });\n      let r;\n      try {\n        r = await pool.query('SELECT id, name, email, role, password_hash, password_salt FROM users WHERE email=$1', [email]);\n      } catch (_) {\n        r = { rows: [] };\n      }\n      let row = r.rows && r.rows[0];\n      if (!row) {\n        row = memory.users.find((u) => u.email === email);\n        if (!row) return res.status(401).json({ error: 'Invalid credentials' });\n      }\n      if ((row.role || role) !== role) return res.status(403).json({ error: 'Role mismatch' });\n      const ok = row.password_hash && row.password_salt && hashPassword(password, row.password_salt) === row.password_hash;\n      if (!ok) return res.status(401).json({ error: 'Invalid credentials' });\n      const user = { id: row.id, name: row.name, email: row.email, role: row.role || role };\n      const token = createToken({ userId: user.id, role: user.role, email: user.email, exp: Date.now() + 24 * 3600 * 1000 });\n      res.json({ user, token });\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/users', requireRole('admin'), async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const r = await pool.query('SELECT id, name, email FROM users ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/users', requireRole('admin'), async (req, res) => {\n    try {\n      const { name, email } = req.body;\n      if (!name || !email) return res.status(400).json({ error: 'Name and email are required' });\n      const r = await pool.query('INSERT INTO users(name, email) VALUES($1, $2) RETURNING id, name, email', [name, email]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/products', async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const q = (req.query.q || '').toString().toLowerCase();\n      if (q) {\n        const r = await pool.query('SELECT id, name, price, unit FROM products WHERE LOWER(name) LIKE $1 ORDER BY id LIMIT $2 OFFSET $3', [`%${q}%`, limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT id, name, price, unit FROM products ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/products', requireRole('admin'), async (req, res) => {\n    try {\n      const { name, price, unit } = req.body;\n      const p = Number(price);\n      if (!name || !unit || Number.isNaN(p) || p <= 0) return res.status(400).json({ error: 'Invalid product fields' });\n      const r = await pool.query('INSERT INTO products(name, price, unit) VALUES($1, $2, $3) RETURNING id, name, price, unit', [name, price, unit]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/orders', requireAuth, async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      if (req.user.role === 'admin') {\n        const r = await pool.query('SELECT id, user_id, total_amount, status FROM orders ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT id, user_id, total_amount, status FROM orders WHERE user_id=$1 ORDER BY id LIMIT $2 OFFSET $3', [req.user.id, limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/orders', requireAuth, async (req, res) => {\n    try {\n      const { user_id, total_amount, status } = req.body;\n      const amt = Number(total_amount);\n      const stat = (status || 'pending').toLowerCase();\n      if (Number.isNaN(amt) || amt <= 0) return res.status(400).json({ error: 'Invalid amount' });\n      if (!ORDER_STATUSES.includes(stat)) return res.status(400).json({ error: 'Invalid status' });\n      const uid = user_id || req.user.id;\n      const r = await pool.query('INSERT INTO orders(user_id, total_amount, status) VALUES($1, $2, $3) RETURNING id, user_id, total_amount, status', [uid, amt, stat]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/suppliers', requireRole('admin'), async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const q = (req.query.q || '').toString().toLowerCase();\n      if (q) {\n        const r = await pool.query('SELECT id, name, contact FROM suppliers WHERE LOWER(name) LIKE $1 OR LOWER(contact) LIKE $1 ORDER BY id LIMIT $2 OFFSET $3', [`%${q}%`, limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT id, name, contact FROM suppliers ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/suppliers', requireRole('admin'), async (req, res) => {\n    try {\n      const { name, contact } = req.body;\n      if (!name) return res.status(400).json({ error: 'Name is required' });\n      const r = await pool.query('INSERT INTO suppliers(name, contact) VALUES($1, $2) RETURNING id, name, contact', [name, contact]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/inventory', requireRole('admin'), async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const q = (req.query.q || '').toString().toLowerCase();\n      if (q) {\n        const r = await pool.query('SELECT i.id, i.product_id, p.name as product_name, i.quantity, i.location FROM inventory i LEFT JOIN products p ON p.id=i.product_id WHERE LOWER(p.name) LIKE $1 OR LOWER(i.location) LIKE $1 ORDER BY i.id LIMIT $2 OFFSET $3', [`%${q}%`, limit, offset]);\n        return res.json(r.rows);\n      }\n      const r = await pool.query('SELECT i.id, i.product_id, p.name as product_name, i.quantity, i.location FROM inventory i LEFT JOIN products p ON p.id=i.product_id ORDER BY i.id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/inventory', requireRole('admin'), async (req, res) => {\n    try {\n      const { product_id, quantity, location } = req.body;\n      const pid = parseInt(product_id, 10);\n      const qty = Number(quantity);\n      if (!pid || Number.isNaN(qty)) return res.status(400).json({ error: 'Invalid inventory fields' });\n      const existing = await pool.query('SELECT id FROM inventory WHERE product_id=$1', [product_id]);\n      if (existing.rows.length) {\n        const r = await pool.query('UPDATE inventory SET quantity=$1, location=$2 WHERE product_id=$3 RETURNING id, product_id, quantity, location', [quantity, location, product_id]);\n        res.json(r.rows[0]);\n      } else {\n        const r = await pool.query('INSERT INTO inventory(product_id, quantity, location) VALUES($1, $2, $3) RETURNING id, product_id, quantity, location', [product_id, quantity, location]);\n        res.json(r.rows[0]);\n      }\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/deliveries', requireRole('admin'), async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const r = await pool.query('SELECT id, order_id, status, eta FROM deliveries ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/deliveries', requireRole('admin'), async (req, res) => {\n    try {\n      const { order_id, status, eta } = req.body;\n      const oid = parseInt(order_id, 10);\n      const st = (status || 'preparing').toLowerCase();\n      if (!oid || !DELIVERY_STATUSES.includes(st)) return res.status(400).json({ error: 'Invalid delivery fields' });\n      const r = await pool.query('INSERT INTO deliveries(order_id, status, eta) VALUES($1, $2, $3) RETURNING id, order_id, status, eta', [oid, st, eta || null]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/payments', requireRole('admin'), async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const r = await pool.query('SELECT id, order_id, amount, method, status FROM payments ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/payments', requireRole('admin'), async (req, res) => {\n    try {\n      const { order_id, amount, method, status } = req.body;\n      const oid = parseInt(order_id, 10);\n      const amt = Number(amount);\n      const m = (method || 'cod').toLowerCase();\n      const st = (status || 'pending').toLowerCase();\n      if (!oid || Number.isNaN(amt) || amt <= 0) return res.status(400).json({ error: 'Invalid amount' });\n      if (!PAYMENT_METHODS.includes(m) || !PAYMENT_STATUSES.includes(st)) return res.status(400).json({ error: 'Invalid payment fields' });\n      const r = await pool.query('INSERT INTO payments(order_id, amount, method, status) VALUES($1, $2, $3, $4) RETURNING id, order_id, amount, method, status', [oid, amt, m, st]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/reports/summary', requireRole('admin'), async (req, res) => {\n    try {\n      const users = await pool.query('SELECT COUNT(*)::int as count FROM users');\n      const products = await pool.query('SELECT COUNT(*)::int as count FROM products');\n      const orders = await pool.query('SELECT COUNT(*)::int as count FROM orders');\n      const payments = await pool.query('SELECT COUNT(*)::int as count FROM payments');\n      res.json({\n        users: users.rows[0].count,\n        products: products.rows[0].count,\n        orders: orders.rows[0].count,\n        payments: payments.rows[0].count\n      });\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  expressApp.get('/notifications', requireRole('admin'), async (req, res) => {\n    try {\n      const { limit, offset } = paginate(req);\n      const r = await pool.query('SELECT id, user_id, message, status, created_at FROM notifications ORDER BY id LIMIT $1 OFFSET $2', [limit, offset]);\n      res.json(r.rows);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n  expressApp.post('/notifications', requireRole('admin'), async (req, res) => {\n    try {\n      const { user_id, message, status } = req.body;\n      const st = (status || 'queued').toLowerCase();\n      if (!message || (st && !['queued', 'sent', 'failed'].includes(st))) return res.status(400).json({ error: 'Invalid notification fields' });\n      const r = await pool.query('INSERT INTO notifications(user_id, message, status) VALUES($1, $2, $3) RETURNING id, user_id, message, status, created_at', [user_id || null, message, st]);\n      res.json(r.rows[0]);\n    } catch (e) { res.status(500).json({ error: e.message }); }\n  });\n\n  await app.listen(4000);\n}\n\nbootstrap();\n"],"mappings":"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","ignoreList":[]}},"mtime":1765840687119},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\app.module.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _class;\nconst {\n  Module\n} = require('@nestjs/common');\nconst {\n  DatabaseModule\n} = require('./database.module');\nlet AppModule = (_dec = Module({\n  imports: [DatabaseModule]\n}), _dec(_class = class AppModule {}) || _class);\nmodule.exports = {\n  AppModule\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2R1bGUiLCJyZXF1aXJlIiwiRGF0YWJhc2VNb2R1bGUiLCJBcHBNb2R1bGUiLCJfZGVjIiwiaW1wb3J0cyIsIl9jbGFzcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxJbXBvcnRhbnQgRG9jdW1lbnRzXFxGU1dEIFByb2plY3RcXHNlcnZlclxcc3JjXFwiLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2R1bGUgfSA9IHJlcXVpcmUoJ0BuZXN0anMvY29tbW9uJyk7XG5jb25zdCB7IERhdGFiYXNlTW9kdWxlIH0gPSByZXF1aXJlKCcuL2RhdGFiYXNlLm1vZHVsZScpO1xuXG5ATW9kdWxlKHsgaW1wb3J0czogW0RhdGFiYXNlTW9kdWxlXSB9KVxuY2xhc3MgQXBwTW9kdWxlIHt9XG5cbm1vZHVsZS5leHBvcnRzID0geyBBcHBNb2R1bGUgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzVDLE1BQU07RUFBRUM7QUFBZSxDQUFDLEdBQUdELE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUFDLElBR2xERSxTQUFTLElBQUFDLElBQUEsR0FEZEosTUFBTSxDQUFDO0VBQUVLLE9BQU8sRUFBRSxDQUFDSCxjQUFjO0FBQUUsQ0FBQyxDQUFDLEVBQUFFLElBQUEsQ0FBQUUsTUFBQSxHQUF0QyxNQUNNSCxTQUFTLENBQUMsRUFBRSxLQUFBRyxNQUFBO0FBRWxCQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFTDtBQUFVLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Module","require","DatabaseModule","AppModule","_dec","imports","_class","module","exports"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\","sources":["app.module.js"],"sourcesContent":["const { Module } = require('@nestjs/common');\nconst { DatabaseModule } = require('./database.module');\n\n@Module({ imports: [DatabaseModule] })\nclass AppModule {}\n\nmodule.exports = { AppModule };\n"],"mappings":";;;AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAC5C,MAAM;EAAEC;AAAe,CAAC,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAAC,IAGlDE,SAAS,IAAAC,IAAA,GADdJ,MAAM,CAAC;EAAEK,OAAO,EAAE,CAACH,cAAc;AAAE,CAAC,CAAC,EAAAE,IAAA,CAAAE,MAAA,GAAtC,MACMH,SAAS,CAAC,EAAE,KAAAG,MAAA;AAElBC,MAAM,CAACC,OAAO,GAAG;EAAEL;AAAU,CAAC","ignoreList":[]}},"mtime":1765302196508},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\database.module.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _class;\nconst {\n  Module\n} = require('@nestjs/common');\nconst {\n  Pool\n} = require('pg');\nconst DATABASE_POOL = 'DATABASE_POOL';\nconst DatabaseProvider = {\n  provide: DATABASE_POOL,\n  useFactory: async () => {\n    require('dotenv').config();\n    const cfg = {};\n    if (process.env.DATABASE_URL) cfg.connectionString = process.env.DATABASE_URL;\n    if (process.env.DB_HOST) cfg.host = process.env.DB_HOST;\n    if (process.env.DB_PORT) cfg.port = parseInt(process.env.DB_PORT, 10);\n    if (process.env.DB_USER) cfg.user = process.env.DB_USER;\n    if (typeof process.env.DB_PASSWORD === 'string') cfg.password = process.env.DB_PASSWORD;\n    if (process.env.DB_NAME) cfg.database = process.env.DB_NAME;\n    if (process.env.DB_SSL === 'true') cfg.ssl = {\n      rejectUnauthorized: false\n    };\n    let pool;\n    try {\n      pool = new Pool(cfg);\n      await pool.query('CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, name TEXT NOT NULL, email TEXT NOT NULL UNIQUE)');\n      await pool.query(\"ALTER TABLE users ADD COLUMN IF NOT EXISTS role TEXT NOT NULL DEFAULT 'customer'\");\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_hash TEXT');\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_salt TEXT');\n      await pool.query('CREATE TABLE IF NOT EXISTS products (id SERIAL PRIMARY KEY, name TEXT NOT NULL, price NUMERIC NOT NULL, unit TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS orders (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, total_amount NUMERIC NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS suppliers (id SERIAL PRIMARY KEY, name TEXT NOT NULL, contact TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS inventory (id SERIAL PRIMARY KEY, product_id INTEGER REFERENCES products(id) ON DELETE CASCADE, quantity NUMERIC NOT NULL, location TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS deliveries (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, status TEXT NOT NULL, eta TIMESTAMP NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS payments (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, amount NUMERIC NOT NULL, method TEXT NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS notifications (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, message TEXT NOT NULL, status TEXT NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT NOW())');\n      return pool;\n    } catch (e) {\n      console.error('Database initialization failed:', e && e.message ? e.message : e);\n      const mem = {\n        users: [],\n        products: [],\n        orders: [],\n        suppliers: [],\n        inventory: [],\n        deliveries: [],\n        payments: [],\n        notifications: [],\n        seq: {\n          users: 0,\n          products: 0,\n          orders: 0,\n          suppliers: 0,\n          inventory: 0,\n          deliveries: 0,\n          payments: 0,\n          notifications: 0\n        }\n      };\n      async function query(sql, params = []) {\n        const s = String(sql).toLowerCase().trim();\n        if (s.startsWith('select id from users where email=')) {\n          const email = params[0];\n          const found = mem.users.filter(u => u.email === email).map(u => ({\n            id: u.id\n          }));\n          return {\n            rows: found\n          };\n        }\n        if (s.startsWith('insert into users(name, email, role, password_hash, password_salt)')) {\n          const [name, email, role, hash, salt] = params;\n          const id = ++mem.seq.users;\n          const u = {\n            id,\n            name,\n            email,\n            role,\n            password_hash: hash || null,\n            password_salt: salt || null\n          };\n          mem.users.push(u);\n          return {\n            rows: [{\n              id: u.id,\n              name: u.name,\n              email: u.email,\n              role: u.role\n            }]\n          };\n        }\n        if (s.startsWith('select id, name, email, role, password_hash, password_salt from users where email=')) {\n          const email = params[0];\n          const u = mem.users.find(x => x.email === email);\n          return {\n            rows: u ? [u] : []\n          };\n        }\n        if (s.startsWith('select id, name, email from users order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.users.slice(offset, offset + limit).map(u => ({\n            id: u.id,\n            name: u.name,\n            email: u.email\n          }));\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into users(name, email)')) {\n          const [name, email] = params;\n          const id = ++mem.seq.users;\n          const u = {\n            id,\n            name,\n            email,\n            role: 'customer',\n            password_hash: null,\n            password_salt: null\n          };\n          mem.users.push(u);\n          return {\n            rows: [{\n              id: u.id,\n              name: u.name,\n              email: u.email\n            }]\n          };\n        }\n        if (s.startsWith('select id from products where name=')) {\n          const name = params[0];\n          const found = mem.products.filter(p => p.name === name).map(p => ({\n            id: p.id\n          }));\n          return {\n            rows: found\n          };\n        }\n        if (s.startsWith('insert into products(name, price, unit)')) {\n          const [name, price, unit] = params;\n          const id = ++mem.seq.products;\n          const p = {\n            id,\n            name,\n            price: Number(price),\n            unit\n          };\n          mem.products.push(p);\n          return {\n            rows: [{\n              id: p.id,\n              name: p.name,\n              price: p.price,\n              unit: p.unit\n            }]\n          };\n        }\n        if (s.startsWith('select id, name, price, unit from products where lower(name) like')) {\n          const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.products.filter(p => p.name.toLowerCase().includes(like)).slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id, name, price, unit from products order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.products.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.orders.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders where user_id=')) {\n          const userId = params[0];\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.orders.filter(o => o.user_id === userId).slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into orders(user_id, total_amount, status)')) {\n          const [userId, amount, status] = params;\n          const id = ++mem.seq.orders;\n          const o = {\n            id,\n            user_id: userId,\n            total_amount: Number(amount),\n            status\n          };\n          mem.orders.push(o);\n          return {\n            rows: [o]\n          };\n        }\n        if (s.startsWith('select id, name, contact from suppliers where lower(name) like') || s.startsWith('select id, name, contact from suppliers order by id limit')) {\n          const hasLike = s.includes('where');\n          const limit = hasLike ? params[1] || 50 : params[0] || 50;\n          const offset = hasLike ? params[2] || 0 : params[1] || 0;\n          let rows = mem.suppliers;\n          if (hasLike) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(sup => (sup.name || '').toLowerCase().includes(like) || (sup.contact || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into suppliers(name, contact)')) {\n          const [name, contact] = params;\n          const id = ++mem.seq.suppliers;\n          const sup = {\n            id,\n            name,\n            contact: contact || null\n          };\n          mem.suppliers.push(sup);\n          return {\n            rows: [sup]\n          };\n        }\n        if (s.startsWith('select i.id, i.product_id, p.name as product_name, i.quantity, i.location from inventory')) {\n          const hasWhere = s.includes('where');\n          const limit = hasWhere ? params[1] || 50 : params[0] || 50;\n          const offset = hasWhere ? params[2] || 0 : params[1] || 0;\n          let rows = mem.inventory.map(inv => {\n            const prod = mem.products.find(p => p.id === inv.product_id);\n            return {\n              id: inv.id,\n              product_id: inv.product_id,\n              product_name: prod ? prod.name : null,\n              quantity: inv.quantity,\n              location: inv.location\n            };\n          });\n          if (hasWhere) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(r => (r.product_name || '').toLowerCase().includes(like) || (r.location || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id from inventory where product_id=')) {\n          const pid = params[0];\n          const rows = mem.inventory.filter(i => i.product_id === pid).map(i => ({\n            id: i.id\n          }));\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('update inventory set quantity=')) {\n          const [quantity, location, productId] = params;\n          const inv = mem.inventory.find(i => i.product_id === productId);\n          if (inv) {\n            inv.quantity = Number(quantity);\n            inv.location = location || null;\n            return {\n              rows: [{\n                id: inv.id,\n                product_id: inv.product_id,\n                quantity: inv.quantity,\n                location: inv.location\n              }]\n            };\n          }\n          return {\n            rows: []\n          };\n        }\n        if (s.startsWith('insert into inventory(product_id, quantity, location)')) {\n          const [productId, quantity, location] = params;\n          const id = ++mem.seq.inventory;\n          const inv = {\n            id,\n            product_id: productId,\n            quantity: Number(quantity),\n            location: location || null\n          };\n          mem.inventory.push(inv);\n          return {\n            rows: [inv]\n          };\n        }\n        if (s.startsWith('select id, order_id, status, eta from deliveries order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.deliveries.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into deliveries(order_id, status, eta)')) {\n          const [orderId, status, eta] = params;\n          const id = ++mem.seq.deliveries;\n          const d = {\n            id,\n            order_id: orderId,\n            status,\n            eta: eta || null\n          };\n          mem.deliveries.push(d);\n          return {\n            rows: [d]\n          };\n        }\n        if (s.startsWith('select id, order_id, amount, method, status from payments order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.payments.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into payments(order_id, amount, method, status)')) {\n          const [orderId, amount, method, status] = params;\n          const id = ++mem.seq.payments;\n          const p = {\n            id,\n            order_id: orderId,\n            amount: Number(amount),\n            method,\n            status\n          };\n          mem.payments.push(p);\n          return {\n            rows: [p]\n          };\n        }\n        if (s.startsWith('select count(*)::int as count from users')) return {\n          rows: [{\n            count: mem.users.length\n          }]\n        };\n        if (s.startsWith('select count(*)::int as count from products')) return {\n          rows: [{\n            count: mem.products.length\n          }]\n        };\n        if (s.startsWith('select count(*)::int as count from orders')) return {\n          rows: [{\n            count: mem.orders.length\n          }]\n        };\n        if (s.startsWith('select count(*)::int as count from payments')) return {\n          rows: [{\n            count: mem.payments.length\n          }]\n        };\n        if (s.startsWith('select id, user_id, message, status, created_at from notifications order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.notifications.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into notifications(user_id, message, status)')) {\n          const [userId, message, status] = params;\n          const id = ++mem.seq.notifications;\n          const n = {\n            id,\n            user_id: userId || null,\n            message,\n            status: status || 'queued',\n            created_at: new Date().toISOString()\n          };\n          mem.notifications.push(n);\n          return {\n            rows: [n]\n          };\n        }\n        return {\n          rows: []\n        };\n      }\n      return {\n        query\n      };\n    }\n  }\n};\nlet DatabaseModule = (_dec = Module({\n  providers: [DatabaseProvider],\n  exports: [DatabaseProvider]\n}), _dec(_class = class DatabaseModule {}) || _class);\nmodule.exports = {\n  DatabaseModule,\n  DATABASE_POOL\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2R1bGUiLCJyZXF1aXJlIiwiUG9vbCIsIkRBVEFCQVNFX1BPT0wiLCJEYXRhYmFzZVByb3ZpZGVyIiwicHJvdmlkZSIsInVzZUZhY3RvcnkiLCJjb25maWciLCJjZmciLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwiY29ubmVjdGlvblN0cmluZyIsIkRCX0hPU1QiLCJob3N0IiwiREJfUE9SVCIsInBvcnQiLCJwYXJzZUludCIsIkRCX1VTRVIiLCJ1c2VyIiwiREJfUEFTU1dPUkQiLCJwYXNzd29yZCIsIkRCX05BTUUiLCJkYXRhYmFzZSIsIkRCX1NTTCIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsInBvb2wiLCJxdWVyeSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwibWVtIiwidXNlcnMiLCJwcm9kdWN0cyIsIm9yZGVycyIsInN1cHBsaWVycyIsImludmVudG9yeSIsImRlbGl2ZXJpZXMiLCJwYXltZW50cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXEiLCJzcWwiLCJwYXJhbXMiLCJzIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwic3RhcnRzV2l0aCIsImVtYWlsIiwiZm91bmQiLCJmaWx0ZXIiLCJ1IiwibWFwIiwiaWQiLCJyb3dzIiwibmFtZSIsInJvbGUiLCJoYXNoIiwic2FsdCIsInBhc3N3b3JkX2hhc2giLCJwYXNzd29yZF9zYWx0IiwicHVzaCIsImZpbmQiLCJ4IiwibGltaXQiLCJvZmZzZXQiLCJzbGljZSIsInAiLCJwcmljZSIsInVuaXQiLCJOdW1iZXIiLCJsaWtlIiwicmVwbGFjZSIsImluY2x1ZGVzIiwidXNlcklkIiwibyIsInVzZXJfaWQiLCJhbW91bnQiLCJzdGF0dXMiLCJ0b3RhbF9hbW91bnQiLCJoYXNMaWtlIiwic3VwIiwiY29udGFjdCIsImhhc1doZXJlIiwiaW52IiwicHJvZCIsInByb2R1Y3RfaWQiLCJwcm9kdWN0X25hbWUiLCJxdWFudGl0eSIsImxvY2F0aW9uIiwiciIsInBpZCIsImkiLCJwcm9kdWN0SWQiLCJvcmRlcklkIiwiZXRhIiwiZCIsIm9yZGVyX2lkIiwibWV0aG9kIiwiY291bnQiLCJsZW5ndGgiLCJuIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkRhdGFiYXNlTW9kdWxlIiwiX2RlYyIsInByb3ZpZGVycyIsImV4cG9ydHMiLCJfY2xhc3MiLCJtb2R1bGUiXSwic291cmNlUm9vdCI6IkQ6XFxJbXBvcnRhbnQgRG9jdW1lbnRzXFxGU1dEIFByb2plY3RcXHNlcnZlclxcc3JjXFwiLCJzb3VyY2VzIjpbImRhdGFiYXNlLm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZHVsZSB9ID0gcmVxdWlyZSgnQG5lc3Rqcy9jb21tb24nKTtcbmNvbnN0IHsgUG9vbCB9ID0gcmVxdWlyZSgncGcnKTtcblxuY29uc3QgREFUQUJBU0VfUE9PTCA9ICdEQVRBQkFTRV9QT09MJztcblxuY29uc3QgRGF0YWJhc2VQcm92aWRlciA9IHtcbiAgcHJvdmlkZTogREFUQUJBU0VfUE9PTCxcbiAgdXNlRmFjdG9yeTogYXN5bmMgKCkgPT4ge1xuICAgIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuICAgIGNvbnN0IGNmZyA9IHt9O1xuICAgIGlmIChwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpIGNmZy5jb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9IT1NUKSBjZmcuaG9zdCA9IHByb2Nlc3MuZW52LkRCX0hPU1Q7XG4gICAgaWYgKHByb2Nlc3MuZW52LkRCX1BPUlQpIGNmZy5wb3J0ID0gcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUE9SVCwgMTApO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9VU0VSKSBjZmcudXNlciA9IHByb2Nlc3MuZW52LkRCX1VTRVI7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCA9PT0gJ3N0cmluZycpIGNmZy5wYXNzd29yZCA9IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JEO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9OQU1FKSBjZmcuZGF0YWJhc2UgPSBwcm9jZXNzLmVudi5EQl9OQU1FO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9TU0wgPT09ICd0cnVlJykgY2ZnLnNzbCA9IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9O1xuICAgIGxldCBwb29sO1xuICAgIHRyeSB7XG4gICAgICBwb29sID0gbmV3IFBvb2woY2ZnKTtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChpZCBTRVJJQUwgUFJJTUFSWSBLRVksIG5hbWUgVEVYVCBOT1QgTlVMTCwgZW1haWwgVEVYVCBOT1QgTlVMTCBVTklRVUUpJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KFwiQUxURVIgVEFCTEUgdXNlcnMgQUREIENPTFVNTiBJRiBOT1QgRVhJU1RTIHJvbGUgVEVYVCBOT1QgTlVMTCBERUZBVUxUICdjdXN0b21lcidcIik7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdBTFRFUiBUQUJMRSB1c2VycyBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgcGFzc3dvcmRfaGFzaCBURVhUJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdBTFRFUiBUQUJMRSB1c2VycyBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgcGFzc3dvcmRfc2FsdCBURVhUJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9kdWN0cyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCBuYW1lIFRFWFQgTk9UIE5VTEwsIHByaWNlIE5VTUVSSUMgTk9UIE5VTEwsIHVuaXQgVEVYVCBOT1QgTlVMTCknKTtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG9yZGVycyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCB1c2VyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMLCB0b3RhbF9hbW91bnQgTlVNRVJJQyBOT1QgTlVMTCwgc3RhdHVzIFRFWFQgTk9UIE5VTEwpJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzdXBwbGllcnMgKGlkIFNFUklBTCBQUklNQVJZIEtFWSwgbmFtZSBURVhUIE5PVCBOVUxMLCBjb250YWN0IFRFWFQpJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBpbnZlbnRvcnkgKGlkIFNFUklBTCBQUklNQVJZIEtFWSwgcHJvZHVjdF9pZCBJTlRFR0VSIFJFRkVSRU5DRVMgcHJvZHVjdHMoaWQpIE9OIERFTEVURSBDQVNDQURFLCBxdWFudGl0eSBOVU1FUklDIE5PVCBOVUxMLCBsb2NhdGlvbiBURVhUKScpO1xuICAgICAgYXdhaXQgcG9vbC5xdWVyeSgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZGVsaXZlcmllcyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCBvcmRlcl9pZCBJTlRFR0VSIFJFRkVSRU5DRVMgb3JkZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSwgc3RhdHVzIFRFWFQgTk9UIE5VTEwsIGV0YSBUSU1FU1RBTVAgTlVMTCknKTtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHBheW1lbnRzIChpZCBTRVJJQUwgUFJJTUFSWSBLRVksIG9yZGVyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyBvcmRlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLCBhbW91bnQgTlVNRVJJQyBOT1QgTlVMTCwgbWV0aG9kIFRFWFQgTk9UIE5VTEwsIHN0YXR1cyBURVhUIE5PVCBOVUxMKScpO1xuICAgICAgYXdhaXQgcG9vbC5xdWVyeSgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbm90aWZpY2F0aW9ucyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCB1c2VyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMLCBtZXNzYWdlIFRFWFQgTk9UIE5VTEwsIHN0YXR1cyBURVhUIE5PVCBOVUxMLCBjcmVhdGVkX2F0IFRJTUVTVEFNUCBOT1QgTlVMTCBERUZBVUxUIE5PVygpKScpO1xuICAgICAgcmV0dXJuIHBvb2w7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGUgJiYgZS5tZXNzYWdlID8gZS5tZXNzYWdlIDogZSk7XG4gICAgICBjb25zdCBtZW0gPSB7XG4gICAgICAgIHVzZXJzOiBbXSxcbiAgICAgICAgcHJvZHVjdHM6IFtdLFxuICAgICAgICBvcmRlcnM6IFtdLFxuICAgICAgICBzdXBwbGllcnM6IFtdLFxuICAgICAgICBpbnZlbnRvcnk6IFtdLFxuICAgICAgICBkZWxpdmVyaWVzOiBbXSxcbiAgICAgICAgcGF5bWVudHM6IFtdLFxuICAgICAgICBub3RpZmljYXRpb25zOiBbXSxcbiAgICAgICAgc2VxOiB7IHVzZXJzOiAwLCBwcm9kdWN0czogMCwgb3JkZXJzOiAwLCBzdXBwbGllcnM6IDAsIGludmVudG9yeTogMCwgZGVsaXZlcmllczogMCwgcGF5bWVudHM6IDAsIG5vdGlmaWNhdGlvbnM6IDAgfVxuICAgICAgfTtcbiAgICAgIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHNxbCwgcGFyYW1zID0gW10pIHtcbiAgICAgICAgY29uc3QgcyA9IFN0cmluZyhzcWwpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQgZnJvbSB1c2VycyB3aGVyZSBlbWFpbD0nKSkge1xuICAgICAgICAgIGNvbnN0IGVtYWlsID0gcGFyYW1zWzBdO1xuICAgICAgICAgIGNvbnN0IGZvdW5kID0gbWVtLnVzZXJzLmZpbHRlcih1ID0+IHUuZW1haWwgPT09IGVtYWlsKS5tYXAodSA9PiAoeyBpZDogdS5pZCB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogZm91bmQgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byB1c2VycyhuYW1lLCBlbWFpbCwgcm9sZSwgcGFzc3dvcmRfaGFzaCwgcGFzc3dvcmRfc2FsdCknKSkge1xuICAgICAgICAgIGNvbnN0IFtuYW1lLCBlbWFpbCwgcm9sZSwgaGFzaCwgc2FsdF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEudXNlcnM7XG4gICAgICAgICAgY29uc3QgdSA9IHsgaWQsIG5hbWUsIGVtYWlsLCByb2xlLCBwYXNzd29yZF9oYXNoOiBoYXNoIHx8IG51bGwsIHBhc3N3b3JkX3NhbHQ6IHNhbHQgfHwgbnVsbCB9O1xuICAgICAgICAgIG1lbS51c2Vycy5wdXNoKHUpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFt7IGlkOiB1LmlkLCBuYW1lOiB1Lm5hbWUsIGVtYWlsOiB1LmVtYWlsLCByb2xlOiB1LnJvbGUgfV0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQsIG5hbWUsIGVtYWlsLCByb2xlLCBwYXNzd29yZF9oYXNoLCBwYXNzd29yZF9zYWx0IGZyb20gdXNlcnMgd2hlcmUgZW1haWw9JykpIHtcbiAgICAgICAgICBjb25zdCBlbWFpbCA9IHBhcmFtc1swXTtcbiAgICAgICAgICBjb25zdCB1ID0gbWVtLnVzZXJzLmZpbmQoeCA9PiB4LmVtYWlsID09PSBlbWFpbCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogdSA/IFt1XSA6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBuYW1lLCBlbWFpbCBmcm9tIHVzZXJzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnVzZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpLm1hcCh1ID0+ICh7IGlkOiB1LmlkLCBuYW1lOiB1Lm5hbWUsIGVtYWlsOiB1LmVtYWlsIH0pKTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnaW5zZXJ0IGludG8gdXNlcnMobmFtZSwgZW1haWwpJykpIHtcbiAgICAgICAgICBjb25zdCBbbmFtZSwgZW1haWxdID0gcGFyYW1zO1xuICAgICAgICAgIGNvbnN0IGlkID0gKyttZW0uc2VxLnVzZXJzO1xuICAgICAgICAgIGNvbnN0IHUgPSB7IGlkLCBuYW1lLCBlbWFpbCwgcm9sZTogJ2N1c3RvbWVyJywgcGFzc3dvcmRfaGFzaDogbnVsbCwgcGFzc3dvcmRfc2FsdDogbnVsbCB9O1xuICAgICAgICAgIG1lbS51c2Vycy5wdXNoKHUpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFt7IGlkOiB1LmlkLCBuYW1lOiB1Lm5hbWUsIGVtYWlsOiB1LmVtYWlsIH1dIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkIGZyb20gcHJvZHVjdHMgd2hlcmUgbmFtZT0nKSkge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgY29uc3QgZm91bmQgPSBtZW0ucHJvZHVjdHMuZmlsdGVyKHAgPT4gcC5uYW1lID09PSBuYW1lKS5tYXAocCA9PiAoeyBpZDogcC5pZCB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogZm91bmQgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBwcm9kdWN0cyhuYW1lLCBwcmljZSwgdW5pdCknKSkge1xuICAgICAgICAgIGNvbnN0IFtuYW1lLCBwcmljZSwgdW5pdF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEucHJvZHVjdHM7XG4gICAgICAgICAgY29uc3QgcCA9IHsgaWQsIG5hbWUsIHByaWNlOiBOdW1iZXIocHJpY2UpLCB1bml0IH07XG4gICAgICAgICAgbWVtLnByb2R1Y3RzLnB1c2gocCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW3sgaWQ6IHAuaWQsIG5hbWU6IHAubmFtZSwgcHJpY2U6IHAucHJpY2UsIHVuaXQ6IHAudW5pdCB9XSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgbmFtZSwgcHJpY2UsIHVuaXQgZnJvbSBwcm9kdWN0cyB3aGVyZSBsb3dlcihuYW1lKSBsaWtlJykpIHtcbiAgICAgICAgICBjb25zdCBsaWtlID0gU3RyaW5nKHBhcmFtc1swXSB8fCAnJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8lL2csICcnKTtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1sxXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMl0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnByb2R1Y3RzLmZpbHRlcihwID0+IHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxpa2UpKS5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBuYW1lLCBwcmljZSwgdW5pdCBmcm9tIHByb2R1Y3RzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnByb2R1Y3RzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQsIHVzZXJfaWQsIHRvdGFsX2Ftb3VudCwgc3RhdHVzIGZyb20gb3JkZXJzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLm9yZGVycy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCB1c2VyX2lkLCB0b3RhbF9hbW91bnQsIHN0YXR1cyBmcm9tIG9yZGVycyB3aGVyZSB1c2VyX2lkPScpKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gcGFyYW1zWzBdO1xuICAgICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zWzFdIHx8IDUwO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHBhcmFtc1syXSB8fCAwO1xuICAgICAgICAgIGNvbnN0IHJvd3MgPSBtZW0ub3JkZXJzLmZpbHRlcihvID0+IG8udXNlcl9pZCA9PT0gdXNlcklkKS5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnaW5zZXJ0IGludG8gb3JkZXJzKHVzZXJfaWQsIHRvdGFsX2Ftb3VudCwgc3RhdHVzKScpKSB7XG4gICAgICAgICAgY29uc3QgW3VzZXJJZCwgYW1vdW50LCBzdGF0dXNdID0gcGFyYW1zO1xuICAgICAgICAgIGNvbnN0IGlkID0gKyttZW0uc2VxLm9yZGVycztcbiAgICAgICAgICBjb25zdCBvID0geyBpZCwgdXNlcl9pZDogdXNlcklkLCB0b3RhbF9hbW91bnQ6IE51bWJlcihhbW91bnQpLCBzdGF0dXMgfTtcbiAgICAgICAgICBtZW0ub3JkZXJzLnB1c2gobyk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW29dIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBuYW1lLCBjb250YWN0IGZyb20gc3VwcGxpZXJzIHdoZXJlIGxvd2VyKG5hbWUpIGxpa2UnKSB8fCBzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgbmFtZSwgY29udGFjdCBmcm9tIHN1cHBsaWVycyBvcmRlciBieSBpZCBsaW1pdCcpKSB7XG4gICAgICAgICAgY29uc3QgaGFzTGlrZSA9IHMuaW5jbHVkZXMoJ3doZXJlJyk7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBoYXNMaWtlID8gcGFyYW1zWzFdIHx8IDUwIDogcGFyYW1zWzBdIHx8IDUwO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGhhc0xpa2UgPyBwYXJhbXNbMl0gfHwgMCA6IHBhcmFtc1sxXSB8fCAwO1xuICAgICAgICAgIGxldCByb3dzID0gbWVtLnN1cHBsaWVycztcbiAgICAgICAgICBpZiAoaGFzTGlrZSkge1xuICAgICAgICAgICAgY29uc3QgbGlrZSA9IFN0cmluZyhwYXJhbXNbMF0gfHwgJycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvJS9nLCAnJyk7XG4gICAgICAgICAgICByb3dzID0gcm93cy5maWx0ZXIoc3VwID0+IChzdXAubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsaWtlKSB8fCAoc3VwLmNvbnRhY3QgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobGlrZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByb3dzID0gcm93cy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnaW5zZXJ0IGludG8gc3VwcGxpZXJzKG5hbWUsIGNvbnRhY3QpJykpIHtcbiAgICAgICAgICBjb25zdCBbbmFtZSwgY29udGFjdF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEuc3VwcGxpZXJzO1xuICAgICAgICAgIGNvbnN0IHN1cCA9IHsgaWQsIG5hbWUsIGNvbnRhY3Q6IGNvbnRhY3QgfHwgbnVsbCB9O1xuICAgICAgICAgIG1lbS5zdXBwbGllcnMucHVzaChzdXApO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFtzdXBdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGkuaWQsIGkucHJvZHVjdF9pZCwgcC5uYW1lIGFzIHByb2R1Y3RfbmFtZSwgaS5xdWFudGl0eSwgaS5sb2NhdGlvbiBmcm9tIGludmVudG9yeScpKSB7XG4gICAgICAgICAgY29uc3QgaGFzV2hlcmUgPSBzLmluY2x1ZGVzKCd3aGVyZScpO1xuICAgICAgICAgIGNvbnN0IGxpbWl0ID0gaGFzV2hlcmUgPyBwYXJhbXNbMV0gfHwgNTAgOiBwYXJhbXNbMF0gfHwgNTA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaGFzV2hlcmUgPyBwYXJhbXNbMl0gfHwgMCA6IHBhcmFtc1sxXSB8fCAwO1xuICAgICAgICAgIGxldCByb3dzID0gbWVtLmludmVudG9yeS5tYXAoaW52ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2QgPSBtZW0ucHJvZHVjdHMuZmluZChwID0+IHAuaWQgPT09IGludi5wcm9kdWN0X2lkKTtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBpbnYuaWQsIHByb2R1Y3RfaWQ6IGludi5wcm9kdWN0X2lkLCBwcm9kdWN0X25hbWU6IHByb2QgPyBwcm9kLm5hbWUgOiBudWxsLCBxdWFudGl0eTogaW52LnF1YW50aXR5LCBsb2NhdGlvbjogaW52LmxvY2F0aW9uIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGhhc1doZXJlKSB7XG4gICAgICAgICAgICBjb25zdCBsaWtlID0gU3RyaW5nKHBhcmFtc1swXSB8fCAnJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8lL2csICcnKTtcbiAgICAgICAgICAgIHJvd3MgPSByb3dzLmZpbHRlcihyID0+IChyLnByb2R1Y3RfbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsaWtlKSB8fCAoci5sb2NhdGlvbiB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsaWtlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvd3MgPSByb3dzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQgZnJvbSBpbnZlbnRvcnkgd2hlcmUgcHJvZHVjdF9pZD0nKSkge1xuICAgICAgICAgIGNvbnN0IHBpZCA9IHBhcmFtc1swXTtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLmludmVudG9yeS5maWx0ZXIoaSA9PiBpLnByb2R1Y3RfaWQgPT09IHBpZCkubWFwKGkgPT4gKHsgaWQ6IGkuaWQgfSkpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCd1cGRhdGUgaW52ZW50b3J5IHNldCBxdWFudGl0eT0nKSkge1xuICAgICAgICAgIGNvbnN0IFtxdWFudGl0eSwgbG9jYXRpb24sIHByb2R1Y3RJZF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaW52ID0gbWVtLmludmVudG9yeS5maW5kKGkgPT4gaS5wcm9kdWN0X2lkID09PSBwcm9kdWN0SWQpO1xuICAgICAgICAgIGlmIChpbnYpIHtcbiAgICAgICAgICAgIGludi5xdWFudGl0eSA9IE51bWJlcihxdWFudGl0eSk7XG4gICAgICAgICAgICBpbnYubG9jYXRpb24gPSBsb2NhdGlvbiB8fCBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHsgcm93czogW3sgaWQ6IGludi5pZCwgcHJvZHVjdF9pZDogaW52LnByb2R1Y3RfaWQsIHF1YW50aXR5OiBpbnYucXVhbnRpdHksIGxvY2F0aW9uOiBpbnYubG9jYXRpb24gfV0gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBpbnZlbnRvcnkocHJvZHVjdF9pZCwgcXVhbnRpdHksIGxvY2F0aW9uKScpKSB7XG4gICAgICAgICAgY29uc3QgW3Byb2R1Y3RJZCwgcXVhbnRpdHksIGxvY2F0aW9uXSA9IHBhcmFtcztcbiAgICAgICAgICBjb25zdCBpZCA9ICsrbWVtLnNlcS5pbnZlbnRvcnk7XG4gICAgICAgICAgY29uc3QgaW52ID0geyBpZCwgcHJvZHVjdF9pZDogcHJvZHVjdElkLCBxdWFudGl0eTogTnVtYmVyKHF1YW50aXR5KSwgbG9jYXRpb246IGxvY2F0aW9uIHx8IG51bGwgfTtcbiAgICAgICAgICBtZW0uaW52ZW50b3J5LnB1c2goaW52KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzOiBbaW52XSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgb3JkZXJfaWQsIHN0YXR1cywgZXRhIGZyb20gZGVsaXZlcmllcyBvcmRlciBieSBpZCBsaW1pdCcpKSB7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXNbMF0gfHwgNTA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zWzFdIHx8IDA7XG4gICAgICAgICAgY29uc3Qgcm93cyA9IG1lbS5kZWxpdmVyaWVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBkZWxpdmVyaWVzKG9yZGVyX2lkLCBzdGF0dXMsIGV0YSknKSkge1xuICAgICAgICAgIGNvbnN0IFtvcmRlcklkLCBzdGF0dXMsIGV0YV0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEuZGVsaXZlcmllcztcbiAgICAgICAgICBjb25zdCBkID0geyBpZCwgb3JkZXJfaWQ6IG9yZGVySWQsIHN0YXR1cywgZXRhOiBldGEgfHwgbnVsbCB9O1xuICAgICAgICAgIG1lbS5kZWxpdmVyaWVzLnB1c2goZCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW2RdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cyBmcm9tIHBheW1lbnRzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnBheW1lbnRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBwYXltZW50cyhvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cyknKSkge1xuICAgICAgICAgIGNvbnN0IFtvcmRlcklkLCBhbW91bnQsIG1ldGhvZCwgc3RhdHVzXSA9IHBhcmFtcztcbiAgICAgICAgICBjb25zdCBpZCA9ICsrbWVtLnNlcS5wYXltZW50cztcbiAgICAgICAgICBjb25zdCBwID0geyBpZCwgb3JkZXJfaWQ6IG9yZGVySWQsIGFtb3VudDogTnVtYmVyKGFtb3VudCksIG1ldGhvZCwgc3RhdHVzIH07XG4gICAgICAgICAgbWVtLnBheW1lbnRzLnB1c2gocCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW3BdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGNvdW50KCopOjppbnQgYXMgY291bnQgZnJvbSB1c2VycycpKSByZXR1cm4geyByb3dzOiBbeyBjb3VudDogbWVtLnVzZXJzLmxlbmd0aCB9XSB9O1xuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgY291bnQoKik6OmludCBhcyBjb3VudCBmcm9tIHByb2R1Y3RzJykpIHJldHVybiB7IHJvd3M6IFt7IGNvdW50OiBtZW0ucHJvZHVjdHMubGVuZ3RoIH1dIH07XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBjb3VudCgqKTo6aW50IGFzIGNvdW50IGZyb20gb3JkZXJzJykpIHJldHVybiB7IHJvd3M6IFt7IGNvdW50OiBtZW0ub3JkZXJzLmxlbmd0aCB9XSB9O1xuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgY291bnQoKik6OmludCBhcyBjb3VudCBmcm9tIHBheW1lbnRzJykpIHJldHVybiB7IHJvd3M6IFt7IGNvdW50OiBtZW0ucGF5bWVudHMubGVuZ3RoIH1dIH07XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgdXNlcl9pZCwgbWVzc2FnZSwgc3RhdHVzLCBjcmVhdGVkX2F0IGZyb20gbm90aWZpY2F0aW9ucyBvcmRlciBieSBpZCBsaW1pdCcpKSB7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXNbMF0gfHwgNTA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zWzFdIHx8IDA7XG4gICAgICAgICAgY29uc3Qgcm93cyA9IG1lbS5ub3RpZmljYXRpb25zLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBub3RpZmljYXRpb25zKHVzZXJfaWQsIG1lc3NhZ2UsIHN0YXR1cyknKSkge1xuICAgICAgICAgIGNvbnN0IFt1c2VySWQsIG1lc3NhZ2UsIHN0YXR1c10gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEubm90aWZpY2F0aW9ucztcbiAgICAgICAgICBjb25zdCBuID0geyBpZCwgdXNlcl9pZDogdXNlcklkIHx8IG51bGwsIG1lc3NhZ2UsIHN0YXR1czogc3RhdHVzIHx8ICdxdWV1ZWQnLCBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfTtcbiAgICAgICAgICBtZW0ubm90aWZpY2F0aW9ucy5wdXNoKG4pO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFtuXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJvd3M6IFtdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBxdWVyeSB9O1xuICAgIH1cbiAgfVxufTtcblxuQE1vZHVsZSh7XG4gIHByb3ZpZGVyczogW0RhdGFiYXNlUHJvdmlkZXJdLFxuICBleHBvcnRzOiBbRGF0YWJhc2VQcm92aWRlcl1cbn0pXG5jbGFzcyBEYXRhYmFzZU1vZHVsZSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgRGF0YWJhc2VNb2R1bGUsIERBVEFCQVNFX1BPT0wgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzVDLE1BQU07RUFBRUM7QUFBSyxDQUFDLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFFOUIsTUFBTUUsYUFBYSxHQUFHLGVBQWU7QUFFckMsTUFBTUMsZ0JBQWdCLEdBQUc7RUFDdkJDLE9BQU8sRUFBRUYsYUFBYTtFQUN0QkcsVUFBVSxFQUFFLE1BQUFBLENBQUEsS0FBWTtJQUN0QkwsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDTSxNQUFNLENBQUMsQ0FBQztJQUMxQixNQUFNQyxHQUFHLEdBQUcsQ0FBQyxD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","map":{"version":3,"names":["Module","require","Pool","DATABASE_POOL","DatabaseProvider","provide","useFactory","config","cfg","process","env","DATABASE_URL","connectionString","DB_HOST","host","DB_PORT","port","parseInt","DB_USER","user","DB_PASSWORD","password","DB_NAME","database","DB_SSL","ssl","rejectUnauthorized","pool","query","e","console","error","message","mem","users","products","orders","suppliers","inventory","deliveries","payments","notifications","seq","sql","params","s","String","toLowerCase","trim","startsWith","email","found","filter","u","map","id","rows","name","role","hash","salt","password_hash","password_salt","push","find","x","limit","offset","slice","p","price","unit","Number","like","replace","includes","userId","o","user_id","amount","status","total_amount","hasLike","sup","contact","hasWhere","inv","prod","product_id","product_name","quantity","location","r","pid","i","productId","orderId","eta","d","order_id","method","count","length","n","created_at","Date","toISOString","DatabaseModule","_dec","providers","exports","_class","module"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\","sources":["database.module.js"],"sourcesContent":["const { Module } = require('@nestjs/common');\nconst { Pool } = require('pg');\n\nconst DATABASE_POOL = 'DATABASE_POOL';\n\nconst DatabaseProvider = {\n  provide: DATABASE_POOL,\n  useFactory: async () => {\n    require('dotenv').config();\n    const cfg = {};\n    if (process.env.DATABASE_URL) cfg.connectionString = process.env.DATABASE_URL;\n    if (process.env.DB_HOST) cfg.host = process.env.DB_HOST;\n    if (process.env.DB_PORT) cfg.port = parseInt(process.env.DB_PORT, 10);\n    if (process.env.DB_USER) cfg.user = process.env.DB_USER;\n    if (typeof process.env.DB_PASSWORD === 'string') cfg.password = process.env.DB_PASSWORD;\n    if (process.env.DB_NAME) cfg.database = process.env.DB_NAME;\n    if (process.env.DB_SSL === 'true') cfg.ssl = { rejectUnauthorized: false };\n    let pool;\n    try {\n      pool = new Pool(cfg);\n      await pool.query('CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, name TEXT NOT NULL, email TEXT NOT NULL UNIQUE)');\n      await pool.query(\"ALTER TABLE users ADD COLUMN IF NOT EXISTS role TEXT NOT NULL DEFAULT 'customer'\");\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_hash TEXT');\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_salt TEXT');\n      await pool.query('CREATE TABLE IF NOT EXISTS products (id SERIAL PRIMARY KEY, name TEXT NOT NULL, price NUMERIC NOT NULL, unit TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS orders (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, total_amount NUMERIC NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS suppliers (id SERIAL PRIMARY KEY, name TEXT NOT NULL, contact TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS inventory (id SERIAL PRIMARY KEY, product_id INTEGER REFERENCES products(id) ON DELETE CASCADE, quantity NUMERIC NOT NULL, location TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS deliveries (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, status TEXT NOT NULL, eta TIMESTAMP NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS payments (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, amount NUMERIC NOT NULL, method TEXT NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS notifications (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, message TEXT NOT NULL, status TEXT NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT NOW())');\n      return pool;\n    } catch (e) {\n      console.error('Database initialization failed:', e && e.message ? e.message : e);\n      const mem = {\n        users: [],\n        products: [],\n        orders: [],\n        suppliers: [],\n        inventory: [],\n        deliveries: [],\n        payments: [],\n        notifications: [],\n        seq: { users: 0, products: 0, orders: 0, suppliers: 0, inventory: 0, deliveries: 0, payments: 0, notifications: 0 }\n      };\n      async function query(sql, params = []) {\n        const s = String(sql).toLowerCase().trim();\n        if (s.startsWith('select id from users where email=')) {\n          const email = params[0];\n          const found = mem.users.filter(u => u.email === email).map(u => ({ id: u.id }));\n          return { rows: found };\n        }\n        if (s.startsWith('insert into users(name, email, role, password_hash, password_salt)')) {\n          const [name, email, role, hash, salt] = params;\n          const id = ++mem.seq.users;\n          const u = { id, name, email, role, password_hash: hash || null, password_salt: salt || null };\n          mem.users.push(u);\n          return { rows: [{ id: u.id, name: u.name, email: u.email, role: u.role }] };\n        }\n        if (s.startsWith('select id, name, email, role, password_hash, password_salt from users where email=')) {\n          const email = params[0];\n          const u = mem.users.find(x => x.email === email);\n          return { rows: u ? [u] : [] };\n        }\n        if (s.startsWith('select id, name, email from users order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.users.slice(offset, offset + limit).map(u => ({ id: u.id, name: u.name, email: u.email }));\n          return { rows };\n        }\n        if (s.startsWith('insert into users(name, email)')) {\n          const [name, email] = params;\n          const id = ++mem.seq.users;\n          const u = { id, name, email, role: 'customer', password_hash: null, password_salt: null };\n          mem.users.push(u);\n          return { rows: [{ id: u.id, name: u.name, email: u.email }] };\n        }\n        if (s.startsWith('select id from products where name=')) {\n          const name = params[0];\n          const found = mem.products.filter(p => p.name === name).map(p => ({ id: p.id }));\n          return { rows: found };\n        }\n        if (s.startsWith('insert into products(name, price, unit)')) {\n          const [name, price, unit] = params;\n          const id = ++mem.seq.products;\n          const p = { id, name, price: Number(price), unit };\n          mem.products.push(p);\n          return { rows: [{ id: p.id, name: p.name, price: p.price, unit: p.unit }] };\n        }\n        if (s.startsWith('select id, name, price, unit from products where lower(name) like')) {\n          const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.products.filter(p => p.name.toLowerCase().includes(like)).slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id, name, price, unit from products order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.products.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.orders.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders where user_id=')) {\n          const userId = params[0];\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.orders.filter(o => o.user_id === userId).slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into orders(user_id, total_amount, status)')) {\n          const [userId, amount, status] = params;\n          const id = ++mem.seq.orders;\n          const o = { id, user_id: userId, total_amount: Number(amount), status };\n          mem.orders.push(o);\n          return { rows: [o] };\n        }\n        if (s.startsWith('select id, name, contact from suppliers where lower(name) like') || s.startsWith('select id, name, contact from suppliers order by id limit')) {\n          const hasLike = s.includes('where');\n          const limit = hasLike ? params[1] || 50 : params[0] || 50;\n          const offset = hasLike ? params[2] || 0 : params[1] || 0;\n          let rows = mem.suppliers;\n          if (hasLike) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(sup => (sup.name || '').toLowerCase().includes(like) || (sup.contact || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into suppliers(name, contact)')) {\n          const [name, contact] = params;\n          const id = ++mem.seq.suppliers;\n          const sup = { id, name, contact: contact || null };\n          mem.suppliers.push(sup);\n          return { rows: [sup] };\n        }\n        if (s.startsWith('select i.id, i.product_id, p.name as product_name, i.quantity, i.location from inventory')) {\n          const hasWhere = s.includes('where');\n          const limit = hasWhere ? params[1] || 50 : params[0] || 50;\n          const offset = hasWhere ? params[2] || 0 : params[1] || 0;\n          let rows = mem.inventory.map(inv => {\n            const prod = mem.products.find(p => p.id === inv.product_id);\n            return { id: inv.id, product_id: inv.product_id, product_name: prod ? prod.name : null, quantity: inv.quantity, location: inv.location };\n          });\n          if (hasWhere) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(r => (r.product_name || '').toLowerCase().includes(like) || (r.location || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id from inventory where product_id=')) {\n          const pid = params[0];\n          const rows = mem.inventory.filter(i => i.product_id === pid).map(i => ({ id: i.id }));\n          return { rows };\n        }\n        if (s.startsWith('update inventory set quantity=')) {\n          const [quantity, location, productId] = params;\n          const inv = mem.inventory.find(i => i.product_id === productId);\n          if (inv) {\n            inv.quantity = Number(quantity);\n            inv.location = location || null;\n            return { rows: [{ id: inv.id, product_id: inv.product_id, quantity: inv.quantity, location: inv.location }] };\n          }\n          return { rows: [] };\n        }\n        if (s.startsWith('insert into inventory(product_id, quantity, location)')) {\n          const [productId, quantity, location] = params;\n          const id = ++mem.seq.inventory;\n          const inv = { id, product_id: productId, quantity: Number(quantity), location: location || null };\n          mem.inventory.push(inv);\n          return { rows: [inv] };\n        }\n        if (s.startsWith('select id, order_id, status, eta from deliveries order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.deliveries.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into deliveries(order_id, status, eta)')) {\n          const [orderId, status, eta] = params;\n          const id = ++mem.seq.deliveries;\n          const d = { id, order_id: orderId, status, eta: eta || null };\n          mem.deliveries.push(d);\n          return { rows: [d] };\n        }\n        if (s.startsWith('select id, order_id, amount, method, status from payments order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.payments.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into payments(order_id, amount, method, status)')) {\n          const [orderId, amount, method, status] = params;\n          const id = ++mem.seq.payments;\n          const p = { id, order_id: orderId, amount: Number(amount), method, status };\n          mem.payments.push(p);\n          return { rows: [p] };\n        }\n        if (s.startsWith('select count(*)::int as count from users')) return { rows: [{ count: mem.users.length }] };\n        if (s.startsWith('select count(*)::int as count from products')) return { rows: [{ count: mem.products.length }] };\n        if (s.startsWith('select count(*)::int as count from orders')) return { rows: [{ count: mem.orders.length }] };\n        if (s.startsWith('select count(*)::int as count from payments')) return { rows: [{ count: mem.payments.length }] };\n        if (s.startsWith('select id, user_id, message, status, created_at from notifications order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.notifications.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into notifications(user_id, message, status)')) {\n          const [userId, message, status] = params;\n          const id = ++mem.seq.notifications;\n          const n = { id, user_id: userId || null, message, status: status || 'queued', created_at: new Date().toISOString() };\n          mem.notifications.push(n);\n          return { rows: [n] };\n        }\n        return { rows: [] };\n      }\n      return { query };\n    }\n  }\n};\n\n@Module({\n  providers: [DatabaseProvider],\n  exports: [DatabaseProvider]\n})\nclass DatabaseModule {}\n\nmodule.exports = { DatabaseModule, DATABASE_POOL };\n"],"mappings":"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","ignoreList":[]}},"mtime":1765840666134},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\users.module.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _class;\nconst {\n  Module\n} = require('@nestjs/common');\nconst {\n  UsersController\n} = require('./users.controller');\nconst {\n  usersServiceProvider\n} = require('./users.service');\nconst {\n  DatabaseModule\n} = require('../../database.module');\nlet UsersModule = (_dec = Module({\n  imports: [DatabaseModule],\n  controllers: [UsersController],\n  providers: [usersServiceProvider]\n}), _dec(_class = class UsersModule {}) || _class);\nmodule.exports = {\n  UsersModule\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2R1bGUiLCJyZXF1aXJlIiwiVXNlcnNDb250cm9sbGVyIiwidXNlcnNTZXJ2aWNlUHJvdmlkZXIiLCJEYXRhYmFzZU1vZHVsZSIsIlVzZXJzTW9kdWxlIiwiX2RlYyIsImltcG9ydHMiLCJjb250cm9sbGVycyIsInByb3ZpZGVycyIsIl9jbGFzcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxJbXBvcnRhbnQgRG9jdW1lbnRzXFxGU1dEIFByb2plY3RcXHNlcnZlclxcc3JjXFxtb2R1bGVzXFx1c2Vyc1xcIiwic291cmNlcyI6WyJ1c2Vycy5tb2R1bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2R1bGUgfSA9IHJlcXVpcmUoJ0BuZXN0anMvY29tbW9uJyk7XG5jb25zdCB7IFVzZXJzQ29udHJvbGxlciB9ID0gcmVxdWlyZSgnLi91c2Vycy5jb250cm9sbGVyJyk7XG5jb25zdCB7IHVzZXJzU2VydmljZVByb3ZpZGVyIH0gPSByZXF1aXJlKCcuL3VzZXJzLnNlcnZpY2UnKTtcbmNvbnN0IHsgRGF0YWJhc2VNb2R1bGUgfSA9IHJlcXVpcmUoJy4uLy4uL2RhdGFiYXNlLm1vZHVsZScpO1xuXG5ATW9kdWxlKHtcbiAgaW1wb3J0czogW0RhdGFiYXNlTW9kdWxlXSxcbiAgY29udHJvbGxlcnM6IFtVc2Vyc0NvbnRyb2xsZXJdLFxuICBwcm92aWRlcnM6IFt1c2Vyc1NlcnZpY2VQcm92aWRlcl1cbn0pXG5jbGFzcyBVc2Vyc01vZHVsZSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgVXNlcnNNb2R1bGUgfTtcblxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFNO0VBQUVBO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDNUMsTUFBTTtFQUFFQztBQUFnQixDQUFDLEdBQUdELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUN6RCxNQUFNO0VBQUVFO0FBQXFCLENBQUMsR0FBR0YsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzNELE1BQU07RUFBRUc7QUFBZSxDQUFDLEdBQUdILE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUFDLElBT3RESSxXQUFXLElBQUFDLElBQUEsR0FMaEJOLE1BQU0sQ0FBQztFQUNOTyxPQUFPLEVBQUUsQ0FBQ0gsY0FBYyxDQUFDO0VBQ3pCSSxXQUFXLEVBQUUsQ0FBQ04sZUFBZSxDQUFDO0VBQzlCTyxTQUFTLEVBQUUsQ0FBQ04sb0JBQW9CO0FBQ2xDLENBQUMsQ0FBQyxFQUFBRyxJQUFBLENBQUFJLE1BQUEsR0FKRixNQUtNTCxXQUFXLENBQUMsRUFBRSxLQUFBSyxNQUFBO0FBRXBCQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFUDtBQUFZLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Module","require","UsersController","usersServiceProvider","DatabaseModule","UsersModule","_dec","imports","controllers","providers","_class","module","exports"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\modules\\users\\","sources":["users.module.js"],"sourcesContent":["const { Module } = require('@nestjs/common');\nconst { UsersController } = require('./users.controller');\nconst { usersServiceProvider } = require('./users.service');\nconst { DatabaseModule } = require('../../database.module');\n\n@Module({\n  imports: [DatabaseModule],\n  controllers: [UsersController],\n  providers: [usersServiceProvider]\n})\nclass UsersModule {}\n\nmodule.exports = { UsersModule };\n\n"],"mappings":";;;AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAC5C,MAAM;EAAEC;AAAgB,CAAC,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AACzD,MAAM;EAAEE;AAAqB,CAAC,GAAGF,OAAO,CAAC,iBAAiB,CAAC;AAC3D,MAAM;EAAEG;AAAe,CAAC,GAAGH,OAAO,CAAC,uBAAuB,CAAC;AAAC,IAOtDI,WAAW,IAAAC,IAAA,GALhBN,MAAM,CAAC;EACNO,OAAO,EAAE,CAACH,cAAc,CAAC;EACzBI,WAAW,EAAE,CAACN,eAAe,CAAC;EAC9BO,SAAS,EAAE,CAACN,oBAAoB;AAClC,CAAC,CAAC,EAAAG,IAAA,CAAAI,MAAA,GAJF,MAKML,WAAW,CAAC,EAAE,KAAAK,MAAA;AAEpBC,MAAM,CAACC,OAAO,GAAG;EAAEP;AAAY,CAAC","ignoreList":[]}},"mtime":1765202646223},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\users.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor;\nfunction _initializerDefineProperty(e, i, r, l) { r && Object.defineProperty(e, i, { enumerable: r.enumerable, configurable: r.configurable, writable: r.writable, value: r.initializer ? r.initializer.call(l) : void 0 }); }\nfunction _applyDecoratedDescriptor(i, e, r, n, l) { var a = {}; return Object.keys(n).forEach(function (i) { a[i] = n[i]; }), a.enumerable = !!a.enumerable, a.configurable = !!a.configurable, (\"value\" in a || a.initializer) && (a.writable = !0), a = r.slice().reverse().reduce(function (r, n) { return n(i, e, r) || r; }, a), l && void 0 !== a.initializer && (a.value = a.initializer ? a.initializer.call(l) : void 0, a.initializer = void 0), void 0 === a.initializer ? (Object.defineProperty(i, e, a), null) : a; }\nfunction _initializerWarningHelper(r, e) { throw Error(\"Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.\"); }\nconst {\n  Controller,\n  Get,\n  Post,\n  Body,\n  Inject\n} = require('@nestjs/common');\nlet UsersController = (_dec = Controller('users'), _dec2 = Inject('USERS_SERVICE'), _dec3 = Get(), _dec4 = Post(), _dec(_class = (_class2 = class UsersController {\n  constructor() {\n    _initializerDefineProperty(this, \"usersService\", _descriptor, this);\n  }\n  async findAll() {\n    return this.usersService.findAll();\n  }\n  async create(@Body()\n  dto) {\n    return this.usersService.create(dto);\n  }\n}, _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"usersService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"findAll\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"findAll\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"create\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"create\"), _class2.prototype), _class2)) || _class);\nmodule.exports = {\n  UsersController\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb250cm9sbGVyIiwiR2V0IiwiUG9zdCIsIkJvZHkiLCJJbmplY3QiLCJyZXF1aXJlIiwiVXNlcnNDb250cm9sbGVyIiwiX2RlYyIsIl9kZWMyIiwiX2RlYzMiLCJfZGVjNCIsIl9jbGFzcyIsIl9jbGFzczIiLCJjb25zdHJ1Y3RvciIsIl9pbml0aWFsaXplckRlZmluZVByb3BlcnR5IiwiX2Rlc2NyaXB0b3IiLCJmaW5kQWxsIiwidXNlcnNTZXJ2aWNlIiwiY3JlYXRlIiwiZHRvIiwiX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciIsInByb3RvdHlwZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImluaXRpYWxpemVyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEltcG9ydGFudCBEb2N1bWVudHNcXEZTV0QgUHJvamVjdFxcc2VydmVyXFxzcmNcXG1vZHVsZXNcXHVzZXJzXFwiLCJzb3VyY2VzIjpbInVzZXJzLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBDb250cm9sbGVyLCBHZXQsIFBvc3QsIEJvZHksIEluamVjdCB9ID0gcmVxdWlyZSgnQG5lc3Rqcy9jb21tb24nKTtcblxuQENvbnRyb2xsZXIoJ3VzZXJzJylcbmNsYXNzIFVzZXJzQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgQEluamVjdCgnVVNFUlNfU0VSVklDRScpIHVzZXJzU2VydmljZTtcblxuICBAR2V0KClcbiAgYXN5bmMgZmluZEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy51c2Vyc1NlcnZpY2UuZmluZEFsbCgpO1xuICB9XG5cbiAgQFBvc3QoKVxuICBhc3luYyBjcmVhdGUoQEJvZHkoKSBkdG8pIHsgcmV0dXJuIHRoaXMudXNlcnNTZXJ2aWNlLmNyZWF0ZShkdG8pOyB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBVc2Vyc0NvbnRyb2xsZXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTTtFQUFFQSxVQUFVO0VBQUVDLEdBQUc7RUFBRUMsSUFBSTtFQUFFQyxJQUFJO0VBQUVDO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFBQyxJQUdwRUMsZUFBZSxJQUFBQyxJQUFBLEdBRHBCUCxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUFRLEtBQUEsR0FHakJKLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBQUssS0FBQSxHQUV2QlIsR0FBRyxDQUFDLENBQUMsRUFBQVMsS0FBQSxHQUtMUixJQUFJLENBQUMsQ0FBQyxFQUFBSyxJQUFBLENBQUFJLE1BQUEsSUFBQUMsT0FBQSxHQVZULE1BQ01OLGVBQWUsQ0FBQztFQUNwQk8sV0FBV0EsQ0FBQSxFQUFHO0lBQUFDLDBCQUFBLHVCQUFBQyxXQUFBO0VBQUM7RUFHZixNQUNNQyxPQUFPQSxDQUFBLEVBQUc7SUFDZCxPQUFPLElBQUksQ0FBQ0MsWUFBWSxDQUFDRCxPQUFPLENBQUMsQ0FBQztFQUNwQztFQUVBLE1BQ01FLE1BQU1BLENBQUMsQ0FBQ2YsSUFBSSxDQUFDO0VBQU5nQixHQUFXLEVBQUU7SUFBRSxPQUFPLElBQUksQ0FBQ0YsWUFBWSxDQUFDQyxNQUFNLENBQUNDLEdBQUcsQ0FBQztFQUFFO0FBQ3BFLENBQUMsRUFBQUosV0FBQSxHQUFBSyx5QkFBQSxDQUFBUixPQUFBLENBQUFTLFNBQUEsbUJBQUFiLEtBQUE7RUFBQWMsWUFBQTtFQUFBQyxVQUFBO0VBQUFDLFFBQUE7RUFBQUMsV0FBQTtBQUFBLElBQUFMLHlCQUFBLENBQUFSLE9BQUEsQ0FBQVMsU0FBQSxjQUFBWixLQUFBLEdBQUFpQixNQUFBLENBQUFDLHdCQUFBLENBQUFmLE9BQUEsQ0FBQVMsU0FBQSxjQUFBVCxPQUFBLENBQUFTLFNBQUEsR0FBQUQseUJBQUEsQ0FBQVIsT0FBQSxDQUFBUyxTQUFBLGFBQUFYLEtBQUEsR0FBQWdCLE1BQUEsQ0FBQUMsd0JBQUEsQ0FBQWYsT0FBQSxDQUFBUyxTQUFBLGFBQUFULE9BQUEsQ0FBQVMsU0FBQSxHQUFBVCxPQUFBLE1BQUFELE1BQUE7QUFFRGlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUV2QjtBQUFnQixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Controller","Get","Post","Body","Inject","require","UsersController","_dec","_dec2","_dec3","_dec4","_class","_class2","constructor","_initializerDefineProperty","_descriptor","findAll","usersService","create","dto","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","Object","getOwnPropertyDescriptor","module","exports"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\modules\\users\\","sources":["users.controller.js"],"sourcesContent":["const { Controller, Get, Post, Body, Inject } = require('@nestjs/common');\n\n@Controller('users')\nclass UsersController {\n  constructor() {}\n  @Inject('USERS_SERVICE') usersService;\n\n  @Get()\n  async findAll() {\n    return this.usersService.findAll();\n  }\n\n  @Post()\n  async create(@Body() dto) { return this.usersService.create(dto); }\n}\n\nmodule.exports = { UsersController };\n"],"mappings":";;;;;;AAAA,MAAM;EAAEA,UAAU;EAAEC,GAAG;EAAEC,IAAI;EAAEC,IAAI;EAAEC;AAAO,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAAC,IAGpEC,eAAe,IAAAC,IAAA,GADpBP,UAAU,CAAC,OAAO,CAAC,EAAAQ,KAAA,GAGjBJ,MAAM,CAAC,eAAe,CAAC,EAAAK,KAAA,GAEvBR,GAAG,CAAC,CAAC,EAAAS,KAAA,GAKLR,IAAI,CAAC,CAAC,EAAAK,IAAA,CAAAI,MAAA,IAAAC,OAAA,GAVT,MACMN,eAAe,CAAC;EACpBO,WAAWA,CAAA,EAAG;IAAAC,0BAAA,uBAAAC,WAAA;EAAC;EAGf,MACMC,OAAOA,CAAA,EAAG;IACd,OAAO,IAAI,CAACC,YAAY,CAACD,OAAO,CAAC,CAAC;EACpC;EAEA,MACME,MAAMA,CAAC,CAACf,IAAI,CAAC;EAANgB,GAAW,EAAE;IAAE,OAAO,IAAI,CAACF,YAAY,CAACC,MAAM,CAACC,GAAG,CAAC;EAAE;AACpE,CAAC,EAAAJ,WAAA,GAAAK,yBAAA,CAAAR,OAAA,CAAAS,SAAA,mBAAAb,KAAA;EAAAc,YAAA;EAAAC,UAAA;EAAAC,QAAA;EAAAC,WAAA;AAAA,IAAAL,yBAAA,CAAAR,OAAA,CAAAS,SAAA,cAAAZ,KAAA,GAAAiB,MAAA,CAAAC,wBAAA,CAAAf,OAAA,CAAAS,SAAA,cAAAT,OAAA,CAAAS,SAAA,GAAAD,yBAAA,CAAAR,OAAA,CAAAS,SAAA,aAAAX,KAAA,GAAAgB,MAAA,CAAAC,wBAAA,CAAAf,OAAA,CAAAS,SAAA,aAAAT,OAAA,CAAAS,SAAA,GAAAT,OAAA,MAAAD,MAAA;AAEDiB,MAAM,CAACC,OAAO,GAAG;EAAEvB;AAAgB,CAAC","ignoreList":[]}},"mtime":1765301340119},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\app.module.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _class;\nconst {\n  Module\n} = require('@nestjs/common');\nconst {\n  DatabaseModule\n} = require('./database.module');\nlet AppModule = (_dec = Module({\n  imports: [DatabaseModule]\n}), _dec(_class = class AppModule {}) || _class);\nmodule.exports = {\n  AppModule\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2R1bGUiLCJyZXF1aXJlIiwiRGF0YWJhc2VNb2R1bGUiLCJBcHBNb2R1bGUiLCJfZGVjIiwiaW1wb3J0cyIsIl9jbGFzcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxJbXBvcnRhbnQgRG9jdW1lbnRzXFxGU1dEIFByb2plY3RcXHNlcnZlclxcc3JjXFwiLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2R1bGUgfSA9IHJlcXVpcmUoJ0BuZXN0anMvY29tbW9uJyk7XG5jb25zdCB7IERhdGFiYXNlTW9kdWxlIH0gPSByZXF1aXJlKCcuL2RhdGFiYXNlLm1vZHVsZScpO1xuXG5ATW9kdWxlKHsgaW1wb3J0czogW0RhdGFiYXNlTW9kdWxlXSB9KVxuY2xhc3MgQXBwTW9kdWxlIHt9XG5cbm1vZHVsZS5leHBvcnRzID0geyBBcHBNb2R1bGUgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzVDLE1BQU07RUFBRUM7QUFBZSxDQUFDLEdBQUdELE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUFDLElBR2xERSxTQUFTLElBQUFDLElBQUEsR0FEZEosTUFBTSxDQUFDO0VBQUVLLE9BQU8sRUFBRSxDQUFDSCxjQUFjO0FBQUUsQ0FBQyxDQUFDLEVBQUFFLElBQUEsQ0FBQUUsTUFBQSxHQUF0QyxNQUNNSCxTQUFTLENBQUMsRUFBRSxLQUFBRyxNQUFBO0FBRWxCQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFTDtBQUFVLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Module","require","DatabaseModule","AppModule","_dec","imports","_class","module","exports"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\","sources":["app.module.js"],"sourcesContent":["const { Module } = require('@nestjs/common');\nconst { DatabaseModule } = require('./database.module');\n\n@Module({ imports: [DatabaseModule] })\nclass AppModule {}\n\nmodule.exports = { AppModule };\n"],"mappings":";;;AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAC5C,MAAM;EAAEC;AAAe,CAAC,GAAGD,OAAO,CAAC,mBAAmB,CAAC;AAAC,IAGlDE,SAAS,IAAAC,IAAA,GADdJ,MAAM,CAAC;EAAEK,OAAO,EAAE,CAACH,cAAc;AAAE,CAAC,CAAC,EAAAE,IAAA,CAAAE,MAAA,GAAtC,MACMH,SAAS,CAAC,EAAE,KAAAG,MAAA;AAElBC,MAAM,CAACC,OAAO,GAAG;EAAEL;AAAU,CAAC","ignoreList":[]}},"mtime":1765302196508},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\database.module.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _class;\nconst {\n  Module\n} = require('@nestjs/common');\nconst {\n  Pool\n} = require('pg');\nconst DATABASE_POOL = 'DATABASE_POOL';\nconst DatabaseProvider = {\n  provide: DATABASE_POOL,\n  useFactory: async () => {\n    require('dotenv').config();\n    const cfg = {};\n    if (process.env.DATABASE_URL) cfg.connectionString = process.env.DATABASE_URL;\n    if (process.env.DB_HOST) cfg.host = process.env.DB_HOST;\n    if (process.env.DB_PORT) cfg.port = parseInt(process.env.DB_PORT, 10);\n    if (process.env.DB_USER) cfg.user = process.env.DB_USER;\n    if (typeof process.env.DB_PASSWORD === 'string') cfg.password = process.env.DB_PASSWORD;\n    if (process.env.DB_NAME) cfg.database = process.env.DB_NAME;\n    if (process.env.DB_SSL === 'true') cfg.ssl = {\n      rejectUnauthorized: false\n    };\n    let pool;\n    try {\n      pool = new Pool(cfg);\n      await pool.query('CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, name TEXT NOT NULL, email TEXT NOT NULL UNIQUE)');\n      await pool.query(\"ALTER TABLE users ADD COLUMN IF NOT EXISTS role TEXT NOT NULL DEFAULT 'customer'\");\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_hash TEXT');\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_salt TEXT');\n      await pool.query('CREATE TABLE IF NOT EXISTS products (id SERIAL PRIMARY KEY, name TEXT NOT NULL, price NUMERIC NOT NULL, unit TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS orders (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, total_amount NUMERIC NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS suppliers (id SERIAL PRIMARY KEY, name TEXT NOT NULL, contact TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS inventory (id SERIAL PRIMARY KEY, product_id INTEGER REFERENCES products(id) ON DELETE CASCADE, quantity NUMERIC NOT NULL, location TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS deliveries (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, status TEXT NOT NULL, eta TIMESTAMP NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS payments (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, amount NUMERIC NOT NULL, method TEXT NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS notifications (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, message TEXT NOT NULL, status TEXT NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT NOW())');\n      return pool;\n    } catch (e) {\n      console.error('Database initialization failed:', e && e.message ? e.message : e);\n      const mem = {\n        users: [],\n        products: [],\n        orders: [],\n        suppliers: [],\n        inventory: [],\n        deliveries: [],\n        payments: [],\n        notifications: [],\n        seq: {\n          users: 0,\n          products: 0,\n          orders: 0,\n          suppliers: 0,\n          inventory: 0,\n          deliveries: 0,\n          payments: 0,\n          notifications: 0\n        }\n      };\n      async function query(sql, params = []) {\n        const s = String(sql).toLowerCase().trim();\n        if (s.startsWith('select id from users where email=')) {\n          const email = params[0];\n          const found = mem.users.filter(u => u.email === email).map(u => ({\n            id: u.id\n          }));\n          return {\n            rows: found\n          };\n        }\n        if (s.startsWith('insert into users(name, email, role, password_hash, password_salt)')) {\n          const [name, email, role, hash, salt] = params;\n          const id = ++mem.seq.users;\n          const u = {\n            id,\n            name,\n            email,\n            role,\n            password_hash: hash || null,\n            password_salt: salt || null\n          };\n          mem.users.push(u);\n          return {\n            rows: [{\n              id: u.id,\n              name: u.name,\n              email: u.email,\n              role: u.role\n            }]\n          };\n        }\n        if (s.startsWith('select id, name, email, role, password_hash, password_salt from users where email=')) {\n          const email = params[0];\n          const u = mem.users.find(x => x.email === email);\n          return {\n            rows: u ? [u] : []\n          };\n        }\n        if (s.startsWith('select id, name, email from users order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.users.slice(offset, offset + limit).map(u => ({\n            id: u.id,\n            name: u.name,\n            email: u.email\n          }));\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into users(name, email)')) {\n          const [name, email] = params;\n          const id = ++mem.seq.users;\n          const u = {\n            id,\n            name,\n            email,\n            role: 'customer',\n            password_hash: null,\n            password_salt: null\n          };\n          mem.users.push(u);\n          return {\n            rows: [{\n              id: u.id,\n              name: u.name,\n              email: u.email\n            }]\n          };\n        }\n        if (s.startsWith('select id from products where name=')) {\n          const name = params[0];\n          const found = mem.products.filter(p => p.name === name).map(p => ({\n            id: p.id\n          }));\n          return {\n            rows: found\n          };\n        }\n        if (s.startsWith('insert into products(name, price, unit)')) {\n          const [name, price, unit] = params;\n          const id = ++mem.seq.products;\n          const p = {\n            id,\n            name,\n            price: Number(price),\n            unit\n          };\n          mem.products.push(p);\n          return {\n            rows: [{\n              id: p.id,\n              name: p.name,\n              price: p.price,\n              unit: p.unit\n            }]\n          };\n        }\n        if (s.startsWith('select id, name, price, unit from products where lower(name) like')) {\n          const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.products.filter(p => p.name.toLowerCase().includes(like)).slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id, name, price, unit from products order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.products.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.orders.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders where user_id=')) {\n          const userId = params[0];\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.orders.filter(o => o.user_id === userId).slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into orders(user_id, total_amount, status)')) {\n          const [userId, amount, status] = params;\n          const id = ++mem.seq.orders;\n          const o = {\n            id,\n            user_id: userId,\n            total_amount: Number(amount),\n            status\n          };\n          mem.orders.push(o);\n          return {\n            rows: [o]\n          };\n        }\n        if (s.startsWith('select id, name, contact from suppliers where lower(name) like') || s.startsWith('select id, name, contact from suppliers order by id limit')) {\n          const hasLike = s.includes('where');\n          const limit = hasLike ? params[1] || 50 : params[0] || 50;\n          const offset = hasLike ? params[2] || 0 : params[1] || 0;\n          let rows = mem.suppliers;\n          if (hasLike) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(sup => (sup.name || '').toLowerCase().includes(like) || (sup.contact || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into suppliers(name, contact)')) {\n          const [name, contact] = params;\n          const id = ++mem.seq.suppliers;\n          const sup = {\n            id,\n            name,\n            contact: contact || null\n          };\n          mem.suppliers.push(sup);\n          return {\n            rows: [sup]\n          };\n        }\n        if (s.startsWith('select i.id, i.product_id, p.name as product_name, i.quantity, i.location from inventory')) {\n          const hasWhere = s.includes('where');\n          const limit = hasWhere ? params[1] || 50 : params[0] || 50;\n          const offset = hasWhere ? params[2] || 0 : params[1] || 0;\n          let rows = mem.inventory.map(inv => {\n            const prod = mem.products.find(p => p.id === inv.product_id);\n            return {\n              id: inv.id,\n              product_id: inv.product_id,\n              product_name: prod ? prod.name : null,\n              quantity: inv.quantity,\n              location: inv.location\n            };\n          });\n          if (hasWhere) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(r => (r.product_name || '').toLowerCase().includes(like) || (r.location || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('select id from inventory where product_id=')) {\n          const pid = params[0];\n          const rows = mem.inventory.filter(i => i.product_id === pid).map(i => ({\n            id: i.id\n          }));\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('update inventory set quantity=')) {\n          const [quantity, location, productId] = params;\n          const inv = mem.inventory.find(i => i.product_id === productId);\n          if (inv) {\n            inv.quantity = Number(quantity);\n            inv.location = location || null;\n            return {\n              rows: [{\n                id: inv.id,\n                product_id: inv.product_id,\n                quantity: inv.quantity,\n                location: inv.location\n              }]\n            };\n          }\n          return {\n            rows: []\n          };\n        }\n        if (s.startsWith('insert into inventory(product_id, quantity, location)')) {\n          const [productId, quantity, location] = params;\n          const id = ++mem.seq.inventory;\n          const inv = {\n            id,\n            product_id: productId,\n            quantity: Number(quantity),\n            location: location || null\n          };\n          mem.inventory.push(inv);\n          return {\n            rows: [inv]\n          };\n        }\n        if (s.startsWith('select id, order_id, status, eta from deliveries order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.deliveries.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into deliveries(order_id, status, eta)')) {\n          const [orderId, status, eta] = params;\n          const id = ++mem.seq.deliveries;\n          const d = {\n            id,\n            order_id: orderId,\n            status,\n            eta: eta || null\n          };\n          mem.deliveries.push(d);\n          return {\n            rows: [d]\n          };\n        }\n        if (s.startsWith('select id, order_id, amount, method, status from payments order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.payments.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into payments(order_id, amount, method, status)')) {\n          const [orderId, amount, method, status] = params;\n          const id = ++mem.seq.payments;\n          const p = {\n            id,\n            order_id: orderId,\n            amount: Number(amount),\n            method,\n            status\n          };\n          mem.payments.push(p);\n          return {\n            rows: [p]\n          };\n        }\n        if (s.startsWith('select count(*)::int as count from users')) return {\n          rows: [{\n            count: mem.users.length\n          }]\n        };\n        if (s.startsWith('select count(*)::int as count from products')) return {\n          rows: [{\n            count: mem.products.length\n          }]\n        };\n        if (s.startsWith('select count(*)::int as count from orders')) return {\n          rows: [{\n            count: mem.orders.length\n          }]\n        };\n        if (s.startsWith('select count(*)::int as count from payments')) return {\n          rows: [{\n            count: mem.payments.length\n          }]\n        };\n        if (s.startsWith('select id, user_id, message, status, created_at from notifications order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.notifications.slice(offset, offset + limit);\n          return {\n            rows\n          };\n        }\n        if (s.startsWith('insert into notifications(user_id, message, status)')) {\n          const [userId, message, status] = params;\n          const id = ++mem.seq.notifications;\n          const n = {\n            id,\n            user_id: userId || null,\n            message,\n            status: status || 'queued',\n            created_at: new Date().toISOString()\n          };\n          mem.notifications.push(n);\n          return {\n            rows: [n]\n          };\n        }\n        return {\n          rows: []\n        };\n      }\n      return {\n        query\n      };\n    }\n  }\n};\nlet DatabaseModule = (_dec = Module({\n  providers: [DatabaseProvider],\n  exports: [DatabaseProvider]\n}), _dec(_class = class DatabaseModule {}) || _class);\nmodule.exports = {\n  DatabaseModule,\n  DATABASE_POOL\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2R1bGUiLCJyZXF1aXJlIiwiUG9vbCIsIkRBVEFCQVNFX1BPT0wiLCJEYXRhYmFzZVByb3ZpZGVyIiwicHJvdmlkZSIsInVzZUZhY3RvcnkiLCJjb25maWciLCJjZmciLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwiY29ubmVjdGlvblN0cmluZyIsIkRCX0hPU1QiLCJob3N0IiwiREJfUE9SVCIsInBvcnQiLCJwYXJzZUludCIsIkRCX1VTRVIiLCJ1c2VyIiwiREJfUEFTU1dPUkQiLCJwYXNzd29yZCIsIkRCX05BTUUiLCJkYXRhYmFzZSIsIkRCX1NTTCIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsInBvb2wiLCJxdWVyeSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwibWVtIiwidXNlcnMiLCJwcm9kdWN0cyIsIm9yZGVycyIsInN1cHBsaWVycyIsImludmVudG9yeSIsImRlbGl2ZXJpZXMiLCJwYXltZW50cyIsIm5vdGlmaWNhdGlvbnMiLCJzZXEiLCJzcWwiLCJwYXJhbXMiLCJzIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwic3RhcnRzV2l0aCIsImVtYWlsIiwiZm91bmQiLCJmaWx0ZXIiLCJ1IiwibWFwIiwiaWQiLCJyb3dzIiwibmFtZSIsInJvbGUiLCJoYXNoIiwic2FsdCIsInBhc3N3b3JkX2hhc2giLCJwYXNzd29yZF9zYWx0IiwicHVzaCIsImZpbmQiLCJ4IiwibGltaXQiLCJvZmZzZXQiLCJzbGljZSIsInAiLCJwcmljZSIsInVuaXQiLCJOdW1iZXIiLCJsaWtlIiwicmVwbGFjZSIsImluY2x1ZGVzIiwidXNlcklkIiwibyIsInVzZXJfaWQiLCJhbW91bnQiLCJzdGF0dXMiLCJ0b3RhbF9hbW91bnQiLCJoYXNMaWtlIiwic3VwIiwiY29udGFjdCIsImhhc1doZXJlIiwiaW52IiwicHJvZCIsInByb2R1Y3RfaWQiLCJwcm9kdWN0X25hbWUiLCJxdWFudGl0eSIsImxvY2F0aW9uIiwiciIsInBpZCIsImkiLCJwcm9kdWN0SWQiLCJvcmRlcklkIiwiZXRhIiwiZCIsIm9yZGVyX2lkIiwibWV0aG9kIiwiY291bnQiLCJsZW5ndGgiLCJuIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIkRhdGFiYXNlTW9kdWxlIiwiX2RlYyIsInByb3ZpZGVycyIsImV4cG9ydHMiLCJfY2xhc3MiLCJtb2R1bGUiXSwic291cmNlUm9vdCI6IkQ6XFxJbXBvcnRhbnQgRG9jdW1lbnRzXFxGU1dEIFByb2plY3RcXHNlcnZlclxcc3JjXFwiLCJzb3VyY2VzIjpbImRhdGFiYXNlLm1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IE1vZHVsZSB9ID0gcmVxdWlyZSgnQG5lc3Rqcy9jb21tb24nKTtcbmNvbnN0IHsgUG9vbCB9ID0gcmVxdWlyZSgncGcnKTtcblxuY29uc3QgREFUQUJBU0VfUE9PTCA9ICdEQVRBQkFTRV9QT09MJztcblxuY29uc3QgRGF0YWJhc2VQcm92aWRlciA9IHtcbiAgcHJvdmlkZTogREFUQUJBU0VfUE9PTCxcbiAgdXNlRmFjdG9yeTogYXN5bmMgKCkgPT4ge1xuICAgIHJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuICAgIGNvbnN0IGNmZyA9IHt9O1xuICAgIGlmIChwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpIGNmZy5jb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9IT1NUKSBjZmcuaG9zdCA9IHByb2Nlc3MuZW52LkRCX0hPU1Q7XG4gICAgaWYgKHByb2Nlc3MuZW52LkRCX1BPUlQpIGNmZy5wb3J0ID0gcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUE9SVCwgMTApO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9VU0VSKSBjZmcudXNlciA9IHByb2Nlc3MuZW52LkRCX1VTRVI7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCA9PT0gJ3N0cmluZycpIGNmZy5wYXNzd29yZCA9IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JEO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9OQU1FKSBjZmcuZGF0YWJhc2UgPSBwcm9jZXNzLmVudi5EQl9OQU1FO1xuICAgIGlmIChwcm9jZXNzLmVudi5EQl9TU0wgPT09ICd0cnVlJykgY2ZnLnNzbCA9IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9O1xuICAgIGxldCBwb29sO1xuICAgIHRyeSB7XG4gICAgICBwb29sID0gbmV3IFBvb2woY2ZnKTtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChpZCBTRVJJQUwgUFJJTUFSWSBLRVksIG5hbWUgVEVYVCBOT1QgTlVMTCwgZW1haWwgVEVYVCBOT1QgTlVMTCBVTklRVUUpJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KFwiQUxURVIgVEFCTEUgdXNlcnMgQUREIENPTFVNTiBJRiBOT1QgRVhJU1RTIHJvbGUgVEVYVCBOT1QgTlVMTCBERUZBVUxUICdjdXN0b21lcidcIik7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdBTFRFUiBUQUJMRSB1c2VycyBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgcGFzc3dvcmRfaGFzaCBURVhUJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdBTFRFUiBUQUJMRSB1c2VycyBBREQgQ09MVU1OIElGIE5PVCBFWElTVFMgcGFzc3dvcmRfc2FsdCBURVhUJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBwcm9kdWN0cyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCBuYW1lIFRFWFQgTk9UIE5VTEwsIHByaWNlIE5VTUVSSUMgTk9UIE5VTEwsIHVuaXQgVEVYVCBOT1QgTlVMTCknKTtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIG9yZGVycyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCB1c2VyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMLCB0b3RhbF9hbW91bnQgTlVNRVJJQyBOT1QgTlVMTCwgc3RhdHVzIFRFWFQgTk9UIE5VTEwpJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzdXBwbGllcnMgKGlkIFNFUklBTCBQUklNQVJZIEtFWSwgbmFtZSBURVhUIE5PVCBOVUxMLCBjb250YWN0IFRFWFQpJyk7XG4gICAgICBhd2FpdCBwb29sLnF1ZXJ5KCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBpbnZlbnRvcnkgKGlkIFNFUklBTCBQUklNQVJZIEtFWSwgcHJvZHVjdF9pZCBJTlRFR0VSIFJFRkVSRU5DRVMgcHJvZHVjdHMoaWQpIE9OIERFTEVURSBDQVNDQURFLCBxdWFudGl0eSBOVU1FUklDIE5PVCBOVUxMLCBsb2NhdGlvbiBURVhUKScpO1xuICAgICAgYXdhaXQgcG9vbC5xdWVyeSgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZGVsaXZlcmllcyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCBvcmRlcl9pZCBJTlRFR0VSIFJFRkVSRU5DRVMgb3JkZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSwgc3RhdHVzIFRFWFQgTk9UIE5VTEwsIGV0YSBUSU1FU1RBTVAgTlVMTCknKTtcbiAgICAgIGF3YWl0IHBvb2wucXVlcnkoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHBheW1lbnRzIChpZCBTRVJJQUwgUFJJTUFSWSBLRVksIG9yZGVyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyBvcmRlcnMoaWQpIE9OIERFTEVURSBDQVNDQURFLCBhbW91bnQgTlVNRVJJQyBOT1QgTlVMTCwgbWV0aG9kIFRFWFQgTk9UIE5VTEwsIHN0YXR1cyBURVhUIE5PVCBOVUxMKScpO1xuICAgICAgYXdhaXQgcG9vbC5xdWVyeSgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgbm90aWZpY2F0aW9ucyAoaWQgU0VSSUFMIFBSSU1BUlkgS0VZLCB1c2VyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIFNFVCBOVUxMLCBtZXNzYWdlIFRFWFQgTk9UIE5VTEwsIHN0YXR1cyBURVhUIE5PVCBOVUxMLCBjcmVhdGVkX2F0IFRJTUVTVEFNUCBOT1QgTlVMTCBERUZBVUxUIE5PVygpKScpO1xuICAgICAgcmV0dXJuIHBvb2w7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGUgJiYgZS5tZXNzYWdlID8gZS5tZXNzYWdlIDogZSk7XG4gICAgICBjb25zdCBtZW0gPSB7XG4gICAgICAgIHVzZXJzOiBbXSxcbiAgICAgICAgcHJvZHVjdHM6IFtdLFxuICAgICAgICBvcmRlcnM6IFtdLFxuICAgICAgICBzdXBwbGllcnM6IFtdLFxuICAgICAgICBpbnZlbnRvcnk6IFtdLFxuICAgICAgICBkZWxpdmVyaWVzOiBbXSxcbiAgICAgICAgcGF5bWVudHM6IFtdLFxuICAgICAgICBub3RpZmljYXRpb25zOiBbXSxcbiAgICAgICAgc2VxOiB7IHVzZXJzOiAwLCBwcm9kdWN0czogMCwgb3JkZXJzOiAwLCBzdXBwbGllcnM6IDAsIGludmVudG9yeTogMCwgZGVsaXZlcmllczogMCwgcGF5bWVudHM6IDAsIG5vdGlmaWNhdGlvbnM6IDAgfVxuICAgICAgfTtcbiAgICAgIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHNxbCwgcGFyYW1zID0gW10pIHtcbiAgICAgICAgY29uc3QgcyA9IFN0cmluZyhzcWwpLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQgZnJvbSB1c2VycyB3aGVyZSBlbWFpbD0nKSkge1xuICAgICAgICAgIGNvbnN0IGVtYWlsID0gcGFyYW1zWzBdO1xuICAgICAgICAgIGNvbnN0IGZvdW5kID0gbWVtLnVzZXJzLmZpbHRlcih1ID0+IHUuZW1haWwgPT09IGVtYWlsKS5tYXAodSA9PiAoeyBpZDogdS5pZCB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogZm91bmQgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byB1c2VycyhuYW1lLCBlbWFpbCwgcm9sZSwgcGFzc3dvcmRfaGFzaCwgcGFzc3dvcmRfc2FsdCknKSkge1xuICAgICAgICAgIGNvbnN0IFtuYW1lLCBlbWFpbCwgcm9sZSwgaGFzaCwgc2FsdF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEudXNlcnM7XG4gICAgICAgICAgY29uc3QgdSA9IHsgaWQsIG5hbWUsIGVtYWlsLCByb2xlLCBwYXNzd29yZF9oYXNoOiBoYXNoIHx8IG51bGwsIHBhc3N3b3JkX3NhbHQ6IHNhbHQgfHwgbnVsbCB9O1xuICAgICAgICAgIG1lbS51c2Vycy5wdXNoKHUpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFt7IGlkOiB1LmlkLCBuYW1lOiB1Lm5hbWUsIGVtYWlsOiB1LmVtYWlsLCByb2xlOiB1LnJvbGUgfV0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQsIG5hbWUsIGVtYWlsLCByb2xlLCBwYXNzd29yZF9oYXNoLCBwYXNzd29yZF9zYWx0IGZyb20gdXNlcnMgd2hlcmUgZW1haWw9JykpIHtcbiAgICAgICAgICBjb25zdCBlbWFpbCA9IHBhcmFtc1swXTtcbiAgICAgICAgICBjb25zdCB1ID0gbWVtLnVzZXJzLmZpbmQoeCA9PiB4LmVtYWlsID09PSBlbWFpbCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogdSA/IFt1XSA6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBuYW1lLCBlbWFpbCBmcm9tIHVzZXJzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnVzZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpLm1hcCh1ID0+ICh7IGlkOiB1LmlkLCBuYW1lOiB1Lm5hbWUsIGVtYWlsOiB1LmVtYWlsIH0pKTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnaW5zZXJ0IGludG8gdXNlcnMobmFtZSwgZW1haWwpJykpIHtcbiAgICAgICAgICBjb25zdCBbbmFtZSwgZW1haWxdID0gcGFyYW1zO1xuICAgICAgICAgIGNvbnN0IGlkID0gKyttZW0uc2VxLnVzZXJzO1xuICAgICAgICAgIGNvbnN0IHUgPSB7IGlkLCBuYW1lLCBlbWFpbCwgcm9sZTogJ2N1c3RvbWVyJywgcGFzc3dvcmRfaGFzaDogbnVsbCwgcGFzc3dvcmRfc2FsdDogbnVsbCB9O1xuICAgICAgICAgIG1lbS51c2Vycy5wdXNoKHUpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFt7IGlkOiB1LmlkLCBuYW1lOiB1Lm5hbWUsIGVtYWlsOiB1LmVtYWlsIH1dIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkIGZyb20gcHJvZHVjdHMgd2hlcmUgbmFtZT0nKSkge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBwYXJhbXNbMF07XG4gICAgICAgICAgY29uc3QgZm91bmQgPSBtZW0ucHJvZHVjdHMuZmlsdGVyKHAgPT4gcC5uYW1lID09PSBuYW1lKS5tYXAocCA9PiAoeyBpZDogcC5pZCB9KSk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogZm91bmQgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBwcm9kdWN0cyhuYW1lLCBwcmljZSwgdW5pdCknKSkge1xuICAgICAgICAgIGNvbnN0IFtuYW1lLCBwcmljZSwgdW5pdF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEucHJvZHVjdHM7XG4gICAgICAgICAgY29uc3QgcCA9IHsgaWQsIG5hbWUsIHByaWNlOiBOdW1iZXIocHJpY2UpLCB1bml0IH07XG4gICAgICAgICAgbWVtLnByb2R1Y3RzLnB1c2gocCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW3sgaWQ6IHAuaWQsIG5hbWU6IHAubmFtZSwgcHJpY2U6IHAucHJpY2UsIHVuaXQ6IHAudW5pdCB9XSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgbmFtZSwgcHJpY2UsIHVuaXQgZnJvbSBwcm9kdWN0cyB3aGVyZSBsb3dlcihuYW1lKSBsaWtlJykpIHtcbiAgICAgICAgICBjb25zdCBsaWtlID0gU3RyaW5nKHBhcmFtc1swXSB8fCAnJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8lL2csICcnKTtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1sxXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMl0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnByb2R1Y3RzLmZpbHRlcihwID0+IHAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxpa2UpKS5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBuYW1lLCBwcmljZSwgdW5pdCBmcm9tIHByb2R1Y3RzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnByb2R1Y3RzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQsIHVzZXJfaWQsIHRvdGFsX2Ftb3VudCwgc3RhdHVzIGZyb20gb3JkZXJzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLm9yZGVycy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCB1c2VyX2lkLCB0b3RhbF9hbW91bnQsIHN0YXR1cyBmcm9tIG9yZGVycyB3aGVyZSB1c2VyX2lkPScpKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gcGFyYW1zWzBdO1xuICAgICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zWzFdIHx8IDUwO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHBhcmFtc1syXSB8fCAwO1xuICAgICAgICAgIGNvbnN0IHJvd3MgPSBtZW0ub3JkZXJzLmZpbHRlcihvID0+IG8udXNlcl9pZCA9PT0gdXNlcklkKS5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnaW5zZXJ0IGludG8gb3JkZXJzKHVzZXJfaWQsIHRvdGFsX2Ftb3VudCwgc3RhdHVzKScpKSB7XG4gICAgICAgICAgY29uc3QgW3VzZXJJZCwgYW1vdW50LCBzdGF0dXNdID0gcGFyYW1zO1xuICAgICAgICAgIGNvbnN0IGlkID0gKyttZW0uc2VxLm9yZGVycztcbiAgICAgICAgICBjb25zdCBvID0geyBpZCwgdXNlcl9pZDogdXNlcklkLCB0b3RhbF9hbW91bnQ6IE51bWJlcihhbW91bnQpLCBzdGF0dXMgfTtcbiAgICAgICAgICBtZW0ub3JkZXJzLnB1c2gobyk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW29dIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBuYW1lLCBjb250YWN0IGZyb20gc3VwcGxpZXJzIHdoZXJlIGxvd2VyKG5hbWUpIGxpa2UnKSB8fCBzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgbmFtZSwgY29udGFjdCBmcm9tIHN1cHBsaWVycyBvcmRlciBieSBpZCBsaW1pdCcpKSB7XG4gICAgICAgICAgY29uc3QgaGFzTGlrZSA9IHMuaW5jbHVkZXMoJ3doZXJlJyk7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBoYXNMaWtlID8gcGFyYW1zWzFdIHx8IDUwIDogcGFyYW1zWzBdIHx8IDUwO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGhhc0xpa2UgPyBwYXJhbXNbMl0gfHwgMCA6IHBhcmFtc1sxXSB8fCAwO1xuICAgICAgICAgIGxldCByb3dzID0gbWVtLnN1cHBsaWVycztcbiAgICAgICAgICBpZiAoaGFzTGlrZSkge1xuICAgICAgICAgICAgY29uc3QgbGlrZSA9IFN0cmluZyhwYXJhbXNbMF0gfHwgJycpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvJS9nLCAnJyk7XG4gICAgICAgICAgICByb3dzID0gcm93cy5maWx0ZXIoc3VwID0+IChzdXAubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsaWtlKSB8fCAoc3VwLmNvbnRhY3QgfHwgJycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobGlrZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByb3dzID0gcm93cy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxpbWl0KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnaW5zZXJ0IGludG8gc3VwcGxpZXJzKG5hbWUsIGNvbnRhY3QpJykpIHtcbiAgICAgICAgICBjb25zdCBbbmFtZSwgY29udGFjdF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEuc3VwcGxpZXJzO1xuICAgICAgICAgIGNvbnN0IHN1cCA9IHsgaWQsIG5hbWUsIGNvbnRhY3Q6IGNvbnRhY3QgfHwgbnVsbCB9O1xuICAgICAgICAgIG1lbS5zdXBwbGllcnMucHVzaChzdXApO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFtzdXBdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGkuaWQsIGkucHJvZHVjdF9pZCwgcC5uYW1lIGFzIHByb2R1Y3RfbmFtZSwgaS5xdWFudGl0eSwgaS5sb2NhdGlvbiBmcm9tIGludmVudG9yeScpKSB7XG4gICAgICAgICAgY29uc3QgaGFzV2hlcmUgPSBzLmluY2x1ZGVzKCd3aGVyZScpO1xuICAgICAgICAgIGNvbnN0IGxpbWl0ID0gaGFzV2hlcmUgPyBwYXJhbXNbMV0gfHwgNTAgOiBwYXJhbXNbMF0gfHwgNTA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaGFzV2hlcmUgPyBwYXJhbXNbMl0gfHwgMCA6IHBhcmFtc1sxXSB8fCAwO1xuICAgICAgICAgIGxldCByb3dzID0gbWVtLmludmVudG9yeS5tYXAoaW52ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2QgPSBtZW0ucHJvZHVjdHMuZmluZChwID0+IHAuaWQgPT09IGludi5wcm9kdWN0X2lkKTtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBpbnYuaWQsIHByb2R1Y3RfaWQ6IGludi5wcm9kdWN0X2lkLCBwcm9kdWN0X25hbWU6IHByb2QgPyBwcm9kLm5hbWUgOiBudWxsLCBxdWFudGl0eTogaW52LnF1YW50aXR5LCBsb2NhdGlvbjogaW52LmxvY2F0aW9uIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGhhc1doZXJlKSB7XG4gICAgICAgICAgICBjb25zdCBsaWtlID0gU3RyaW5nKHBhcmFtc1swXSB8fCAnJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8lL2csICcnKTtcbiAgICAgICAgICAgIHJvd3MgPSByb3dzLmZpbHRlcihyID0+IChyLnByb2R1Y3RfbmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsaWtlKSB8fCAoci5sb2NhdGlvbiB8fCAnJykudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsaWtlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvd3MgPSByb3dzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgaWQgZnJvbSBpbnZlbnRvcnkgd2hlcmUgcHJvZHVjdF9pZD0nKSkge1xuICAgICAgICAgIGNvbnN0IHBpZCA9IHBhcmFtc1swXTtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLmludmVudG9yeS5maWx0ZXIoaSA9PiBpLnByb2R1Y3RfaWQgPT09IHBpZCkubWFwKGkgPT4gKHsgaWQ6IGkuaWQgfSkpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCd1cGRhdGUgaW52ZW50b3J5IHNldCBxdWFudGl0eT0nKSkge1xuICAgICAgICAgIGNvbnN0IFtxdWFudGl0eSwgbG9jYXRpb24sIHByb2R1Y3RJZF0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaW52ID0gbWVtLmludmVudG9yeS5maW5kKGkgPT4gaS5wcm9kdWN0X2lkID09PSBwcm9kdWN0SWQpO1xuICAgICAgICAgIGlmIChpbnYpIHtcbiAgICAgICAgICAgIGludi5xdWFudGl0eSA9IE51bWJlcihxdWFudGl0eSk7XG4gICAgICAgICAgICBpbnYubG9jYXRpb24gPSBsb2NhdGlvbiB8fCBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHsgcm93czogW3sgaWQ6IGludi5pZCwgcHJvZHVjdF9pZDogaW52LnByb2R1Y3RfaWQsIHF1YW50aXR5OiBpbnYucXVhbnRpdHksIGxvY2F0aW9uOiBpbnYubG9jYXRpb24gfV0gfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW10gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBpbnZlbnRvcnkocHJvZHVjdF9pZCwgcXVhbnRpdHksIGxvY2F0aW9uKScpKSB7XG4gICAgICAgICAgY29uc3QgW3Byb2R1Y3RJZCwgcXVhbnRpdHksIGxvY2F0aW9uXSA9IHBhcmFtcztcbiAgICAgICAgICBjb25zdCBpZCA9ICsrbWVtLnNlcS5pbnZlbnRvcnk7XG4gICAgICAgICAgY29uc3QgaW52ID0geyBpZCwgcHJvZHVjdF9pZDogcHJvZHVjdElkLCBxdWFudGl0eTogTnVtYmVyKHF1YW50aXR5KSwgbG9jYXRpb246IGxvY2F0aW9uIHx8IG51bGwgfTtcbiAgICAgICAgICBtZW0uaW52ZW50b3J5LnB1c2goaW52KTtcbiAgICAgICAgICByZXR1cm4geyByb3dzOiBbaW52XSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgb3JkZXJfaWQsIHN0YXR1cywgZXRhIGZyb20gZGVsaXZlcmllcyBvcmRlciBieSBpZCBsaW1pdCcpKSB7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXNbMF0gfHwgNTA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zWzFdIHx8IDA7XG4gICAgICAgICAgY29uc3Qgcm93cyA9IG1lbS5kZWxpdmVyaWVzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBkZWxpdmVyaWVzKG9yZGVyX2lkLCBzdGF0dXMsIGV0YSknKSkge1xuICAgICAgICAgIGNvbnN0IFtvcmRlcklkLCBzdGF0dXMsIGV0YV0gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEuZGVsaXZlcmllcztcbiAgICAgICAgICBjb25zdCBkID0geyBpZCwgb3JkZXJfaWQ6IG9yZGVySWQsIHN0YXR1cywgZXRhOiBldGEgfHwgbnVsbCB9O1xuICAgICAgICAgIG1lbS5kZWxpdmVyaWVzLnB1c2goZCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW2RdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGlkLCBvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cyBmcm9tIHBheW1lbnRzIG9yZGVyIGJ5IGlkIGxpbWl0JykpIHtcbiAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtc1swXSB8fCA1MDtcbiAgICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXNbMV0gfHwgMDtcbiAgICAgICAgICBjb25zdCByb3dzID0gbWVtLnBheW1lbnRzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBwYXltZW50cyhvcmRlcl9pZCwgYW1vdW50LCBtZXRob2QsIHN0YXR1cyknKSkge1xuICAgICAgICAgIGNvbnN0IFtvcmRlcklkLCBhbW91bnQsIG1ldGhvZCwgc3RhdHVzXSA9IHBhcmFtcztcbiAgICAgICAgICBjb25zdCBpZCA9ICsrbWVtLnNlcS5wYXltZW50cztcbiAgICAgICAgICBjb25zdCBwID0geyBpZCwgb3JkZXJfaWQ6IG9yZGVySWQsIGFtb3VudDogTnVtYmVyKGFtb3VudCksIG1ldGhvZCwgc3RhdHVzIH07XG4gICAgICAgICAgbWVtLnBheW1lbnRzLnB1c2gocCk7XG4gICAgICAgICAgcmV0dXJuIHsgcm93czogW3BdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMuc3RhcnRzV2l0aCgnc2VsZWN0IGNvdW50KCopOjppbnQgYXMgY291bnQgZnJvbSB1c2VycycpKSByZXR1cm4geyByb3dzOiBbeyBjb3VudDogbWVtLnVzZXJzLmxlbmd0aCB9XSB9O1xuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgY291bnQoKik6OmludCBhcyBjb3VudCBmcm9tIHByb2R1Y3RzJykpIHJldHVybiB7IHJvd3M6IFt7IGNvdW50OiBtZW0ucHJvZHVjdHMubGVuZ3RoIH1dIH07XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBjb3VudCgqKTo6aW50IGFzIGNvdW50IGZyb20gb3JkZXJzJykpIHJldHVybiB7IHJvd3M6IFt7IGNvdW50OiBtZW0ub3JkZXJzLmxlbmd0aCB9XSB9O1xuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdzZWxlY3QgY291bnQoKik6OmludCBhcyBjb3VudCBmcm9tIHBheW1lbnRzJykpIHJldHVybiB7IHJvd3M6IFt7IGNvdW50OiBtZW0ucGF5bWVudHMubGVuZ3RoIH1dIH07XG4gICAgICAgIGlmIChzLnN0YXJ0c1dpdGgoJ3NlbGVjdCBpZCwgdXNlcl9pZCwgbWVzc2FnZSwgc3RhdHVzLCBjcmVhdGVkX2F0IGZyb20gbm90aWZpY2F0aW9ucyBvcmRlciBieSBpZCBsaW1pdCcpKSB7XG4gICAgICAgICAgY29uc3QgbGltaXQgPSBwYXJhbXNbMF0gfHwgNTA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zWzFdIHx8IDA7XG4gICAgICAgICAgY29uc3Qgcm93cyA9IG1lbS5ub3RpZmljYXRpb25zLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgbGltaXQpO1xuICAgICAgICAgIHJldHVybiB7IHJvd3MgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zdGFydHNXaXRoKCdpbnNlcnQgaW50byBub3RpZmljYXRpb25zKHVzZXJfaWQsIG1lc3NhZ2UsIHN0YXR1cyknKSkge1xuICAgICAgICAgIGNvbnN0IFt1c2VySWQsIG1lc3NhZ2UsIHN0YXR1c10gPSBwYXJhbXM7XG4gICAgICAgICAgY29uc3QgaWQgPSArK21lbS5zZXEubm90aWZpY2F0aW9ucztcbiAgICAgICAgICBjb25zdCBuID0geyBpZCwgdXNlcl9pZDogdXNlcklkIHx8IG51bGwsIG1lc3NhZ2UsIHN0YXR1czogc3RhdHVzIHx8ICdxdWV1ZWQnLCBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfTtcbiAgICAgICAgICBtZW0ubm90aWZpY2F0aW9ucy5wdXNoKG4pO1xuICAgICAgICAgIHJldHVybiB7IHJvd3M6IFtuXSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJvd3M6IFtdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBxdWVyeSB9O1xuICAgIH1cbiAgfVxufTtcblxuQE1vZHVsZSh7XG4gIHByb3ZpZGVyczogW0RhdGFiYXNlUHJvdmlkZXJdLFxuICBleHBvcnRzOiBbRGF0YWJhc2VQcm92aWRlcl1cbn0pXG5jbGFzcyBEYXRhYmFzZU1vZHVsZSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgRGF0YWJhc2VNb2R1bGUsIERBVEFCQVNFX1BPT0wgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsTUFBTTtFQUFFQTtBQUFPLENBQUMsR0FBR0MsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzVDLE1BQU07RUFBRUM7QUFBSyxDQUFDLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFFOUIsTUFBTUUsYUFBYSxHQUFHLGVBQWU7QUFFckMsTUFBTUMsZ0JBQWdCLEdBQUc7RUFDdkJDLE9BQU8sRUFBRUYsYUFBYTtFQUN0QkcsVUFBVSxFQUFFLE1BQUFBLENBQUEsS0FBWTtJQUN0QkwsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDTSxNQUFNLENBQUMsQ0FBQztJQUMxQixNQUFNQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsSUFBSUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFlBQVksRUFBRUgsR0FBRyxDQUFDSSxnQkFBZ0IsR0FBR0gsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFlBQVk7SUFDN0UsSUFBSUYsT0FBTyxDQUFDQyxHQUFHLENBQUNHLE9BQU8sRUFBRUwsR0FBRyxDQUFDTSxJQUFJLEdBQUdMLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRyxPQUFPO0lBQ3ZELElBQUlKLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxPQUFPLEVBQUVQLEdBQUcsQ0FBQ1EsSUFBSSxHQUFHQyxRQUFRLENBQUNSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSyxPQUFPLEVBQUUsRUFBRSxDQUFDO0lBQ3JFLElBQUlOLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxPQUFPLEVBQUVWLEdBQUcsQ0FBQ1csSUFBSSxHQUFHVixPQUFPLENBQUNDLEdBQUcsQ0FBQ1EsT0FBTztJQUN2RCxJQUFJLE9BQU9ULE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVSxXQUFXLEtBQUssUUFBUSxFQUFFWixHQUFHLENBQUNhLFFBQVEsR0FBR1osT0FBTyxDQUFDQyxHQUFHLENBQUNVLFdBQVc7SUFDdkYsSUFBSVgsT0FBTyxDQUFDQyxHQUFHLENBQUNZLE9BQU8sRUFBRWQsR0FBRyxDQUFDZSxRQUFRLEdBQUdkLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDWSxPQUFPO0lBQzNELElBQUliLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDYyxNQUFNLEtBQUssTUFBTSxFQUFFaEIsR0FBRyxDQUFDaUIsR0FBRyxHQUFHO01BQUVDLGtCQUFrQixFQUFFO0lBQU0sQ0FBQztJQUMxRSxJQUFJQyxJQUFJO0lBQ1IsSUFBSTtNQUNGQSxJQUFJLEdBQUcsSUFBSXpCLElBQUksQ0FBQ00sR0FBRyxDQUFDO01BQ3BCLE1BQU1tQixJQUFJLENBQUNDLEtBQUssQ0FBQywwR0FBMEcsQ0FBQztNQUM1SCxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyxrRkFBa0YsQ0FBQztNQUNwRyxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQywrREFBK0QsQ0FBQztNQUNqRixNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQywrREFBK0QsQ0FBQztNQUNqRixNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyw2SEFBNkgsQ0FBQztNQUMvSSxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyx5S0FBeUssQ0FBQztNQUMzTCxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyxnR0FBZ0csQ0FBQztNQUNsSCxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyxzS0FBc0ssQ0FBQztNQUN4TCxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyxtS0FBbUssQ0FBQztNQUNyTCxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyw0TEFBNEwsQ0FBQztNQUM5TSxNQUFNRCxJQUFJLENBQUNDLEtBQUssQ0FBQyxxTkFBcU4sQ0FBQztNQUN2TyxPQUFPRCxJQUFJO0lBQ2IsQ0FBQyxDQUFDLE9BQU9FLENBQUMsRUFBRTtNQUNWQyxPQUFPLENBQUNDLEtBQUssQ0FBQyxpQ0FBaUMsRUFBRUYsQ0FBQyxJQUFJQSxDQUFDLENBQUNHLE9BQU8sR0FBR0gsQ0FBQyxDQUFDRyxPQUFPLEdBQUdILENBQUMsQ0FBQztNQUNoRixNQUFNSSxHQUFHLEdBQUc7UUFDVkMsS0FBSyxFQUFFLEVBQUU7UUFDVEMsUUFBUSxFQUFFLEVBQUU7UUFDWkMsTUFBTSxFQUFFLEVBQUU7UUFDVkMsU0FBUyxFQUFFLEVBQUU7UUFDYkMsU0FBUyxFQUFFLEVBQUU7UUFDYkMsVUFBVSxFQUFFLEVBQUU7UUFDZEMsUUFBUSxFQUFFLEVBQUU7UUFDWkMsYUFBYSxFQUFFLEVBQUU7UUFDakJDLEdBQUcsRUFBRTtVQUFFUixLQUFLLEVBQUUsQ0FBQztVQUFFQyxRQUFRLEVBQUUsQ0FBQztVQUFFQyxNQUFNLEVBQUUsQ0FBQztVQUFFQyxTQUFTLEVBQUUsQ0FBQztVQUFFQyxTQUFTLEVBQUUsQ0FBQztVQUFFQyxVQUFVLEVBQUUsQ0FBQztVQUFFQyxRQUFRLEVBQUUsQ0FBQztVQUFFQyxhQUFhLEVBQUU7UUFBRTtNQUNwSCxDQUFDO01BQ0QsZUFBZWIsS0FBS0EsQ0FBQ2UsR0FBRyxFQUFFQyxNQUFNLEdBQUcsRUFBRSxFQUFFO1FBQ3JDLE1BQU1DLENBQUMsR0FBR0MsTUFBTSxDQUFDSCxHQUFHLENBQUMsQ0FBQ0ksV0FBVyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSUgsQ0FBQyxDQUFDSSxVQUFVLENBQUMsbUNBQW1DLENBQUMsRUFBRTtVQUNyRCxNQUFNQyxLQUFLLEdBQUdOLE1BQU0sQ0FBQyxDQUFDLENBQUM7VUFDdkIsTUFBTU8sS0FBSyxHQUFHbEIsR0FBRyxDQUFDQyxLQUFLLENBQUNrQixNQUFNLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDSCxLQUFLLEtBQUtBLEtBQUssQ0FBQyxDQUFDSSxHQUFHLENBQUNELENBQUMsS0FBSztZQUFFRSxFQUFFLEVBQUVGLENBQUMsQ0FBQ0U7VUFBRyxDQUFDLENBQUMsQ0FBQztVQUMvRSxPQUFPO1lBQUVDLElBQUksRUFBRUw7VUFBTSxDQUFDO1FBQ3hCO1FBQ0EsSUFBSU4sQ0FBQyxDQUFDSSxVQUFVLENBQUMsb0VBQW9FLENBQUMsRUFBRTtVQUN0RixNQUFNLENBQUNRLElBQUksRUFBRVAsS0FBSyxFQUFFUSxJQUFJLEVBQUVDLElBQUksRUFBRUMsSUFBSSxDQUFDLEdBQUdoQixNQUFNO1VBQzlDLE1BQU1XLEVBQUUsR0FBRyxFQUFFdEIsR0FBRyxDQUFDUyxHQUFHLENBQUNSLEtBQUs7VUFDMUIsTUFBTW1CLENBQUMsR0FBRztZQUFFRSxFQUFFO1lBQUVFLElBQUk7WUFBRVAsS0FBSztZQUFFUSxJQUFJO1lBQUVHLGFBQWEsRUFBRUYsSUFBSSxJQUFJLElBQUk7WUFBRUcsYUFBYSxFQUFFRixJQUFJLElBQUk7VUFBSyxDQUFDO1VBQzdGM0IsR0FBRyxDQUFDQyxLQUFLLENBQUM2QixJQUFJLENBQUNWLENBQUMsQ0FBQztVQUNqQixPQUFPO1lBQUVHLElBQUksRUFBRSxDQUFDO2NBQUVELEVBQUUsRUFBRUYsQ0FBQyxDQUFDRSxFQUFFO2NBQUVFLElBQUksRUFBRUosQ0FBQyxDQUFDSSxJQUFJO2NBQUVQLEtBQUssRUFBRUcsQ0FBQyxDQUFDSCxLQUFLO2NBQUVRLElBQUksRUFBRUwsQ0FBQyxDQUFDSztZQUFLLENBQUM7VUFBRSxDQUFDO1FBQzdFO1FBQ0EsSUFBSWIsQ0FBQyxDQUFDSSxVQUFVLENBQUMsb0ZBQW9GLENBQUMsRUFBRTtVQUN0RyxNQUFNQyxLQUFLLEdBQUdOLE1BQU0sQ0FBQyxDQUFDLENBQUM7VUFDdkIsTUFBTVMsQ0FBQyxHQUFHcEIsR0FBRyxDQUFDQyxLQUFLLENBQUM4QixJQUFJLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDZixLQUFLLEtBQUtBLEtBQUssQ0FBQztVQUNoRCxPQUFPO1lBQUVNLElBQUksRUFBRUgsQ0FBQyxHQUFHLENBQUNBLENBQUMsQ0FBQyxHQUFHO1VBQUcsQ0FBQztRQUMvQjtRQUNBLElBQUlSLENBQUMsQ0FBQ0ksVUFBVSxDQUFDLHFEQUFxRCxDQUFDLEVBQUU7VUFDdkUsTUFBTWlCLEtBQUssR0FBR3RCLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFO1VBQzdCLE1BQU11QixNQUFNLEdBQUd2QixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztVQUM3QixNQUFNWSxJQUFJLEdBQUd2QixHQUFHLENBQUNDLEtBQUssQ0FBQ2tDLEtBQUssQ0FBQ0QsTUFBTSxFQUFFQSxNQUFNLEdBQUdELEtBQUssQ0FBQyxDQUFDWixHQUFHLENBQUNELENBQUMsS0FBSztZQUFFRSxFQUFFLEVBQUVGLENBQUMsQ0FBQ0UsRUFBRTtZQUFFRSxJQUFJLEVBQUVKLENBQUMsQ0FBQ0ksSUFBSTtZQUFFUCxLQUFLLEVBQUVHLENBQUMsQ0FBQ0g7VUFBTSxDQUFDLENBQUMsQ0FBQztVQUMzRyxPQUFPO1lBQUVNO1VBQUssQ0FBQztRQUNqQjtRQUNBLElBQUlYLENBQUMsQ0FBQ0ksVUFBVSxDQUFDLGdDQUFnQyxDQUFDLEVBQUU7VUFDbEQsTUFBTSxDQUFDUSxJQUFJLEVBQUVQLEtBQUssQ0FBQyxHQUFHTixNQUFNO1VBQzVCLE1BQU1XLEVBQUUsR0FBRyxFQUFFdEIsR0FBRyxDQUFDUyxHQUFHLENBQUNSLEtBQUs7VUFDMUIsTUFBTW1CLENBQUMsR0FBRztZQUFFRSxFQUFFO1lBQUVFLElBQUk7WUFBRVAsS0FBSztZQUFFUSxJQUFJLEVBQUUsVUFBVTtZQUFFRyxhQUFhLEVBQUUsSUFBSTtZQUFFQyxhQUFhLEVBQUU7VUFBSyxDQUFDO1VBQ3pGN0IsR0FBRyxDQUFDQyxLQUFLLENBQUM2QixJQUFJLENBQUNWLENBQUMsQ0FBQztVQUNqQixPQUFPO1lBQUVHLElBQUksRUFBRSxDQUFDO2NBQUVELEVBQUUsRUFBRUYsQ0FBQyxDQUFDRSxFQUFFO2NBQUVFLElBQUksRUFBRUosQ0FBQyxDQUFDSSxJQUFJO2NBQUVQLEtBQUssRUFBRUcsQ0FBQyxDQUFDSDtZQUFNLENBQUM7VUFBRSxDQUFDO1FBQy9EO1FBQ0EsSUFBSUwsQ0FBQyxDQUFDSSxVQUFVLENBQUMscUNBQXFDLENBQUMsRUFBRTtVQUN2RCxNQUFNUSxJQUFJLEdBQUdiLE1BQU0sQ0FBQyxDQUFDLENBQUM7VUFDdEIsTUFBTU8sS0FBSyxHQUFHbEIsR0FBRyxDQUFDRSxRQUFRLENBQUNpQixNQUFNLENBQUNpQixDQUFDLElBQUlBLENBQUMsQ0FBQ1osSUFBSSxLQUFLQSxJQUFJLENBQUMsQ0FBQ0gsR0FBRyxDQUFDZSxDQUFDLEtBQUs7WUFBRWQsRUFBRSxFQUFFYyxDQUFDLENBQUNkO1VBQUcsQ0FBQyxDQUFDLENBQUM7VUFDaEYsT0FBTztZQUFFQyxJQUFJLEVBQUVMO1VBQU0sQ0FBQztRQUN4QjtRQUNBLElBQUlOLENBQUMsQ0FBQ0ksVUFBVSxDQUFDLHlDQUF5QyxDQUFDLEVBQUU7VUFDM0QsTUFBTSxDQUFDUSxJQUFJLEVBQUVhLEtBQUssRUFBRUMsSUFBSSxDQUFDLEdBQUczQixNQUFNO1VBQ2xDLE1BQU1XLEVBQUUsR0FBRyxFQUFFdEIsR0FBRyxDQUFDUyxHQUFHLENBQUNQLFFBQVE7VUFDN0IsTUFBTWtDLENBQUMsR0FBRztZQUFFZCxFQUFFO1lBQUVFLElBQUk7WUFBRWEsS0FBSyxFQUFFRSxNQUFNLENBQUNGLEtBQUssQ0FBQztZQUFFQztVQUFLLENBQUM7VUFDbER0QyxHQUFHLENBQUNFLFFBQVEsQ0FBQzRCLElBQUksQ0FBQ00sQ0FBQyxDQUFDO1VBQ3BCLE9BQU87WUFBRWIsSUFBSSxFQUFFLENBQUM7Y0FBRUQsRUFBRSxFQUFFYyxDQUFDLENBQUNkLEVBQUU7Y0FBRUUsSUFBSSxFQUFFWSxDQUFDLENBQUNaLElBQUk7Y0FBRWEsS0FBSyxFQUFFRCxDQUFDLENBQUNDLEtBQUs7Y0FBRUMsSUFBSSxFQUFFRixDQUFDLENBQUNFO1lBQUssQ0FBQztVQUFFLENBQUM7UUFDN0U7UUFDQSxJQUFJMUIsQ0FBQyxDQUFDSSxVQUFVLENBQUMsbUVBQW1FLENBQUMsRUFBRTtVQUNyRixNQUFNd0IsSUFBSSxHQUFHM0IsTUFBTSxDQUFDRixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUNHLFdBQVcsQ0FBQyxDQUFDLENBQUMyQixPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztVQUNwRSxNQUFNUixLQUFLLEdBQUd0QixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtVQUM3QixNQUFNdUIsTUFBTSxHQUFHdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDN0IsTUFBTVksSUFBSSxHQUFHdkIsR0FBRyxDQUFDRSxRQUFRLENBQUNpQixNQUFNLENBQUNpQixDQUFDLElBQUlBLENBQUMsQ0FBQ1osSUFBSSxDQUFDVixXQUFXLENBQUMsQ0FBQyxDQUFDNEIsUUFBUSxDQUFDRixJQUFJLENBQUMsQ0FBQyxDQUFDTCxLQUFLLENBQUNELE1BQU0sRUFBRUEsTUFBTSxHQUFHRCxLQUFLLENBQUM7VUFDeEcsT0FBTztZQUFFVjtVQUFLLENBQUM7UUFDakI7UUFDQSxJQUFJWCxDQUFDLENBQUNJLFVBQVUsQ0FBQyw4REFBOEQsQ0FBQyxFQUFFO1VBQ2hGLE1BQU1pQixLQUFLLEdBQUd0QixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtVQUM3QixNQUFNdUIsTUFBTSxHQUFHdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDN0IsTUFBTVksSUFBSSxHQUFHdkIsR0FBRyxDQUFDRSxRQUFRLENBQUNpQyxLQUFLLENBQUNELE1BQU0sRUFBRUEsTUFBTSxHQUFHRCxLQUFLLENBQUM7VUFDdkQsT0FBTztZQUFFVjtVQUFLLENBQUM7UUFDakI7UUFDQSxJQUFJWCxDQUFDLENBQUNJLFVBQVUsQ0FBQyx3RUFBd0UsQ0FBQyxFQUFFO1VBQzFGLE1BQU1pQixLQUFLLEdBQUd0QixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtVQUM3QixNQUFNdUIsTUFBTSxHQUFHdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDN0IsTUFBTVksSUFBSSxHQUFHdkIsR0FBRyxDQUFDRyxNQUFNLENBQUNnQyxLQUFLLENBQUNELE1BQU0sRUFBRUEsTUFBTSxHQUFHRCxLQUFLLENBQUM7VUFDckQsT0FBTztZQUFFVjtVQUFLLENBQUM7UUFDakI7UUFDQSxJQUFJWCxDQUFDLENBQUNJLFVBQVUsQ0FBQyxxRUFBcUUsQ0FBQyxFQUFFO1VBQ3ZGLE1BQU0yQixNQUFNLEdBQUdoQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1VBQ3hCLE1BQU1zQixLQUFLLEdBQUd0QixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtVQUM3QixNQUFNdUIsTUFBTSxHQUFHdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDN0IsTUFBTVksSUFBSSxHQUFHdkIsR0FBRyxDQUFDRyxNQUFNLENBQUNnQixNQUFNLENBQUN5QixDQUFDLElBQUlBLENBQUMsQ0FBQ0MsT0FBTyxLQUFLRixNQUFNLENBQUMsQ0FBQ1IsS0FBSyxDQUFDRCxNQUFNLEVBQUVBLE1BQU0sR0FBR0QsS0FBSyxDQUFDO1VBQ3ZGLE9BQU87WUFBRVY7VUFBSyxDQUFDO1FBQ2pCO1FBQ0EsSUFBSVgsQ0FBQyxDQUFDSSxVQUFVLENBQUMsbURBQW1ELENBQUMsRUFBRTtVQUNyRSxNQUFNLENBQUMyQixNQUFNLEVBQUVHLE1BQU0sRUFBRUMsTUFBTSxDQUFDLEdBQUdwQyxNQUFNO1VBQ3ZDLE1BQU1XLEVBQUUsR0FBRyxFQUFFdEIsR0FBRyxDQUFDUyxHQUFHLENBQUNOLE1BQU07VUFDM0IsTUFBTXlDLENBQUMsR0FBRztZQUFFdEIsRUFBRTtZQUFFdUIsT0FBTyxFQUFFRixNQUFNO1lBQUVLLFlBQVksRUFBRVQsTUFBTSxDQUFDTyxNQUFNLENBQUM7WUFBRUM7VUFBTyxDQUFDO1VBQ3ZFL0MsR0FBRyxDQUFDRyxNQUFNLENBQUMyQixJQUFJLENBQUNjLENBQUMsQ0FBQztVQUNsQixPQUFPO1lBQUVyQixJQUFJLEVBQUUsQ0FBQ3FCLENBQUM7VUFBRSxDQUFDO1FBQ3RCO1FBQ0EsSUFBSWhDLENBQUMsQ0FBQ0ksVUFBVSxDQUFDLGdFQUFnRSxDQUFDLElBQUlKLENBQUMsQ0FBQ0ksVUFBVSxDQUFDLDJEQUEyRCxDQUFDLEVBQUU7VUFDL0osTUFBTWlDLE9BQU8sR0FBR3JDLENBQUMsQ0FBQzhCLFFBQVEsQ0FBQyxPQUFPLENBQUM7VUFDbkMsTUFBTVQsS0FBSyxHQUFHZ0IsT0FBTyxHQUFHdEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBR0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7VUFDekQsTUFBTXVCLE1BQU0sR0FBR2UsT0FBTyxHQUFHdEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBR0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDeEQsSUFBSVksSUFBSSxHQUFHdkIsR0FBRyxDQUFDSSxTQUFTO1VBQ3hCLElBQUk2QyxPQUFPLEVBQUU7WUFDWCxNQUFNVCxJQUFJLEdBQUczQixNQUFNLENBQUNGLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQ0csV0FBVyxDQUFDLENBQUMsQ0FBQzJCLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQ3BFbEIsSUFBSSxHQUFHQSxJQUFJLENBQUNKLE1BQU0sQ0FBQytCLEdBQUcsSUFBSSxDQUFDQSxHQUFHLENBQUMxQixJQUFJLElBQUksRUFBRSxFQUFFVixXQUFXLENBQUMsQ0FBQyxDQUFDNEIsUUFBUSxDQUFDRixJQUFJLENBQUMsSUFBSSxDQUFDVSxHQUFHLENBQUNDLE9BQU8sSUFBSSxFQUFFLEVBQUVyQyxXQUFXLENBQUMsQ0FBQyxDQUFDNEIsUUFBUSxDQUFDRixJQUFJLENBQUMsQ0FBQztVQUM5SDtVQUNBakIsSUFBSSxHQUFHQSxJQUFJLENBQUNZLEtBQUssQ0FBQ0QsTUFBTSxFQUFFQSxNQUFNLEdBQUdELEtBQUssQ0FBQztVQUN6QyxPQUFPO1lBQUVWO1VBQUssQ0FBQztRQUNqQjtRQUNBLElBQUlYLENBQUMsQ0FBQ0ksVUFBVSxDQUFDLHNDQUFzQyxDQUFDLEVBQUU7VUFDeEQsTUFBTSxDQUFDUSxJQUFJLEVBQUUyQixPQUFPLENBQUMsR0FBR3hDLE1BQU07VUFDOUIsTUFBTVcsRUFBRSxHQUFHLEVBQUV0QixHQUFHLENBQUNTLEdBQUcsQ0FBQ0wsU0FBUztVQUM5QixNQUFNOEMsR0FBRyxHQUFHO1lBQUU1QixFQUFFO1lBQUVFLElBQUk7WUFBRTJCLE9BQU8sRUFBRUEsT0FBTyxJQUFJO1VBQUssQ0FBQztVQUNsRG5ELEdBQUcsQ0FBQ0ksU0FBUyxDQUFDMEIsSUFBSSxDQUFDb0IsR0FBRyxDQUFDO1VBQ3ZCLE9BQU87WUFBRTNCLElBQUksRUFBRSxDQUFDMkIsR0FBRztVQUFFLENBQUM7UUFDeEI7UUFDQSxJQUFJdEMsQ0FBQyxDQUFDSSxVQUFVLENBQUMsMEZBQTBGLENBQUMsRUFBRTtVQUM1RyxNQUFNb0MsUUFBUSxHQUFHeEMsQ0FBQyxDQUFDOEIsUUFBUSxDQUFDLE9BQU8sQ0FBQztVQUNwQyxNQUFNVCxLQUFLLEdBQUdtQixRQUFRLEdBQUd6QyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHQSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtVQUMxRCxNQUFNdUIsTUFBTSxHQUFHa0IsUUFBUSxHQUFHekMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBR0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDekQsSUFBSVksSUFBSSxHQUFHdkIsR0FBRyxDQUFDSyxTQUFTLENBQUNnQixHQUFHLENBQUNnQyxHQUFHLElBQUk7WUFDbEMsTUFBTUMsSUFBSSxHQUFHdEQsR0FBRyxDQUFDRSxRQUFRLENBQUM2QixJQUFJLENBQUNLLENBQUMsSUFBSUEsQ0FBQyxDQUFDZCxFQUFFLEtBQUsrQixHQUFHLENBQUNFLFVBQVUsQ0FBQztZQUM1RCxPQUFPO2NBQUVqQyxFQUFFLEVBQUUrQixHQUFHLENBQUMvQixFQUFFO2NBQUVpQyxVQUFVLEVBQUVGLEdBQUcsQ0FBQ0UsVUFBVTtjQUFFQyxZQUFZLEVBQUVGLElBQUksR0FBR0EsSUFBSSxDQUFDOUIsSUFBSSxHQUFHLElBQUk7Y0FBRWlDLFFBQVEsRUFBRUosR0FBRyxDQUFDSSxRQUFRO2NBQUVDLFFBQVEsRUFBRUwsR0FBRyxDQUFDSztZQUFTLENBQUM7VUFDMUksQ0FBQyxDQUFDO1VBQ0YsSUFBSU4sUUFBUSxFQUFFO1lBQ1osTUFBTVosSUFBSSxHQUFHM0IsTUFBTSxDQUFDRixNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUNHLFdBQVcsQ0FBQyxDQUFDLENBQUMyQixPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztZQUNwRWxCLElBQUksR0FBR0EsSUFBSSxDQUFDSixNQUFNLENBQUN3QyxDQUFDLElBQUksQ0FBQ0EsQ0FBQyxDQUFDSCxZQUFZLElBQUksRUFBRSxFQUFFMUMsV0FBVyxDQUFDLENBQUMsQ0FBQzRCLFFBQVEsQ0FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQ21CLENBQUMsQ0FBQ0QsUUFBUSxJQUFJLEVBQUUsRUFBRTVDLFdBQVcsQ0FBQyxDQUFDLENBQUM0QixRQUFRLENBQUNGLElBQUksQ0FBQyxDQUFDO1VBQ2pJO1VBQ0FqQixJQUFJLEdBQUdBLElBQUksQ0FBQ1ksS0FBSyxDQUFDRCxNQUFNLEVBQUVBLE1BQU0sR0FBR0QsS0FBSyxDQUFDO1VBQ3pDLE9BQU87WUFBRVY7VUFBSyxDQUFDO1FBQ2pCO1FBQ0EsSUFBSVgsQ0FBQyxDQUFDSSxVQUFVLENBQUMsNENBQTRDLENBQUMsRUFBRTtVQUM5RCxNQUFNNEMsR0FBRyxHQUFHakQsTUFBTSxDQUFDLENBQUMsQ0FBQztVQUNyQixNQUFNWSxJQUFJLEdBQUd2QixHQUFHLENBQUNLLFNBQVMsQ0FBQ2MsTUFBTSxDQUFDMEMsQ0FBQyxJQUFJQSxDQUFDLENBQUNOLFVBQVUsS0FBS0ssR0FBRyxDQUFDLENBQUN2QyxHQUFHLENBQUN3QyxDQUFDLEtBQUs7WUFBRXZDLEVBQUUsRUFBRXVDLENBQUMsQ0FBQ3ZDO1VBQUcsQ0FBQyxDQUFDLENBQUM7VUFDckYsT0FBTztZQUFFQztVQUFLLENBQUM7UUFDakI7UUFDQSxJQUFJWCxDQUFDLENBQUNJLFVBQVUsQ0FBQyxnQ0FBZ0MsQ0FBQyxFQUFFO1VBQ2xELE1BQU0sQ0FBQ3lDLFFBQVEsRUFBRUMsUUFBUSxFQUFFSSxTQUFTLENBQUMsR0FBR25ELE1BQU07VUFDOUMsTUFBTTBDLEdBQUcsR0FBR3JELEdBQUcsQ0FBQ0ssU0FBUyxDQUFDMEIsSUFBSSxDQUFDOEIsQ0FBQyxJQUFJQSxDQUFDLENBQUNOLFVBQVUsS0FBS08sU0FBUyxDQUFDO1VBQy9ELElBQUlULEdBQUcsRUFBRTtZQUNQQSxHQUFHLENBQUNJLFFBQVEsR0FBR2xCLE1BQU0sQ0FBQ2tCLFFBQVEsQ0FBQztZQUMvQkosR0FBRyxDQUFDSyxRQUFRLEdBQUdBLFFBQVEsSUFBSSxJQUFJO1lBQy9CLE9BQU87Y0FBRW5DLElBQUksRUFBRSxDQUFDO2dCQUFFRCxFQUFFLEVBQUUrQixHQUFHLENBQUMvQixFQUFFO2dCQUFFaUMsVUFBVSxFQUFFRixHQUFHLENBQUNFLFVBQVU7Z0JBQUVFLFFBQVEsRUFBRUosR0FBRyxDQUFDSSxRQUFRO2dCQUFFQyxRQUFRLEVBQUVMLEdBQUcsQ0FBQ0s7Y0FBUyxDQUFDO1lBQUUsQ0FBQztVQUMvRztVQUNBLE9BQU87WUFBRW5DLElBQUksRUFBRTtVQUFHLENBQUM7UUFDckI7UUFDQSxJQUFJWCxDQUFDLENBQUNJLFVBQVUsQ0FBQyx1REFBdUQsQ0FBQyxFQUFFO1VBQ3pFLE1BQU0sQ0FBQzhDLFNBQVMsRUFBRUwsUUFBUSxFQUFFQyxRQUFRLENBQUMsR0FBRy9DLE1BQU07VUFDOUMsTUFBTVcsRUFBRSxHQUFHLEVBQUV0QixHQUFHLENBQUNTLEdBQUcsQ0FBQ0osU0FBUztVQUM5QixNQUFNZ0QsR0FBRyxHQUFHO1lBQUUvQixFQUFFO1lBQUVpQyxVQUFVLEVBQUVPLFNBQVM7WUFBRUwsUUFBUSxFQUFFbEIsTUFBTSxDQUFDa0IsUUFBUSxDQUFDO1lBQUVDLFFBQVEsRUFBRUEsUUFBUSxJQUFJO1VBQUssQ0FBQztVQUNqRzFELEdBQUcsQ0FBQ0ssU0FBUyxDQUFDeUIsSUFBSSxDQUFDdUIsR0FBRyxDQUFDO1VBQ3ZCLE9BQU87WUFBRTlCLElBQUksRUFBRSxDQUFDOEIsR0FBRztVQUFFLENBQUM7UUFDeEI7UUFDQSxJQUFJekMsQ0FBQyxDQUFDSSxVQUFVLENBQUMsb0VBQW9FLENBQUMsRUFBRTtVQUN0RixNQUFNaUIsS0FBSyxHQUFHdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7VUFDN0IsTUFBTXVCLE1BQU0sR0FBR3ZCLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1VBQzdCLE1BQU1ZLElBQUksR0FBR3ZCLEdBQUcsQ0FBQ00sVUFBVSxDQUFDNkIsS0FBSyxDQUFDRCxNQUFNLEVBQUVBLE1BQU0sR0FBR0QsS0FBSyxDQUFDO1VBQ3pELE9BQU87WUFBRVY7VUFBSyxDQUFDO1FBQ2pCO1FBQ0EsSUFBSVgsQ0FBQyxDQUFDSSxVQUFVLENBQUMsK0NBQStDLENBQUMsRUFBRTtVQUNqRSxNQUFNLENBQUMrQyxPQUFPLEVBQUVoQixNQUFNLEVBQUVpQixHQUFHLENBQUMsR0FBR3JELE1BQU07VUFDckMsTUFBTVcsRUFBRSxHQUFHLEVBQUV0QixHQUFHLENBQUNTLEdBQUcsQ0FBQ0gsVUFBVTtVQUMvQixNQUFNMkQsQ0FBQyxHQUFHO1lBQUUzQyxFQUFFO1lBQUU0QyxRQUFRLEVBQUVILE9BQU87WUFBRWhCLE1BQU07WUFBRWlCLEdBQUcsRUFBRUEsR0FBRyxJQUFJO1VBQUssQ0FBQztVQUM3RGhFLEdBQUcsQ0FBQ00sVUFBVSxDQUFDd0IsSUFBSSxDQUFDbUMsQ0FBQyxDQUFDO1VBQ3RCLE9BQU87WUFBRTFDLElBQUksRUFBRSxDQUFDMEMsQ0FBQztVQUFFLENBQUM7UUFDdEI7UUFDQSxJQUFJckQsQ0FBQyxDQUFDSSxVQUFVLENBQUMsNkVBQTZFLENBQUMsRUFBRTtVQUMvRixNQUFNaUIsS0FBSyxHQUFHdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7VUFDN0IsTUFBTXVCLE1BQU0sR0FBR3ZCLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1VBQzdCLE1BQU1ZLElBQUksR0FBR3ZCLEdBQUcsQ0FBQ08sUUFBUSxDQUFDNEIsS0FBSyxDQUFDRCxNQUFNLEVBQUVBLE1BQU0sR0FBR0QsS0FBSyxDQUFDO1VBQ3ZELE9BQU87WUFBRVY7VUFBSyxDQUFDO1FBQ2pCO1FBQ0EsSUFBSVgsQ0FBQyxDQUFDSSxVQUFVLENBQUMsd0RBQXdELENBQUMsRUFBRTtVQUMxRSxNQUFNLENBQUMrQyxPQUFPLEVBQUVqQixNQUFNLEVBQUVxQixNQUFNLEVBQUVwQixNQUFNLENBQUMsR0FBR3BDLE1BQU07VUFDaEQsTUFBTVcsRUFBRSxHQUFHLEVBQUV0QixHQUFHLENBQUNTLEdBQUcsQ0FBQ0YsUUFBUTtVQUM3QixNQUFNNkIsQ0FBQyxHQUFHO1lBQUVkLEVBQUU7WUFBRTRDLFFBQVEsRUFBRUgsT0FBTztZQUFFakIsTUFBTSxFQUFFUCxNQUFNLENBQUNPLE1BQU0sQ0FBQztZQUFFcUIsTUFBTTtZQUFFcEI7VUFBTyxDQUFDO1VBQzNFL0MsR0FBRyxDQUFDTyxRQUFRLENBQUN1QixJQUFJLENBQUNNLENBQUMsQ0FBQztVQUNwQixPQUFPO1lBQUViLElBQUksRUFBRSxDQUFDYSxDQUFDO1VBQUUsQ0FBQztRQUN0QjtRQUNBLElBQUl4QixDQUFDLENBQUNJLFVBQVUsQ0FBQywwQ0FBMEMsQ0FBQyxFQUFFLE9BQU87VUFBRU8sSUFBSSxFQUFFLENBQUM7WUFBRTZDLEtBQUssRUFBRXBFLEdBQUcsQ0FBQ0MsS0FBSyxDQUFDb0U7VUFBTyxDQUFDO1FBQUUsQ0FBQztRQUM1RyxJQUFJekQsQ0FBQyxDQUFDSSxVQUFVLENBQUMsNkNBQTZDLENBQUMsRUFBRSxPQUFPO1VBQUVPLElBQUksRUFBRSxDQUFDO1lBQUU2QyxLQUFLLEVBQUVwRSxHQUFHLENBQUNFLFFBQVEsQ0FBQ21FO1VBQU8sQ0FBQztRQUFFLENBQUM7UUFDbEgsSUFBSXpELENBQUMsQ0FBQ0ksVUFBVSxDQUFDLDJDQUEyQyxDQUFDLEVBQUUsT0FBTztVQUFFTyxJQUFJLEVBQUUsQ0FBQztZQUFFNkMsS0FBSyxFQUFFcEUsR0FBRyxDQUFDRyxNQUFNLENBQUNrRTtVQUFPLENBQUM7UUFBRSxDQUFDO1FBQzlHLElBQUl6RCxDQUFDLENBQUNJLFVBQVUsQ0FBQyw2Q0FBNkMsQ0FBQyxFQUFFLE9BQU87VUFBRU8sSUFBSSxFQUFFLENBQUM7WUFBRTZDLEtBQUssRUFBRXBFLEdBQUcsQ0FBQ08sUUFBUSxDQUFDOEQ7VUFBTyxDQUFDO1FBQUUsQ0FBQztRQUNsSCxJQUFJekQsQ0FBQyxDQUFDSSxVQUFVLENBQUMsc0ZBQXNGLENBQUMsRUFBRTtVQUN4RyxNQUFNaUIsS0FBSyxHQUFHdEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7VUFDN0IsTUFBTXVCLE1BQU0sR0FBR3ZCLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1VBQzdCLE1BQU1ZLElBQUksR0FBR3ZCLEdBQUcsQ0FBQ1EsYUFBYSxDQUFDMkIsS0FBSyxDQUFDRCxNQUFNLEVBQUVBLE1BQU0sR0FBR0QsS0FBSyxDQUFDO1VBQzVELE9BQU87WUFBRVY7VUFBSyxDQUFDO1FBQ2pCO1FBQ0EsSUFBSVgsQ0FBQyxDQUFDSSxVQUFVLENBQUMscURBQXFELENBQUMsRUFBRTtVQUN2RSxNQUFNLENBQUMyQixNQUFNLEVBQUU1QyxPQUFPLEVBQUVnRCxNQUFNLENBQUMsR0FBR3BDLE1BQU07VUFDeEMsTUFBTVcsRUFBRSxHQUFHLEVBQUV0QixHQUFHLENBQUNTLEdBQUcsQ0FBQ0QsYUFBYTtVQUNsQyxNQUFNOEQsQ0FBQyxHQUFHO1lBQUVoRCxFQUFFO1lBQUV1QixPQUFPLEVBQUVGLE1BQU0sSUFBSSxJQUFJO1lBQUU1QyxPQUFPO1lBQUVnRCxNQUFNLEVBQUVBLE1BQU0sSUFBSSxRQUFRO1lBQUV3QixVQUFVLEVBQUUsSUFBSUMsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDO1VBQUUsQ0FBQztVQUNwSHpFLEdBQUcsQ0FBQ1EsYUFBYSxDQUFDc0IsSUFBSSxDQUFDd0MsQ0FBQyxDQUFDO1VBQ3pCLE9BQU87WUFBRS9DLElBQUksRUFBRSxDQUFDK0MsQ0FBQztVQUFFLENBQUM7UUFDdEI7UUFDQSxPQUFPO1VBQUUvQyxJQUFJLEVBQUU7UUFBRyxDQUFDO01BQ3JCO01BQ0EsT0FBTztRQUFFNUI7TUFBTSxDQUFDO0lBQ2xCO0VBQ0Y7QUFDRixDQUFDO0FBQUMsSUFNSStFLGNBQWMsSUFBQUMsSUFBQSxHQUpuQjVHLE1BQU0sQ0FBQztFQUNONkcsU0FBUyxFQUFFLENBQUN6RyxnQkFBZ0IsQ0FBQztFQUM3QjBHLE9BQU8sRUFBRSxDQUFDMUcsZ0JBQWdCO0FBQzVCLENBQUMsQ0FBQyxFQUFBd0csSUFBQSxDQUFBRyxNQUFBLEdBSEYsTUFJTUosY0FBYyxDQUFDLEVBQUUsS0FBQUksTUFBQTtBQUV2QkMsTUFBTSxDQUFDRixPQUFPLEdBQUc7RUFBRUgsY0FBYztFQUFFeEc7QUFBYyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Module","require","Pool","DATABASE_POOL","DatabaseProvider","provide","useFactory","config","cfg","process","env","DATABASE_URL","connectionString","DB_HOST","host","DB_PORT","port","parseInt","DB_USER","user","DB_PASSWORD","password","DB_NAME","database","DB_SSL","ssl","rejectUnauthorized","pool","query","e","console","error","message","mem","users","products","orders","suppliers","inventory","deliveries","payments","notifications","seq","sql","params","s","String","toLowerCase","trim","startsWith","email","found","filter","u","map","id","rows","name","role","hash","salt","password_hash","password_salt","push","find","x","limit","offset","slice","p","price","unit","Number","like","replace","includes","userId","o","user_id","amount","status","total_amount","hasLike","sup","contact","hasWhere","inv","prod","product_id","product_name","quantity","location","r","pid","i","productId","orderId","eta","d","order_id","method","count","length","n","created_at","Date","toISOString","DatabaseModule","_dec","providers","exports","_class","module"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\","sources":["database.module.js"],"sourcesContent":["const { Module } = require('@nestjs/common');\nconst { Pool } = require('pg');\n\nconst DATABASE_POOL = 'DATABASE_POOL';\n\nconst DatabaseProvider = {\n  provide: DATABASE_POOL,\n  useFactory: async () => {\n    require('dotenv').config();\n    const cfg = {};\n    if (process.env.DATABASE_URL) cfg.connectionString = process.env.DATABASE_URL;\n    if (process.env.DB_HOST) cfg.host = process.env.DB_HOST;\n    if (process.env.DB_PORT) cfg.port = parseInt(process.env.DB_PORT, 10);\n    if (process.env.DB_USER) cfg.user = process.env.DB_USER;\n    if (typeof process.env.DB_PASSWORD === 'string') cfg.password = process.env.DB_PASSWORD;\n    if (process.env.DB_NAME) cfg.database = process.env.DB_NAME;\n    if (process.env.DB_SSL === 'true') cfg.ssl = { rejectUnauthorized: false };\n    let pool;\n    try {\n      pool = new Pool(cfg);\n      await pool.query('CREATE TABLE IF NOT EXISTS users (id SERIAL PRIMARY KEY, name TEXT NOT NULL, email TEXT NOT NULL UNIQUE)');\n      await pool.query(\"ALTER TABLE users ADD COLUMN IF NOT EXISTS role TEXT NOT NULL DEFAULT 'customer'\");\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_hash TEXT');\n      await pool.query('ALTER TABLE users ADD COLUMN IF NOT EXISTS password_salt TEXT');\n      await pool.query('CREATE TABLE IF NOT EXISTS products (id SERIAL PRIMARY KEY, name TEXT NOT NULL, price NUMERIC NOT NULL, unit TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS orders (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, total_amount NUMERIC NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS suppliers (id SERIAL PRIMARY KEY, name TEXT NOT NULL, contact TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS inventory (id SERIAL PRIMARY KEY, product_id INTEGER REFERENCES products(id) ON DELETE CASCADE, quantity NUMERIC NOT NULL, location TEXT)');\n      await pool.query('CREATE TABLE IF NOT EXISTS deliveries (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, status TEXT NOT NULL, eta TIMESTAMP NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS payments (id SERIAL PRIMARY KEY, order_id INTEGER REFERENCES orders(id) ON DELETE CASCADE, amount NUMERIC NOT NULL, method TEXT NOT NULL, status TEXT NOT NULL)');\n      await pool.query('CREATE TABLE IF NOT EXISTS notifications (id SERIAL PRIMARY KEY, user_id INTEGER REFERENCES users(id) ON DELETE SET NULL, message TEXT NOT NULL, status TEXT NOT NULL, created_at TIMESTAMP NOT NULL DEFAULT NOW())');\n      return pool;\n    } catch (e) {\n      console.error('Database initialization failed:', e && e.message ? e.message : e);\n      const mem = {\n        users: [],\n        products: [],\n        orders: [],\n        suppliers: [],\n        inventory: [],\n        deliveries: [],\n        payments: [],\n        notifications: [],\n        seq: { users: 0, products: 0, orders: 0, suppliers: 0, inventory: 0, deliveries: 0, payments: 0, notifications: 0 }\n      };\n      async function query(sql, params = []) {\n        const s = String(sql).toLowerCase().trim();\n        if (s.startsWith('select id from users where email=')) {\n          const email = params[0];\n          const found = mem.users.filter(u => u.email === email).map(u => ({ id: u.id }));\n          return { rows: found };\n        }\n        if (s.startsWith('insert into users(name, email, role, password_hash, password_salt)')) {\n          const [name, email, role, hash, salt] = params;\n          const id = ++mem.seq.users;\n          const u = { id, name, email, role, password_hash: hash || null, password_salt: salt || null };\n          mem.users.push(u);\n          return { rows: [{ id: u.id, name: u.name, email: u.email, role: u.role }] };\n        }\n        if (s.startsWith('select id, name, email, role, password_hash, password_salt from users where email=')) {\n          const email = params[0];\n          const u = mem.users.find(x => x.email === email);\n          return { rows: u ? [u] : [] };\n        }\n        if (s.startsWith('select id, name, email from users order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.users.slice(offset, offset + limit).map(u => ({ id: u.id, name: u.name, email: u.email }));\n          return { rows };\n        }\n        if (s.startsWith('insert into users(name, email)')) {\n          const [name, email] = params;\n          const id = ++mem.seq.users;\n          const u = { id, name, email, role: 'customer', password_hash: null, password_salt: null };\n          mem.users.push(u);\n          return { rows: [{ id: u.id, name: u.name, email: u.email }] };\n        }\n        if (s.startsWith('select id from products where name=')) {\n          const name = params[0];\n          const found = mem.products.filter(p => p.name === name).map(p => ({ id: p.id }));\n          return { rows: found };\n        }\n        if (s.startsWith('insert into products(name, price, unit)')) {\n          const [name, price, unit] = params;\n          const id = ++mem.seq.products;\n          const p = { id, name, price: Number(price), unit };\n          mem.products.push(p);\n          return { rows: [{ id: p.id, name: p.name, price: p.price, unit: p.unit }] };\n        }\n        if (s.startsWith('select id, name, price, unit from products where lower(name) like')) {\n          const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.products.filter(p => p.name.toLowerCase().includes(like)).slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id, name, price, unit from products order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.products.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.orders.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id, user_id, total_amount, status from orders where user_id=')) {\n          const userId = params[0];\n          const limit = params[1] || 50;\n          const offset = params[2] || 0;\n          const rows = mem.orders.filter(o => o.user_id === userId).slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into orders(user_id, total_amount, status)')) {\n          const [userId, amount, status] = params;\n          const id = ++mem.seq.orders;\n          const o = { id, user_id: userId, total_amount: Number(amount), status };\n          mem.orders.push(o);\n          return { rows: [o] };\n        }\n        if (s.startsWith('select id, name, contact from suppliers where lower(name) like') || s.startsWith('select id, name, contact from suppliers order by id limit')) {\n          const hasLike = s.includes('where');\n          const limit = hasLike ? params[1] || 50 : params[0] || 50;\n          const offset = hasLike ? params[2] || 0 : params[1] || 0;\n          let rows = mem.suppliers;\n          if (hasLike) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(sup => (sup.name || '').toLowerCase().includes(like) || (sup.contact || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into suppliers(name, contact)')) {\n          const [name, contact] = params;\n          const id = ++mem.seq.suppliers;\n          const sup = { id, name, contact: contact || null };\n          mem.suppliers.push(sup);\n          return { rows: [sup] };\n        }\n        if (s.startsWith('select i.id, i.product_id, p.name as product_name, i.quantity, i.location from inventory')) {\n          const hasWhere = s.includes('where');\n          const limit = hasWhere ? params[1] || 50 : params[0] || 50;\n          const offset = hasWhere ? params[2] || 0 : params[1] || 0;\n          let rows = mem.inventory.map(inv => {\n            const prod = mem.products.find(p => p.id === inv.product_id);\n            return { id: inv.id, product_id: inv.product_id, product_name: prod ? prod.name : null, quantity: inv.quantity, location: inv.location };\n          });\n          if (hasWhere) {\n            const like = String(params[0] || '').toLowerCase().replace(/%/g, '');\n            rows = rows.filter(r => (r.product_name || '').toLowerCase().includes(like) || (r.location || '').toLowerCase().includes(like));\n          }\n          rows = rows.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('select id from inventory where product_id=')) {\n          const pid = params[0];\n          const rows = mem.inventory.filter(i => i.product_id === pid).map(i => ({ id: i.id }));\n          return { rows };\n        }\n        if (s.startsWith('update inventory set quantity=')) {\n          const [quantity, location, productId] = params;\n          const inv = mem.inventory.find(i => i.product_id === productId);\n          if (inv) {\n            inv.quantity = Number(quantity);\n            inv.location = location || null;\n            return { rows: [{ id: inv.id, product_id: inv.product_id, quantity: inv.quantity, location: inv.location }] };\n          }\n          return { rows: [] };\n        }\n        if (s.startsWith('insert into inventory(product_id, quantity, location)')) {\n          const [productId, quantity, location] = params;\n          const id = ++mem.seq.inventory;\n          const inv = { id, product_id: productId, quantity: Number(quantity), location: location || null };\n          mem.inventory.push(inv);\n          return { rows: [inv] };\n        }\n        if (s.startsWith('select id, order_id, status, eta from deliveries order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.deliveries.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into deliveries(order_id, status, eta)')) {\n          const [orderId, status, eta] = params;\n          const id = ++mem.seq.deliveries;\n          const d = { id, order_id: orderId, status, eta: eta || null };\n          mem.deliveries.push(d);\n          return { rows: [d] };\n        }\n        if (s.startsWith('select id, order_id, amount, method, status from payments order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.payments.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into payments(order_id, amount, method, status)')) {\n          const [orderId, amount, method, status] = params;\n          const id = ++mem.seq.payments;\n          const p = { id, order_id: orderId, amount: Number(amount), method, status };\n          mem.payments.push(p);\n          return { rows: [p] };\n        }\n        if (s.startsWith('select count(*)::int as count from users')) return { rows: [{ count: mem.users.length }] };\n        if (s.startsWith('select count(*)::int as count from products')) return { rows: [{ count: mem.products.length }] };\n        if (s.startsWith('select count(*)::int as count from orders')) return { rows: [{ count: mem.orders.length }] };\n        if (s.startsWith('select count(*)::int as count from payments')) return { rows: [{ count: mem.payments.length }] };\n        if (s.startsWith('select id, user_id, message, status, created_at from notifications order by id limit')) {\n          const limit = params[0] || 50;\n          const offset = params[1] || 0;\n          const rows = mem.notifications.slice(offset, offset + limit);\n          return { rows };\n        }\n        if (s.startsWith('insert into notifications(user_id, message, status)')) {\n          const [userId, message, status] = params;\n          const id = ++mem.seq.notifications;\n          const n = { id, user_id: userId || null, message, status: status || 'queued', created_at: new Date().toISOString() };\n          mem.notifications.push(n);\n          return { rows: [n] };\n        }\n        return { rows: [] };\n      }\n      return { query };\n    }\n  }\n};\n\n@Module({\n  providers: [DatabaseProvider],\n  exports: [DatabaseProvider]\n})\nclass DatabaseModule {}\n\nmodule.exports = { DatabaseModule, DATABASE_POOL };\n"],"mappings":"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","ignoreList":[]}},"mtime":1765840666134},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\users.module.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _class;\nconst {\n  Module\n} = require('@nestjs/common');\nconst {\n  UsersController\n} = require('./users.controller');\nconst {\n  usersServiceProvider\n} = require('./users.service');\nconst {\n  DatabaseModule\n} = require('../../database.module');\nlet UsersModule = (_dec = Module({\n  imports: [DatabaseModule],\n  controllers: [UsersController],\n  providers: [usersServiceProvider]\n}), _dec(_class = class UsersModule {}) || _class);\nmodule.exports = {\n  UsersModule\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJNb2R1bGUiLCJyZXF1aXJlIiwiVXNlcnNDb250cm9sbGVyIiwidXNlcnNTZXJ2aWNlUHJvdmlkZXIiLCJEYXRhYmFzZU1vZHVsZSIsIlVzZXJzTW9kdWxlIiwiX2RlYyIsImltcG9ydHMiLCJjb250cm9sbGVycyIsInByb3ZpZGVycyIsIl9jbGFzcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxJbXBvcnRhbnQgRG9jdW1lbnRzXFxGU1dEIFByb2plY3RcXHNlcnZlclxcc3JjXFxtb2R1bGVzXFx1c2Vyc1xcIiwic291cmNlcyI6WyJ1c2Vycy5tb2R1bGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBNb2R1bGUgfSA9IHJlcXVpcmUoJ0BuZXN0anMvY29tbW9uJyk7XG5jb25zdCB7IFVzZXJzQ29udHJvbGxlciB9ID0gcmVxdWlyZSgnLi91c2Vycy5jb250cm9sbGVyJyk7XG5jb25zdCB7IHVzZXJzU2VydmljZVByb3ZpZGVyIH0gPSByZXF1aXJlKCcuL3VzZXJzLnNlcnZpY2UnKTtcbmNvbnN0IHsgRGF0YWJhc2VNb2R1bGUgfSA9IHJlcXVpcmUoJy4uLy4uL2RhdGFiYXNlLm1vZHVsZScpO1xuXG5ATW9kdWxlKHtcbiAgaW1wb3J0czogW0RhdGFiYXNlTW9kdWxlXSxcbiAgY29udHJvbGxlcnM6IFtVc2Vyc0NvbnRyb2xsZXJdLFxuICBwcm92aWRlcnM6IFt1c2Vyc1NlcnZpY2VQcm92aWRlcl1cbn0pXG5jbGFzcyBVc2Vyc01vZHVsZSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgVXNlcnNNb2R1bGUgfTtcblxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFNO0VBQUVBO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDNUMsTUFBTTtFQUFFQztBQUFnQixDQUFDLEdBQUdELE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUN6RCxNQUFNO0VBQUVFO0FBQXFCLENBQUMsR0FBR0YsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0FBQzNELE1BQU07RUFBRUc7QUFBZSxDQUFDLEdBQUdILE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUFDLElBT3RESSxXQUFXLElBQUFDLElBQUEsR0FMaEJOLE1BQU0sQ0FBQztFQUNOTyxPQUFPLEVBQUUsQ0FBQ0gsY0FBYyxDQUFDO0VBQ3pCSSxXQUFXLEVBQUUsQ0FBQ04sZUFBZSxDQUFDO0VBQzlCTyxTQUFTLEVBQUUsQ0FBQ04sb0JBQW9CO0FBQ2xDLENBQUMsQ0FBQyxFQUFBRyxJQUFBLENBQUFJLE1BQUEsR0FKRixNQUtNTCxXQUFXLENBQUMsRUFBRSxLQUFBSyxNQUFBO0FBRXBCQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUFFUDtBQUFZLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["Module","require","UsersController","usersServiceProvider","DatabaseModule","UsersModule","_dec","imports","controllers","providers","_class","module","exports"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\modules\\users\\","sources":["users.module.js"],"sourcesContent":["const { Module } = require('@nestjs/common');\nconst { UsersController } = require('./users.controller');\nconst { usersServiceProvider } = require('./users.service');\nconst { DatabaseModule } = require('../../database.module');\n\n@Module({\n  imports: [DatabaseModule],\n  controllers: [UsersController],\n  providers: [usersServiceProvider]\n})\nclass UsersModule {}\n\nmodule.exports = { UsersModule };\n\n"],"mappings":";;;AAAA,MAAM;EAAEA;AAAO,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAC5C,MAAM;EAAEC;AAAgB,CAAC,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AACzD,MAAM;EAAEE;AAAqB,CAAC,GAAGF,OAAO,CAAC,iBAAiB,CAAC;AAC3D,MAAM;EAAEG;AAAe,CAAC,GAAGH,OAAO,CAAC,uBAAuB,CAAC;AAAC,IAOtDI,WAAW,IAAAC,IAAA,GALhBN,MAAM,CAAC;EACNO,OAAO,EAAE,CAACH,cAAc,CAAC;EACzBI,WAAW,EAAE,CAACN,eAAe,CAAC;EAC9BO,SAAS,EAAE,CAACN,oBAAoB;AAClC,CAAC,CAAC,EAAAG,IAAA,CAAAI,MAAA,GAJF,MAKML,WAAW,CAAC,EAAE,KAAAK,MAAA;AAEpBC,MAAM,CAACC,OAAO,GAAG;EAAEP;AAAY,CAAC","ignoreList":[]}},"mtime":1765202646223},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"filename\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\src\\\\modules\\\\users\\\\users.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-decorators\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]}},\"options\":{\"legacy\":true},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":true},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"D:\\\\Important Documents\\\\FSWD Project\\\\server\\\\node_modules\\\\@babel\\\\preset-env\\\\lib\\\\index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.28.5:development":{"value":{"code":"\"use strict\";\n\nvar _dec, _dec2, _dec3, _dec4, _class, _class2, _descriptor;\nfunction _initializerDefineProperty(e, i, r, l) { r && Object.defineProperty(e, i, { enumerable: r.enumerable, configurable: r.configurable, writable: r.writable, value: r.initializer ? r.initializer.call(l) : void 0 }); }\nfunction _applyDecoratedDescriptor(i, e, r, n, l) { var a = {}; return Object.keys(n).forEach(function (i) { a[i] = n[i]; }), a.enumerable = !!a.enumerable, a.configurable = !!a.configurable, (\"value\" in a || a.initializer) && (a.writable = !0), a = r.slice().reverse().reduce(function (r, n) { return n(i, e, r) || r; }, a), l && void 0 !== a.initializer && (a.value = a.initializer ? a.initializer.call(l) : void 0, a.initializer = void 0), void 0 === a.initializer ? (Object.defineProperty(i, e, a), null) : a; }\nfunction _initializerWarningHelper(r, e) { throw Error(\"Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.\"); }\nconst {\n  Controller,\n  Get,\n  Post,\n  Body,\n  Inject\n} = require('@nestjs/common');\nlet UsersController = (_dec = Controller('users'), _dec2 = Inject('USERS_SERVICE'), _dec3 = Get(), _dec4 = Post(), _dec(_class = (_class2 = class UsersController {\n  constructor() {\n    _initializerDefineProperty(this, \"usersService\", _descriptor, this);\n  }\n  async findAll() {\n    return this.usersService.findAll();\n  }\n  async create(@Body()\n  dto) {\n    return this.usersService.create(dto);\n  }\n}, _descriptor = _applyDecoratedDescriptor(_class2.prototype, \"usersService\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class2.prototype, \"findAll\", [_dec3], Object.getOwnPropertyDescriptor(_class2.prototype, \"findAll\"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, \"create\", [_dec4], Object.getOwnPropertyDescriptor(_class2.prototype, \"create\"), _class2.prototype), _class2)) || _class);\nmodule.exports = {\n  UsersController\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb250cm9sbGVyIiwiR2V0IiwiUG9zdCIsIkJvZHkiLCJJbmplY3QiLCJyZXF1aXJlIiwiVXNlcnNDb250cm9sbGVyIiwiX2RlYyIsIl9kZWMyIiwiX2RlYzMiLCJfZGVjNCIsIl9jbGFzcyIsIl9jbGFzczIiLCJjb25zdHJ1Y3RvciIsIl9pbml0aWFsaXplckRlZmluZVByb3BlcnR5IiwiX2Rlc2NyaXB0b3IiLCJmaW5kQWxsIiwidXNlcnNTZXJ2aWNlIiwiY3JlYXRlIiwiZHRvIiwiX2FwcGx5RGVjb3JhdGVkRGVzY3JpcHRvciIsInByb3RvdHlwZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImluaXRpYWxpemVyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXEltcG9ydGFudCBEb2N1bWVudHNcXEZTV0QgUHJvamVjdFxcc2VydmVyXFxzcmNcXG1vZHVsZXNcXHVzZXJzXFwiLCJzb3VyY2VzIjpbInVzZXJzLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBDb250cm9sbGVyLCBHZXQsIFBvc3QsIEJvZHksIEluamVjdCB9ID0gcmVxdWlyZSgnQG5lc3Rqcy9jb21tb24nKTtcblxuQENvbnRyb2xsZXIoJ3VzZXJzJylcbmNsYXNzIFVzZXJzQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cbiAgQEluamVjdCgnVVNFUlNfU0VSVklDRScpIHVzZXJzU2VydmljZTtcblxuICBAR2V0KClcbiAgYXN5bmMgZmluZEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy51c2Vyc1NlcnZpY2UuZmluZEFsbCgpO1xuICB9XG5cbiAgQFBvc3QoKVxuICBhc3luYyBjcmVhdGUoQEJvZHkoKSBkdG8pIHsgcmV0dXJuIHRoaXMudXNlcnNTZXJ2aWNlLmNyZWF0ZShkdG8pOyB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBVc2Vyc0NvbnRyb2xsZXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTTtFQUFFQSxVQUFVO0VBQUVDLEdBQUc7RUFBRUMsSUFBSTtFQUFFQyxJQUFJO0VBQUVDO0FBQU8sQ0FBQyxHQUFHQyxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFBQyxJQUdwRUMsZUFBZSxJQUFBQyxJQUFBLEdBRHBCUCxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUFRLEtBQUEsR0FHakJKLE1BQU0sQ0FBQyxlQUFlLENBQUMsRUFBQUssS0FBQSxHQUV2QlIsR0FBRyxDQUFDLENBQUMsRUFBQVMsS0FBQSxHQUtMUixJQUFJLENBQUMsQ0FBQyxFQUFBSyxJQUFBLENBQUFJLE1BQUEsSUFBQUMsT0FBQSxHQVZULE1BQ01OLGVBQWUsQ0FBQztFQUNwQk8sV0FBV0EsQ0FBQSxFQUFHO0lBQUFDLDBCQUFBLHVCQUFBQyxXQUFBO0VBQUM7RUFHZixNQUNNQyxPQUFPQSxDQUFBLEVBQUc7SUFDZCxPQUFPLElBQUksQ0FBQ0MsWUFBWSxDQUFDRCxPQUFPLENBQUMsQ0FBQztFQUNwQztFQUVBLE1BQ01FLE1BQU1BLENBQUMsQ0FBQ2YsSUFBSSxDQUFDO0VBQU5nQixHQUFXLEVBQUU7SUFBRSxPQUFPLElBQUksQ0FBQ0YsWUFBWSxDQUFDQyxNQUFNLENBQUNDLEdBQUcsQ0FBQztFQUFFO0FBQ3BFLENBQUMsRUFBQUosV0FBQSxHQUFBSyx5QkFBQSxDQUFBUixPQUFBLENBQUFTLFNBQUEsbUJBQUFiLEtBQUE7RUFBQWMsWUFBQTtFQUFBQyxVQUFBO0VBQUFDLFFBQUE7RUFBQUMsV0FBQTtBQUFBLElBQUFMLHlCQUFBLENBQUFSLE9BQUEsQ0FBQVMsU0FBQSxjQUFBWixLQUFBLEdBQUFpQixNQUFBLENBQUFDLHdCQUFBLENBQUFmLE9BQUEsQ0FBQVMsU0FBQSxjQUFBVCxPQUFBLENBQUFTLFNBQUEsR0FBQUQseUJBQUEsQ0FBQVIsT0FBQSxDQUFBUyxTQUFBLGFBQUFYLEtBQUEsR0FBQWdCLE1BQUEsQ0FBQUMsd0JBQUEsQ0FBQWYsT0FBQSxDQUFBUyxTQUFBLGFBQUFULE9BQUEsQ0FBQVMsU0FBQSxHQUFBVCxPQUFBLE1BQUFELE1BQUE7QUFFRGlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO0VBQUV2QjtBQUFnQixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["Controller","Get","Post","Body","Inject","require","UsersController","_dec","_dec2","_dec3","_dec4","_class","_class2","constructor","_initializerDefineProperty","_descriptor","findAll","usersService","create","dto","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","Object","getOwnPropertyDescriptor","module","exports"],"sourceRoot":"D:\\Important Documents\\FSWD Project\\server\\src\\modules\\users\\","sources":["users.controller.js"],"sourcesContent":["const { Controller, Get, Post, Body, Inject } = require('@nestjs/common');\n\n@Controller('users')\nclass UsersController {\n  constructor() {}\n  @Inject('USERS_SERVICE') usersService;\n\n  @Get()\n  async findAll() {\n    return this.usersService.findAll();\n  }\n\n  @Post()\n  async create(@Body() dto) { return this.usersService.create(dto); }\n}\n\nmodule.exports = { UsersController };\n"],"mappings":";;;;;;AAAA,MAAM;EAAEA,UAAU;EAAEC,GAAG;EAAEC,IAAI;EAAEC,IAAI;EAAEC;AAAO,CAAC,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AAAC,IAGpEC,eAAe,IAAAC,IAAA,GADpBP,UAAU,CAAC,OAAO,CAAC,EAAAQ,KAAA,GAGjBJ,MAAM,CAAC,eAAe,CAAC,EAAAK,KAAA,GAEvBR,GAAG,CAAC,CAAC,EAAAS,KAAA,GAKLR,IAAI,CAAC,CAAC,EAAAK,IAAA,CAAAI,MAAA,IAAAC,OAAA,GAVT,MACMN,eAAe,CAAC;EACpBO,WAAWA,CAAA,EAAG;IAAAC,0BAAA,uBAAAC,WAAA;EAAC;EAGf,MACMC,OAAOA,CAAA,EAAG;IACd,OAAO,IAAI,CAACC,YAAY,CAACD,OAAO,CAAC,CAAC;EACpC;EAEA,MACME,MAAMA,CAAC,CAACf,IAAI,CAAC;EAANgB,GAAW,EAAE;IAAE,OAAO,IAAI,CAACF,YAAY,CAACC,MAAM,CAACC,GAAG,CAAC;EAAE;AACpE,CAAC,EAAAJ,WAAA,GAAAK,yBAAA,CAAAR,OAAA,CAAAS,SAAA,mBAAAb,KAAA;EAAAc,YAAA;EAAAC,UAAA;EAAAC,QAAA;EAAAC,WAAA;AAAA,IAAAL,yBAAA,CAAAR,OAAA,CAAAS,SAAA,cAAAZ,KAAA,GAAAiB,MAAA,CAAAC,wBAAA,CAAAf,OAAA,CAAAS,SAAA,cAAAT,OAAA,CAAAS,SAAA,GAAAD,yBAAA,CAAAR,OAAA,CAAAS,SAAA,aAAAX,KAAA,GAAAgB,MAAA,CAAAC,wBAAA,CAAAf,OAAA,CAAAS,SAAA,aAAAT,OAAA,CAAAS,SAAA,GAAAT,OAAA,MAAAD,MAAA;AAEDiB,MAAM,CAACC,OAAO,GAAG;EAAEvB;AAAgB,CAAC","ignoreList":[]}},"mtime":1765301340119}}